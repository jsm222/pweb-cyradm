+function(a,g){"function"===typeof define&&define.amd?define(["jquery","../slick.core"],g):(a.Slick.Plugins=a.Slick.Plugins||{},a.Slick.Plugins.HeaderMenu=g(a.jQuery,a.Slick))}(this,function(a,g){return function(d){function l(k){b&&b[0]!=k.target&&!a.contains(b[0],k.target)&&q()}function q(){b&&(b.remove(),b=null,p.removeClass("slick-header-column-active"))}function t(k,e){var c=e.column,b=c.header&&c.header.menu;b&&(c=a("\x3cdiv\x3e\x3c/div\x3e").addClass("slick-header-menubutton").data("column",
c).data("menu",b),d.buttonCssClass&&c.addClass(d.buttonCssClass),d.buttonImage&&c.css("background-image","url("+d.buttonImage+")"),b.tooltip&&c.attr("title",b.tooltip),c.bind("click",u).appendTo(e.node))}function v(b,e){var c=e.column;c.header&&c.header.menu&&a(e.node).find(".slick-header-menubutton").remove()}function u(k){var e=a(this),c=e.data("menu"),g=e.data("column");if(0!=m.onBeforeMenuShow.notify({grid:h,column:g,menu:c},k,m)){b||(b=a("\x3cdiv class\x3d'slick-header-menu'\x3e\x3c/div\x3e").appendTo(h.getContainerNode()));
b.empty();for(var d=0;d<c.items.length;d++){var f=c.items[d],n=a("\x3cdiv class\x3d'slick-header-menuitem'\x3e\x3c/div\x3e").data("command",f.command||"").data("column",g).data("item",f).bind("click",w).appendTo(b);f.disabled&&n.addClass("slick-header-menuitem-disabled");f.tooltip&&n.attr("title",f.tooltip);var l=a("\x3cdiv class\x3d'slick-header-menuicon'\x3e\x3c/div\x3e").appendTo(n);f.iconCssClass&&l.addClass(f.iconCssClass);f.iconImage&&l.css("background-image","url("+f.iconImage+")");a("\x3cspan class\x3d'slick-header-menucontent'\x3e\x3c/span\x3e").text(f.title).appendTo(n)}b.offset({top:a(this).offset().top+
a(this).height(),left:a(this).offset().left});p=e.closest(".slick-header-column");p.addClass("slick-header-column-active");k.preventDefault();k.stopPropagation()}}function w(b){var e=a(this).data("command"),c=a(this).data("column"),d=a(this).data("item");d.disabled||(q(),null!=e&&""!=e&&m.onCommand.notify({grid:h,column:c,command:e,item:d},b,m),b.preventDefault(),b.stopPropagation())}var h,m=this,r=new g.EventHandler,x={buttonCssClass:null,buttonImage:null},b,p;a.extend(this,{init:function(b){d=a.extend(!0,
{},x,d);h=b;r.subscribe(h.onHeaderCellRendered,t).subscribe(h.onBeforeHeaderCellDestroy,v);h.setColumns(h.getColumns());a(document.body).bind("mousedown",l)},destroy:function(){r.unsubscribeAll();a(document.body).unbind("mousedown",l)},onBeforeMenuShow:new g.Event,onCommand:new g.Event})}});