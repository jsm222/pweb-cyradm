+function(e,c){"function"===typeof define&&define.amd?define(["jquery","../slick.core"],c):e.Slick.RowMoveManager=c(e.jQuery,e.Slick)}(this,function(e,c){return function(h){function n(a,b){a.stopImmediatePropagation()}function p(k,b){var d=a.getCellFromEvent(k);h.cancelEditOnDrag&&a.getEditorLock().isActive()&&a.getEditorLock().cancelCurrentEdit();if(a.getEditorLock().isActive()||!/move|selectAndMove/.test(a.getColumns()[d.cell].behavior))return!1;g=!0;k.stopImmediatePropagation();var c=a.getSelectedRows();
if(0==c.length||-1==e.inArray(d.row,c))c=[d.row],a.setSelectedRows(c);d=a.getOptions().rowHeight;b.selectedRows=c;b.selectionProxy=e("\x3cdiv class\x3d'slick-reorder-proxy'/\x3e").css("position","absolute").css("zIndex","99999").css("width",e(f).innerWidth()).css("height",d*c.length).appendTo(f);b.guide=e("\x3cdiv class\x3d'slick-reorder-guide'/\x3e").css("position","absolute").css("zIndex","99998").css("width",e(f).innerWidth()).css("top",-1E3).appendTo(f);b.insertBefore=-1}function q(c,b){if(g){c.stopImmediatePropagation();
var d=c.pageY-e(f).offset().top;b.selectionProxy.css("top",d-5);d=Math.max(0,Math.min(Math.round(d/a.getOptions().rowHeight),a.getDataLength()));d!==b.insertBefore&&(!1===l.onBeforeMoveRows.notify({rows:b.selectedRows,insertBefore:d})?(b.guide.css("top",-1E3),b.canMove=!1):(b.guide.css("top",d*a.getOptions().rowHeight),b.canMove=!0),b.insertBefore=d)}}function r(a,b){g&&(g=!1,a.stopImmediatePropagation(),b.guide.remove(),b.selectionProxy.remove(),b.canMove&&l.onMoveRows.notify({rows:b.selectedRows,
insertBefore:b.insertBefore}))}var a,f,g,l=this,m=new c.EventHandler,t={cancelEditOnDrag:!1};e.extend(this,{onBeforeMoveRows:new c.Event,onMoveRows:new c.Event,init:function(c){h=e.extend(!0,{},t,h);a=c;f=a.getCanvasNode();m.subscribe(a.onDragInit,n).subscribe(a.onDragStart,p).subscribe(a.onDrag,q).subscribe(a.onDragEnd,r)},destroy:function(){m.unsubscribeAll()}})}});