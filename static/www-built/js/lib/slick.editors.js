(function(d,c){"function"===typeof define&&define.amd?define(["jquery","select2"],c):d.Slick.Editors=c(d.jQuery)})(this,function(d){return{Text:function(c){var a,b;this.init=function(){a=d("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e").appendTo(c.container).bind("keydown.nav",function(a){a.keyCode!==d.ui.keyCode.LEFT&&a.keyCode!==d.ui.keyCode.RIGHT||a.stopImmediatePropagation()}).focus().select()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.getValue=function(){return a.val()};
this.setValue=function(b){a.val(b)};this.loadValue=function(e){b=e[c.column.field]||"";a.val(b);a[0].defaultValue=b;a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,b){a[c.column.field]=b};this.isValueChanged=function(){return!(""==a.val()&&null==b)&&a.val()!=b};this.validate=function(){if(c.column.validator){var b=c.column.validator(a.val());if(!b.valid)return b}return{valid:!0,msg:null}};this.init()},Integer:function(c){var a,b;this.init=function(){a=d("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e");
a.bind("keydown.nav",function(a){a.keyCode!==d.ui.keyCode.LEFT&&a.keyCode!==d.ui.keyCode.RIGHT||a.stopImmediatePropagation()});a.appendTo(c.container);a.focus().select()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(e){b=e[c.column.field];a.val(b);a[0].defaultValue=b;a.select()};this.serializeValue=function(){return parseInt(a.val(),10)||null};this.applyValue=function(a,b){a[c.column.field]=b};this.isValueChanged=function(){return!(""==a.val()&&null==
b)&&a.val()!=b};this.validate=function(){return isNaN(a.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}};this.init()},Date:function(c){var a,b,e=!1;this.init=function(){a=d("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e");a.appendTo(c.container);a.focus().select();a.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){e=!0},onClose:function(){e=!1}});a.width(a.width()-18)};this.destroy=function(){d.datepicker.dpDiv.stop(!0,
!0);a.datepicker("hide");a.datepicker("destroy");a.remove()};this.show=function(){e&&d.datepicker.dpDiv.stop(!0,!0).show()};this.hide=function(){e&&d.datepicker.dpDiv.stop(!0,!0).hide()};this.position=function(a){e&&d.datepicker.dpDiv.css("top",a.top+30).css("left",a.left)};this.focus=function(){a.focus()};this.loadValue=function(d){b=d[c.column.field];a.val(b);a[0].defaultValue=b;a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,b){a[c.column.field]=b};this.isValueChanged=
function(){return!(""==a.val()&&null==b)&&a.val()!=b};this.validate=function(){return{valid:!0,msg:null}};this.init()},YesNoSelect:function(c){var a,b;this.init=function(){a=d("\x3cSELECT tabIndex\x3d'0' class\x3d'editor-yesno'\x3e\x3cOPTION value\x3d'yes'\x3eYes\x3c/OPTION\x3e\x3cOPTION value\x3d'no'\x3eNo\x3c/OPTION\x3e\x3c/SELECT\x3e");a.appendTo(c.container);a.focus()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(d){a.val((b=d[c.column.field])?"yes":
"no");a.select()};this.serializeValue=function(){return"yes"==a.val()};this.applyValue=function(a,b){a[c.column.field]=b};this.isValueChanged=function(){return a.val()!=b};this.validate=function(){return{valid:!0,msg:null}};this.init()},SelectOptionEditor:function(c){var a=null,b;this.options=null;this.init=function(){if(void 0!=c.column.seloptions.options)this.options=c.column.seloptions.options,config=c.column.seloptions,a=d('\x3cdiv style\x3d"width:100%;"\x3e'),a.appendTo(c.container),d(c.container).css({height:"auto"}),
sel2config={multiple:config.multiple,placeholder:config.txt,formatResult:function(a){return a[config.displayField]},formatSelection:function(a){return a[config.displayField]},id:function(a){return a[config.valueField]},minimumInputLength:0},sel2config.data=this.options,d(a).select2(sel2config);else{var e=c.column.seloptions.txt;a=d('\x3cdiv style\x3d"width:100%;"\x3e');a.appendTo(c.container);d(c.container).css({height:"auto"});var f=c.column.seloptions.displayName;d(a).select2({multiple:!0,placeholder:e,
displayValue:f,minimumInputLength:1,initSelection:function(b,c){var d=a.select2("val");c(d)},ajax:{url:c.column.seloptions.url,dataType:"json",quietMillis:100,data:function(a,b){return{q:a,page_limit:10,page:b}},results:function(a,b){return{results:a.results,more:10*b<a.total}}},formatResult:function(a){return a[this.displayValue]},formatSelection:function(a){return a[this.displayValue]},id:function(a){return a.id}})}this.destroy=function(){d(a).select2("destroy");a.remove();d(c.container).css("height",
"")};this.focus=function(){a.focus()};this.loadValue=function(e){d(a).select2("data",e[c.column.field]);b=e[c.column.field][c.column.seloptions.valueField]};this.serializeValue=function(){return serializedvalue=a.select2("data")};this.applyValue=function(a,b){a[c.column.field]=b};this.isValueChanged=function(){return d(a).select2("val")!=b};this.validate=function(){return{valid:!0,msg:null}}};this.init()},FileSizeEditor:function(c){var a;this.init=function(){a=d("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e").appendTo(c.container).bind("keydown.nav",
function(a){a.keyCode!==d.ui.keyCode.LEFT&&a.keyCode!==d.ui.keyCode.RIGHT||a.stopImmediatePropagation()}).focus().select()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.getValue=function(){return a.val()};this.setValue=function(b){a.val(b)};this.loadValue=function(b){b=b[c.column.field]||"";b=Number(b);var d=["KB","MB","GB","TB","PB"],f=0;if(0==b)b="0 KB";else{for(;1024<=b;)f++,b/=1024;b=Number(b)+" "+d[f]}a.val(b);a[0].defaultValue=b;a.select();return b};this.serializeValue=
function(){var b=[],c=a.val(),b=c.match(new RegExp(/(^\d+(\.\d+)?)(\s+)?(KB|MB|GB|TB|PB)/i));switch(b[4].toUpperCase()){case "KB":c=Number(1024*b[1]);break;case "MB":c=Number(b[1]*Math.pow(1024,2));break;case "GB":c=Number(b[1]*Math.pow(1024,3));break;case "TB":c=Number(b[1]*Math.pow(1024,4));break;case "PB":c=Number(b[1]*Math.pow(1024,5))}return c=Math.floor(c/1024)};this.applyValue=function(a,d){a[c.column.field]=d};this.isValueChanged=function(){return""!=a.val()&&void 0!=a.val()};this.validate=
function(){if(c.column.validator){var b=c.column.validator(a.val());if(!b.valid)return b}return{valid:!0,msg:null}};this.init()},Checkbox:function(c){var a,b;this.init=function(){a=d("\x3cINPUT type\x3dcheckbox value\x3d'true' class\x3d'editor-checkbox' hideFocus\x3e");a.appendTo(c.container);a.focus()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(d){(b=!!d[c.column.field])?a.attr("checked","checked"):a.removeAttr("checked")};this.serializeValue=function(){return a.attr("checked")?
!0:!1};this.applyValue=function(a,b){a[c.column.field]="checked"==b?!0:!1};this.isValueChanged=function(){return this.serializeValue()!==b};this.validate=function(){return{valid:!0,msg:null}};this.init()},PercentComplete:function(c){var a,b,e;this.init=function(){a=d("\x3cINPUT type\x3dtext class\x3d'editor-percentcomplete' /\x3e");a.width(d(c.container).innerWidth()-25);a.appendTo(c.container);b=d("\x3cdiv class\x3d'editor-percentcomplete-picker' /\x3e").appendTo(c.container);b.append("\x3cdiv class\x3d'editor-percentcomplete-helper'\x3e\x3cdiv class\x3d'editor-percentcomplete-wrapper'\x3e\x3cdiv class\x3d'editor-percentcomplete-slider' /\x3e\x3cdiv class\x3d'editor-percentcomplete-buttons' /\x3e\x3c/div\x3e\x3c/div\x3e");
b.find(".editor-percentcomplete-buttons").append("\x3cbutton val\x3d0\x3eNot started\x3c/button\x3e\x3cbr/\x3e\x3cbutton val\x3d50\x3eIn Progress\x3c/button\x3e\x3cbr/\x3e\x3cbutton val\x3d100\x3eComplete\x3c/button\x3e");a.focus().select();b.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:e,slide:function(b,c){a.val(c.value)}});b.find(".editor-percentcomplete-buttons button").bind("click",function(c){a.val(d(this).attr("val"));b.find(".editor-percentcomplete-slider").slider("value",
d(this).attr("val"))})};this.destroy=function(){a.remove();b.remove()};this.focus=function(){a.focus()};this.loadValue=function(b){a.val(e=b[c.column.field]);a.select()};this.serializeValue=function(){return parseInt(a.val(),10)||0};this.applyValue=function(a,b){a[c.column.field]=b};this.isValueChanged=function(){return!(""==a.val()&&null==e)&&(parseInt(a.val(),10)||0)!=e};this.validate=function(){return isNaN(parseInt(a.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}};
this.init()},LongText:function(c){var a,b,e,f=this;this.init=function(){var e=d("body");b=d("\x3cDIV style\x3d'z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/\x3e").appendTo(e);a=d("\x3cTEXTAREA hidefocus rows\x3d5 style\x3d'backround:white;width:250px;height:80px;border:0;outline:0'\x3e").appendTo(b);d("\x3cDIV style\x3d'text-align:right'\x3e\x3cBUTTON\x3eSave\x3c/BUTTON\x3e\x3cBUTTON\x3eCancel\x3c/BUTTON\x3e\x3c/DIV\x3e").appendTo(b);
b.find("button:first").bind("click",this.save);b.find("button:last").bind("click",this.cancel);a.bind("keydown",this.handleKeyDown);f.position(c.position);a.focus().select()};this.handleKeyDown=function(a){a.which==d.ui.keyCode.ENTER&&a.ctrlKey?f.save():a.which==d.ui.keyCode.ESCAPE?(a.preventDefault(),f.cancel()):a.which==d.ui.keyCode.TAB&&a.shiftKey?(a.preventDefault(),c.grid.navigatePrev()):a.which==d.ui.keyCode.TAB&&(a.preventDefault(),c.grid.navigateNext())};this.save=function(){c.commitChanges()};
this.cancel=function(){a.val(e);c.cancelChanges()};this.hide=function(){b.hide()};this.show=function(){b.show()};this.position=function(a){b.css("top",a.top-5).css("left",a.left-5)};this.destroy=function(){b.remove()};this.focus=function(){a.focus()};this.loadValue=function(b){a.val(e=b[c.column.field]);a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,b){a[c.column.field]=b};this.isValueChanged=function(){return!(""==a.val()&&null==e)&&a.val()!=e};this.validate=
function(){return{valid:!0,msg:null}};this.init()}}});