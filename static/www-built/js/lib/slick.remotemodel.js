(function(g,h){"function"===typeof define&&define.amd?define(["jquery","./slick.core"],h):(g.Slick.Data=g.Slick.Data||{},g.Slick.Data.RemoteModel=h(g.jQuery,g.Slick))})(this,function(g,h){return function(){function l(){for(var a in d)delete d[a];d.length=0}function p(a,e){if(k){k.abort();for(var b=k.fromPage;b<=k.toPage;b++)d[50*b]=void 0}0>a&&(a=0);for(var c=Math.floor(a/50),f=Math.floor(e/50);void 0!==d[50*c]&&c<f;)c++;for(;void 0!==d[50*f]&&c<f;)f--;if(!(c>f||c==f&&void 0!==d[50*c])){for(var h=
0,l=q+"?qtype\x3d"+r+"\x26query\x3d"+t+"\x26start\x3d"+50*c+"\x26limit\x3d"+(50*(f-c)+50),h=m.length,b=0;b<h;b++)m[b]&&void 0!=m[b].sortCol&&(l+="\x26sortname\x3d"+m[b].sortCol.field+"\x26sortorder\x3d"+(m[b].sortAsc?"asc":"desc"));null!=n&&clearTimeout(n);n=setTimeout(function(){for(var b=c;b<=f;b++)d[50*b]=null;u.notify({from:a,to:e});k=g.ajax({url:l,cache:!1,success:w,error:function(){alert("error loading pages "+c+" to "+f)}});k.fromPage=c;k.toPage=f},50)}}function w(a){a=g.parseJSON(a);var e=
a.request.start,b=e+a.results.length+1;d.length=a.request.total;for(var c=0;c<a.results.length;c++)d[e+c]=a.results[c],d[e+c].index=e+c;k=null;v.notify({from:e,to:b})}var q=null,d={length:0},t="",r="",m=null,n=null,k=null,u=new h.Event,v=new h.Event;return{data:d,clear:l,isDataLoaded:function(a,e){for(var b=a;b<=e;b++)if(void 0==d[b]||null==d[b])return!1;return!0},ensureData:p,reloadData:function(a,e){for(var b=a;b<=e;b++)delete d[b];p(a,e)},setSort:function(a){m=a;l()},setSearch:function(a,d){t=
a;r=d;l()},setUrl:function(a){q=a},onDataLoading:u,onDataLoaded:v}}});