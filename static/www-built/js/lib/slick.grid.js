/**
 * @license
 * (c) 2009-2013 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.2
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */

/*

 (c) 2009-2013 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.2

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
(function(f,k){"function"===typeof define&&define.amd?define(["jquery","./slick.core","jquery.event/drag"],k):f.Slick.Grid=k(f.jQuery,f.Slick)})(this,function(f,k){function Da(Da,z,l,d){function Jb(){V||(V=!0,y=parseFloat(f.css(p[0],"width",!0)),Jc(),Kc(u),d.enableTextSelectionOnCells||q.bind("selectstart.ui",function(a){return f(a.target).is("input,textarea")}),ib(),Kb(),Lc(),Lb(),S(),Mc(),p.bind("resize.slickgrid",S),q.bind("scroll",Ea),sa.bind("contextmenu",Nc).bind("click",Oc).delegate(".slick-header-column",
"mouseenter",Pc).delegate(".slick-header-column","mouseleave",Qc),W.bind("scroll",Rc),d.createFooterRow&&X.bind("scroll",Sc),Na.add(jb).bind("keydown",Mb),I.bind("keydown",Mb).bind("click",Tc).bind("dblclick",Uc).bind("contextmenu",Vc).bind("draginit",Wc).bind("dragstart",{distance:3},Xc).bind("drag",Yc).bind("dragend",Zc).delegate(".slick-cell","mouseenter",$c).delegate(".slick-cell","mouseleave",ad),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&
I.bind("mousewheel",bd),cd())}function dd(){kb=p.parents().andSelf().not(":visible");kb.each(function(){var a={},b;for(b in lb)a[b]=this.style[b],this.style[b]=lb[b];Nb.push(a)})}function cd(){kb.each(function(a){a=Nb[a];for(var b in lb)this.style[b]=a[b]})}function Ob(a){for(var b=da.length;0<=b;b--)if(da[b]===a){da[b].destroy&&da[b].destroy();da.splice(b,1);break}}function mb(){for(var a=0,b=0,c=l.length;b<c;b++)a+=l[b].width;a+=O.width;return Math.max(a,y)+1E3}function nb(){for(var a=ta?y-O.width:
y,b=0,c=l.length;c--;)b+=l[c].width;return d.fullWidthRows?Math.max(b,a):b}function ob(a){var b=P;P=nb();P!=b&&(I.width(P),ha.width(P),d.createFooterRow&&ia.width(P),u.width(mb()),Oa=P>y-O.width);var c=P+(ta?O.width:0);Pb.width(c);d.createFooterRow&&Qb.width(c);(P!=b||a)&&pb()}function Kc(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Mc(){for(var a=I[0];(a=a.parentNode)!=document.body&&null!=a;)if(a==q[0]||a.scrollWidth!=
a.clientWidth||a.scrollHeight!=a.clientHeight){var b=f(a);ua=ua?ua.add(b):b;b.bind("scroll."+F,Rb)}}function Kb(){function a(){f(this).addClass("ui-state-hover")}function b(){f(this).removeClass("ui-state-hover")}u.find(".slick-header-column").each(function(){var a=f(this).data("column");a&&m(g.onBeforeHeaderCellDestroy,{node:this,column:a,grid:g})});u.empty();u.width(mb());ha.find(".slick-headerrow-column").each(function(){var a=f(this).data("column");a&&m(g.onBeforeHeaderRowCellDestroy,{node:this,
column:a,grid:g})});ha.empty();d.createFooterRow&&(ia.find(".slick-footerrow-column").each(function(){var a=f(this).data("column");a&&m(g.onBeforeFooterRowCellDestroy,{node:this,column:a})}),ia.empty());for(var c=0;c<l.length;c++){var e=l[c],J=f("\x3cdiv class\x3d'ui-state-default slick-header-column' /\x3e").html("\x3cspan class\x3d'slick-column-name'\x3e"+e.name+"\x3c/span\x3e").width(e.width-ja).attr("id",""+F+e.id).attr("title",e.toolTip||"").data("column",e).addClass(e.headerCssClass||"").appendTo(u);
if(d.enableColumnReorder||e.sortable)J.on("mouseenter",a).on("mouseleave",b);e.sortable&&(J.addClass("slick-header-sortable"),J.append("\x3cspan class\x3d'slick-sort-indicator' /\x3e"));m(g.onHeaderCellRendered,{node:J[0],column:e,grid:g});d.showHeaderRow&&(J=f("\x3cdiv class\x3d'ui-state-default slick-headerrow-column l"+c+" r"+c+"'\x3e\x3c/div\x3e").data("column",e).appendTo(ha),m(g.onHeaderRowCellRendered,{node:J[0],column:e,grid:g}));d.createFooterRow&&d.showFooterRow&&(J=f("\x3cdiv class\x3d'ui-state-default slick-footerrow-column l"+
c+" r"+c+"'\x3e\x3c/div\x3e").data("column",e).appendTo(ia),m(g.onFooterRowCellRendered,{node:J[0],column:e}))}Pa(C);Tb();d.enableColumnReorder&&ed()}function Lc(){u.click(function(a){a.metaKey=a.metaKey||a.ctrlKey;if(!f(a.target).hasClass("slick-resizable-handle")){var b=f(a.target).closest(".slick-header-column");if(b.length&&(b=b.data("column"),b.sortable&&r().commitCurrentEdit())){for(var c=null,e=0;e<C.length;e++)if(C[e].columnId==b.id){c=C[e];c.sortAsc=!c.sortAsc;break}a.metaKey&&d.multiColumnSort?
c&&C.splice(e,1):((a.shiftKey||a.metaKey)&&d.multiColumnSort||(C=[]),c?0==C.length&&C.push(c):(c={columnId:b.id,sortAsc:b.defaultSortAsc},C.push(c)));Pa(C);d.multiColumnSort?m(g.onSort,{multiColumnSort:!0,sortCols:f.map(C,function(a){return{sortCol:l[K[a.columnId]],sortAsc:a.sortAsc}}),grid:g},a):m(g.onSort,{multiColumnSort:!1,sortCol:b,sortAsc:c.sortAsc,grid:g},a)}}})}function ed(){u.filter(":ui-sortable").sortable("destroy");u.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",
tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(a,b){b.placeholder.width(b.helper.outerWidth()-ja);f(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){f(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(r().commitCurrentEdit()){for(var b=u.sortable("toArray"),c=[],e=0;e<b.length;e++)c.push(l[K[b[e].replace(F,"")]]);Ub(c);m(g.onColumnsReordered,{grid:g});a.stopPropagation();
Tb()}else f(this).sortable("cancel")}})}function Tb(){var a,b,c,e,J,Sb,L,k;e=u.children();e.find(".slick-resizable-handle").remove();e.each(function(a,b){l[a].resizable&&(void 0===L&&(L=a),k=a)});void 0!==L&&e.each(function(n,h){n<L||d.forceFitColumns&&n>=k||(f(h),f("\x3cdiv class\x3d'slick-resizable-handle' /\x3e").appendTo(h).bind("dragstart",function(g,L){if(!r().commitCurrentEdit())return!1;c=g.pageX;f(this).parent().addClass("slick-header-column-active");var k=null,h=null;e.each(function(a,b){l[a].previousWidth=
f(b).outerWidth()});if(d.forceFitColumns)for(h=k=0,a=n+1;a<e.length;a++)b=l[a],b.resizable&&(null!==h&&(h=b.maxWidth?h+(b.maxWidth-b.previousWidth):null),k+=b.previousWidth-Math.max(b.minWidth||0,ea));var D=0,m=0;for(a=0;a<=n;a++)b=l[a],b.resizable&&(null!==m&&(m=b.maxWidth?m+(b.maxWidth-b.previousWidth):null),D+=b.previousWidth-Math.max(b.minWidth||0,ea));null===k&&(k=1E5);null===D&&(D=1E5);null===h&&(h=1E5);null===m&&(m=1E5);Sb=c+Math.min(k,m);J=c-Math.min(D,h)}).bind("drag",function(f,g){var L,
k=Math.min(Sb,Math.max(J,f.pageX))-c,h;if(0>k){h=k;for(a=n;0<=a;a--)b=l[a],b.resizable&&(L=Math.max(b.minWidth||0,ea),h&&b.previousWidth+h<L?(h+=b.previousWidth-L,b.width=L):(b.width=b.previousWidth+h,h=0));if(d.forceFitColumns)for(h=-k,a=n+1;a<e.length;a++)b=l[a],b.resizable&&(h&&b.maxWidth&&b.maxWidth-b.previousWidth<h?(h-=b.maxWidth-b.previousWidth,b.width=b.maxWidth):(b.width=b.previousWidth+h,h=0))}else{h=k;for(a=n;0<=a;a--)b=l[a],b.resizable&&(h&&b.maxWidth&&b.maxWidth-b.previousWidth<h?(h-=
b.maxWidth-b.previousWidth,b.width=b.maxWidth):(b.width=b.previousWidth+h,h=0));if(d.forceFitColumns)for(h=-k,a=n+1;a<e.length;a++)b=l[a],b.resizable&&(L=Math.max(b.minWidth||0,ea),h&&b.previousWidth+h<L?(h+=b.previousWidth-L,b.width=L):(b.width=b.previousWidth+h,h=0))}Vb();d.syncColumnCellResize&&pb()}).bind("dragend",function(c,d){var J;f(this).parent().removeClass("slick-header-column-active");for(a=0;a<e.length;a++)b=l[a],J=f(e[a]).outerWidth(),b.previousWidth!==J&&b.rerenderOnResize&&ka();ob(!0);
M();m(g.onColumnsResized,{grid:g})}))})}function Qa(a){var b=0;f.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,e){b+=parseFloat(a.css(e))||0});return b}function Jc(){var a,b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],e=f.fn.jquery.split(".");Wb=1==e[0]&&8<=e[1]||2<=e[0];a=f("\x3cdiv class\x3d'ui-state-default slick-header-column' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(u);
ja=Xb=0;"border-box"!=a.css("box-sizing")&&"border-box"!=a.css("-moz-box-sizing")&&"border-box"!=a.css("-webkit-box-sizing")&&(f.each(b,function(b,c){ja+=parseFloat(a.css(c))||0}),f.each(c,function(b,c){Xb+=parseFloat(a.css(c))||0}));a.remove();e=f("\x3cdiv class\x3d'slick-row' /\x3e").appendTo(I);a=f("\x3cdiv class\x3d'slick-cell' id\x3d'' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(e);qb=rb=0;"border-box"!=a.css("box-sizing")&&"border-box"!=a.css("-moz-box-sizing")&&"border-box"!=a.css("-webkit-box-sizing")&&
(f.each(b,function(b,c){qb+=parseFloat(a.css(c))||0}),f.each(c,function(b,c){rb+=parseFloat(a.css(c))||0}));e.remove();ea=Math.max(ja,qb)}function Lb(){la=f("\x3cstyle type\x3d'text/css' rel\x3d'stylesheet' /\x3e").appendTo(f("head"));for(var a=["."+F+" .slick-header-column { left: 1000px; }","."+F+" .slick-top-panel { height:"+d.topPanelHeight+"px; }","."+F+" .slick-headerrow-columns { height:"+d.headerRowHeight+"px; }","."+F+" .slick-footerrow-columns { height:"+d.footerRowHeight+"px; }","."+F+
" .slick-cell { height:"+(d.rowHeight-rb)+"px; }","."+F+" .slick-row { height:"+d.rowHeight+"px; }"],b=0;b<l.length;b++)a.push("."+F+" .l"+b+" { }"),a.push("."+F+" .r"+b+" { }");la[0].styleSheet?la[0].styleSheet.cssText=a.join(" "):la[0].appendChild(document.createTextNode(a.join(" ")))}function m(a,b,c){c=c||new k.EventData;b=b||{};b.grid=g;return a.notify(b,c,g)}function r(){return d.editorLock}function sb(){var a,b,c=[],e=0,d=0,f,g=ta?y-O.width:y;for(a=0;a<l.length;a++)b=l[a],c.push(b.width),d+=
b.width,b.resizable&&(e+=b.width-Math.max(b.minWidth,ea));for(f=d;d>g&&e;){var h=(d-g)/e;for(a=0;a<l.length&&d>g;a++){b=l[a];var k=c[a];if(!(!b.resizable||k<=b.minWidth||k<=ea)){b=Math.max(b.minWidth,ea);var n=Math.floor(h*(k-b))||1,n=Math.min(n,k-b),d=d-n,e=e-n;c[a]-=n}}if(f<=d)break;f=d}for(f=d;d<g;){e=g/d;for(a=0;a<l.length&&d<g;a++)b=l[a],h=c[a],b=!b.resizable||b.maxWidth<=h?0:Math.min(Math.floor(e*h)-h,b.maxWidth-h||1E6)||1,d+=b,c[a]+=d<=g?b:0;if(f>=d)break;f=d}d=!1;for(a=0;a<l.length;a++)l[a].rerenderOnResize&&
l[a].width!=c[a]&&(d=!0),l[a].width=c[a];Vb();ob(!0);d&&(ka(),M())}function Vb(){if(V){for(var a,b=0,c=u.children(),e=c.length;b<e;b++)a=f(c[b]),Wb?a.outerWidth()!==l[b].width&&a.outerWidth(l[b].width):a.width()!==l[b].width-ja&&a.width(l[b].width-ja);ib()}}function pb(){for(var a,b,c=0,e,d=0;d<l.length;d++){e=l[d].width;b=d;if(!ma){var f=document.styleSheets;for(a=0;a<f.length;a++)if((f[a].ownerNode||f[a].owningElement)==la[0]){ma=f[a];break}if(!ma)throw Error("Cannot find stylesheet.");tb=[];ub=
[];var f=ma.cssRules||ma.rules,g;for(a=0;a<f.length;a++){var h=f[a].selectorText;if(g=/\.l\d+/.exec(h))g=parseInt(g[0].substr(2,g[0].length-2),10),tb[g]=f[a];else if(g=/\.r\d+/.exec(h))g=parseInt(g[0].substr(2,g[0].length-2),10),ub[g]=f[a]}}a=tb[b];b=ub[b];a.style.left=c+"px";b.style.right=P-c-e+"px";c+=l[d].width}}function Pa(a){C=a;var b=u.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");f.each(C,
function(a,e){null==e.sortAsc&&(e.sortAsc=!0);var d=K[e.columnId];null!=d&&b.eq(d).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(e.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function Yb(a,b){vb=[];for(var c={},e=0;e<b.length;e++)for(var f=b[e].fromRow;f<=b[e].toRow;f++){c[f]||(vb.push(f),c[f]={});for(var h=b[e].fromCell;h<=b[e].toCell;h++)Zb(f,h)&&(c[f][l[h].id]=d.selectedCellCssClass)}$b(d.selectedCellCssClass,c);m(g.onSelectedRowsChanged,{rows:ac(),
grid:g},a)}function ib(){va=[];wa=[];for(var a=0,b=0,c=l.length;b<c;b++)va[b]=a,wa[b]=a+l[b].width,a+=l[b].width}function Ub(a){l=a;K={};for(a=0;a<l.length;a++){var b=l[a]=f.extend({},wb,l[a]);K[b.id]=a;b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth);b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth)}ib();V&&(ka(),Kb(),la.remove(),ma=null,Lb(),S(),pb(),Ea())}function N(){return z.getLength?z.getLength():z.length}function ca(){return N()+(d.enableAddRow?1:0)}function Y(a){return z.getItem?z.getItem(a):
z[a]}function Ra(a){return Math.floor((a+E)/d.rowHeight)}function fa(a){a=Math.max(a,0);a=Math.min(a,Z-v+(Oa?O.height:0));var b=E;xa=Math.min(ya-1,Math.floor(a/za));E=Math.round(xa*Sa);a-=E;if(E!=b){var c=Ta(a);bc(c);for(var e in w)w[e].rowNode.style.top=d.rowHeight*e-E+"px"}Aa!=a&&(na=Aa+b<a+E?1:-1,q[0].scrollTop=Ua=B=Aa=a,m(g.onViewportChanged,{grid:g}))}function Va(a,b){var c=z.getItemMetadata&&z.getItemMetadata(a),e=c&&c.columns&&(c.columns[b.id]||c.columns[K[b.id]]);return e&&e.formatter||c&&
c.formatter||b.formatter||d.formatterFactory&&d.formatterFactory.getFormatter(b)||d.defaultFormatter}function cc(a,b){var c=l[b],e=z.getItemMetadata&&z.getItemMetadata(a);return(e=e&&e.columns)&&e[c.id]&&void 0!==e[c.id].editor?e[c.id].editor:e&&e[b]&&void 0!==e[b].editor?e[b].editor:c.editor||d.editorFactory&&d.editorFactory.getEditor(c)}function Wa(a,b){return d.dataItemColumnValueExtractor?d.dataItemColumnValueExtractor(a,b):a[b.field]}function dc(a,b,c,e,d){var f=l[c],g="slick-cell l"+c+" r"+
Math.min(l.length-1,c+e-1)+(f.cssClass?" "+f.cssClass:"");b===n&&c===x&&(g+=" active");for(var h in Q)Q[h][b]&&Q[h][b][f.id]&&(g+=" "+Q[h][b][f.id]);a.push("\x3cdiv class\x3d'"+g+"'\x3e");d&&(g=Wa(d,f),a.push(Va(b,f)(b,c,g,f,d)));a.push("\x3c/div\x3e");w[b].cellRenderQueue.push(c);w[b].cellColSpans[c]=e}function bc(a){for(var b in w)(b=parseInt(b,10))!==n&&(b<a.top||b>a.bottom)&&Xa(b);d.enableAsyncPostRenderCleanup&&Fa()}function ka(){h&&aa();for(var a in w)Xa(a);d.enableAsyncPostRenderCleanup&&Fa()}
function ec(a,b,c){Ga++;for(var e in b)b.hasOwnProperty(e)&&ga.push({actionType:"C",groupId:Ga,node:a.cellNodesByColumnIdx[e|0],columnIdx:e|0,rowIdx:c});ga.push({actionType:"R",groupId:Ga,node:a.rowNode});f(a.rowNode).detach()}function Xa(a){var b=w[a];b&&(Ya===b.rowNode?(b.rowNode.style.display="none",Ha=Ya,xb=b,Za=G[a]):d.enableAsyncPostRenderCleanup&&G[a]?ec(b,G[a],a):I[0].removeChild(b.rowNode),delete w[a],delete G[a],yb--,fc++)}function gc(a){var b,c;if(a&&a.length){b=na=0;for(c=a.length;b<c;b++)h&&
n===a[b]&&aa(),w[a[b]]&&Xa(a[b]);d.enableAsyncPostRenderCleanup&&Fa()}}function hc(a){gc([a])}function zb(a){var b=w[a];if(b){$a(a);var c=Y(a),e;for(e in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(e)){e|=0;var d=l[e],f=b.cellNodesByColumnIdx[e];a===n&&e===x&&h?h.loadValue(c):f.innerHTML=c?Va(a,d)(a,e,Wa(c,d),d,c):""}Ab(a)}}function S(){V&&(v=d.autoHeight?d.rowHeight*ca():parseFloat(f.css(p[0],"height",!0))-parseFloat(f.css(p[0],"paddingTop",!0))-parseFloat(f.css(p[0],"paddingBottom",
!0))-parseFloat(f.css(sa[0],"height"))-Qa(sa)-(d.showTopPanel?d.topPanelHeight+Qa(oa):0)-(d.showHeaderRow?d.headerRowHeight+Qa(W):0)-(d.createFooterRow&&d.showFooterRow?d.footerRowHeight+Qa(X):0),ab=Math.ceil(v/d.rowHeight),y=parseFloat(f.css(p[0],"width",!0)),d.autoHeight||q.height(v),d.forceFitColumns&&sb(),bb(),Ea(),Ia=-1,M())}function bb(){if(V){var a=ca(),b=a+(d.leaveSpaceForNewRows?ab-1:0),c=ta;ta=!d.autoHeight&&b*d.rowHeight>v;Oa=P>y-O.width;aa();var a=a-1,e;for(e in w)e>a&&Xa(e);d.enableAsyncPostRenderCleanup&&
Fa();t&&n>a&&Bb();e=ba;Z=Math.max(d.rowHeight*b,v-O.height);Z<Ja?(ba=za=Z,ya=1,Sa=0):(ba=Ja,za=ba/100,ya=Math.floor(Z/za),Sa=(Z-ba)/(ya-1));ba!==e&&(I.css("height",ba),B=q[0].scrollTop);b=B+E<=Z-v;0==Z||0==B?xa=E=0:b?fa(B+E):fa(Z-v);ba!=e&&d.autoHeight&&S();d.forceFitColumns&&c!=ta&&sb();ob(!1)}}function Ta(a,b){null==a&&(a=B);null==b&&(b=H);return{top:Ra(a),bottom:Ra(a+v)+1,leftPx:b,rightPx:b+y}}function ic(a,b){var c=Ta(a,b),e=Math.round(v/d.rowHeight);-1==na?(c.top-=e,c.bottom+=3):1==na?(c.top-=
3,c.bottom+=e):(c.top-=3,c.bottom+=3);c.top=Math.max(0,c.top);c.bottom=Math.min(ca()-1,c.bottom);c.leftPx-=y;c.rightPx+=y;c.leftPx=Math.max(0,c.leftPx);c.rightPx=Math.min(P,c.rightPx);return c}function $a(a){if((a=w[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[c]=b;b=b.previousSibling}}function jc(){d.enableAsyncPostRender&&(clearTimeout(Cb),Cb=setTimeout(kc,d.asyncPostRenderDelay))}function Fa(){d.enableAsyncPostRenderCleanup&&
(clearTimeout(Db),Db=setTimeout(lc,d.asyncPostRenderCleanupDelay))}function Ab(a){for(var b in G[a])G[a].hasOwnProperty(b)&&(G[a][b]="C");Ka=Math.min(Ka,a);La=Math.max(La,a);jc()}function M(){if(V){var a=Ta(),b=ic();bc(b);if(Ia!=H){for(var c,e=[],g=[],h,k,m=b.top,p=b.bottom;m<=p;m++)if(c=w[m]){$a(m);var q=b;h=m;var u=0,r=w[h],A=[];k=void 0;for(k in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(k)){k|=0;var v=r.cellColSpans[k];if(va[k]>q.rightPx||wa[Math.min(l.length-1,k+v-1)]<q.leftPx)h==
n&&k==x||A.push(k)}for(Ga++;null!=(q=A.pop());)k=r.cellNodesByColumnIdx[q],d.enableAsyncPostRenderCleanup&&G[h]&&G[h][q]?(ga.push({actionType:"C",groupId:Ga,node:k,columnIdx:q,rowIdx:h}),f(k).detach()):r.rowNode.removeChild(k),delete r.cellColSpans[q],delete r.cellNodesByColumnIdx[q],G[h]&&delete G[h][q],u++;h=0;u=(u=z.getItemMetadata&&z.getItemMetadata(m))&&u.columns;r=Y(m);A=0;for(q=l.length;A<q&&!(va[A]>b.rightPx);A++)null==(k=c.cellColSpans[A])&&(k=1,u&&(k=(k=u[l[A].id]||u[A])&&k.colspan||1,"*"===
k&&(k=q-A)),wa[Math.min(q-1,A+k-1)]>b.leftPx&&(dc(e,m,A,k,r),h++)),A+=1<k?k-1:0;h&&g.push(m)}if(e.length)for(m=document.createElement("div"),m.innerHTML=e.join("");null!=(c=g.pop());)for(c=w[c];null!=(p=c.cellRenderQueue.pop());)e=m.lastChild,c.rowNode.appendChild(e),c.cellNodesByColumnIdx[p]=e}g=I[0];c=[];e=[];m=!1;u=N();p=b.top;for(h=b.bottom;p<=h;p++)if(!w[p]){yb++;e.push(p);w[p]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};r=c;A=p;q=b;v=u;k=Y(A);var D="slick-row"+
(A<v&&!k?" loading":"")+(A===n?" active":"")+(1==A%2?" odd":" even");k||(D+=" "+d.addNewRowCssClass);(v=z.getItemMetadata&&z.getItemMetadata(A))&&v.cssClasses&&(D+=" "+v.cssClasses);r.push("\x3cdiv class\x3d'ui-widget-content "+D+"' style\x3d'top:"+(d.rowHeight*A-E)+"px'\x3e");for(var y,F,D=0,C=l.length;D<C;D++){F=l[D];y=1;v&&v.columns&&(y=(y=v.columns[F.id]||v.columns[D])&&y.colspan||1,"*"===y&&(y=C-D));if(wa[Math.min(C-1,D+y-1)]>q.leftPx){if(va[D]>q.rightPx)break;dc(r,A,D,y,k)}1<y&&(D+=y-1)}r.push("\x3c/div\x3e");
t&&n===p&&(m=!0);mc++}if(e.length){b=document.createElement("div");b.innerHTML=c.join("");p=0;for(h=e.length;p<h;p++)w[e[p]].rowNode=g.appendChild(b.firstChild);m&&(t=R(n,x))}Ka=a.top;La=Math.min(ca()-1,a.bottom);jc();Ua=B;Ia=H;cb=null}}function Rc(){var a=W[0].scrollLeft;a!=q[0].scrollLeft&&(q[0].scrollLeft=a)}function Sc(){var a=X[0].scrollLeft;a!=q[0].scrollLeft&&(q[0].scrollLeft=a)}function Ea(){B=q[0].scrollTop;H=q[0].scrollLeft;var a=Math.abs(B-Aa),b=Math.abs(H-nc);b&&(nc=H,sa[0].scrollLeft=
H,oa[0].scrollLeft=H,W[0].scrollLeft=H,d.createFooterRow&&(X[0].scrollLeft=H));if(a)if(na=Aa<B?1:-1,Aa=B,a<v)fa(B+E);else{var c=E;xa=ba==v?0:Math.min(ya-1,Math.floor((Z-v)/(ba-v)*B*(1/za)));E=Math.round(xa*Sa);c!=E&&ka()}if(b||a)if(cb&&clearTimeout(cb),20<Math.abs(Ua-B)||20<Math.abs(Ia-H))d.forceSyncScrolling||Math.abs(Ua-B)<v&&Math.abs(Ia-H)<y?M():cb=setTimeout(M,50),m(g.onViewportChanged,{grid:g});m(g.onScroll,{scrollLeft:H,scrollTop:B,grid:g})}function kc(){for(var a=N();Ka<=La;){var b=0<=na?Ka++:
La--,c=w[b];if(c&&!(b>=a)){G[b]||(G[b]={});$a(b);for(var e in c.cellNodesByColumnIdx)if(c.cellNodesByColumnIdx.hasOwnProperty(e)){e|=0;var a=l[e],f=G[b][e];if(a.asyncPostRender&&"R"!==f){var g=c.cellNodesByColumnIdx[e];g&&a.asyncPostRender(g,b,Y(b),a,"C"===f);G[b][e]="R"}}Cb=setTimeout(kc,d.asyncPostRenderDelay);break}}}function lc(){if(0<ga.length){for(var a=ga[0].groupId;0<ga.length&&ga[0].groupId==a;){var b=ga.shift();"R"==b.actionType&&f(b.node).remove();if("C"==b.actionType){var c=l[b.columnIdx];
c.asyncPostRenderCleanup&&b.node&&c.asyncPostRenderCleanup(b.node,b.rowIdx,c)}}Db=setTimeout(lc,d.asyncPostRenderCleanupDelay)}}function Eb(a,b){var c,e,d,g,h;for(h in w){g=b&&b[h];d=a&&a[h];if(g)for(e in g)d&&g[e]==d[e]||(c=R(h,K[e]))&&f(c).removeClass(g[e]);if(d)for(e in d)g&&g[e]==d[e]||(c=R(h,K[e]))&&f(c).addClass(d[e])}}function $b(a,b){var c=Q[a];Q[a]=b;Eb(b,c);m(g.onCellCssStylesChanged,{key:a,hash:b,grid:g})}function bd(a){a=f(a.target).closest(".slick-row")[0];a!=Ya&&(Ha&&Ha!=a&&(d.enableAsyncPostRenderCleanup&&
Za?ec(xb,Za):I[0].removeChild(Ha),Za=xb=Ha=null,d.enableAsyncPostRenderCleanup&&Fa()),Ya=a)}function Wc(a,b){var c=Ma(a);if(!c||!Fb(c.row,c.cell))return!1;c=m(g.onDragInit,b,a);return a.isImmediatePropagationStopped()?c:!1}function Xc(a,b){var c=Ma(a);if(!c||!Fb(c.row,c.cell))return!1;c=m(g.onDragStart,b,a);return a.isImmediatePropagationStopped()?c:!1}function Yc(a,b){return m(g.onDrag,b,a)}function Zc(a,b){m(g.onDragEnd,b,a)}function Mb(a){m(g.onKeyDown,{row:n,cell:x,grid:g},a);var b=a.isImmediatePropagationStopped(),
c=k.keyCode;if(!b)if(a.shiftKey||a.altKey||a.ctrlKey)a.which!=c.TAB||!a.shiftKey||a.ctrlKey||a.altKey||(b=oc());else{if(d.editable&&h&&h.keyCaptureList&&-1<h.keyCaptureList.indexOf(a.which))return;if(a.which==c.ESCAPE){if(!r().isActive())return;pc()}else a.which==c.PAGE_DOWN?(qc(),b=!0):a.which==c.PAGE_UP?(rc(),b=!0):a.which==c.LEFT?b=sc():a.which==c.RIGHT?b=tc():a.which==c.UP?b=uc():a.which==c.DOWN?b=db():a.which==c.TAB?b=vc():a.which==c.ENTER&&(d.editable&&(h?n===N()?db():wc():r().commitCurrentEdit()&&
eb()),b=!0)}if(b){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(e){}}}function Tc(a){h||(a.target!=document.activeElement||f(a.target).hasClass("slick-cell"))&&pa();var b=Ma(a);!b||null!==h&&n==b.row&&x==b.cell||(m(g.onClick,{row:b.row,cell:b.cell,grid:g},a),a.isImmediatePropagationStopped()||x==b.cell&&n==b.row||!T(b.row,b.cell)||r().isActive()&&!r().commitCurrentEdit()||(Gb(b.row,!1),qa(R(b.row,b.cell))))}function Vc(a){var b=f(a.target).closest(".slick-cell",I);0!==
b.length&&(t===b[0]&&null!==h||m(g.onContextMenu,{grid:g},a))}function Uc(a){var b=Ma(a);!b||null!==h&&n==b.row&&x==b.cell||(m(g.onDblClick,{row:b.row,cell:b.cell,grid:g},a),a.isImmediatePropagationStopped()||d.editable&&xc(b.row,b.cell,!0))}function Pc(a){m(g.onHeaderMouseEnter,{column:f(this).data("column"),grid:g},a)}function Qc(a){m(g.onHeaderMouseLeave,{column:f(this).data("column"),grid:g},a)}function Nc(a){var b=f(a.target).closest(".slick-header-column",".slick-header-columns"),b=b&&b.data("column");
m(g.onHeaderContextMenu,{column:b,grid:g},a)}function Oc(a){var b=f(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&m(g.onHeaderClick,{column:b,grid:g},a)}function $c(a){m(g.onMouseEnter,{grid:g},a)}function ad(a){m(g.onMouseLeave,{grid:g},a)}function Fb(a,b){return!(0>a||a>=N()||0>b||b>=l.length)}function yc(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function zc(a){for(var b in w)if(w[b].rowNode===
a)return b|0;return null}function Ma(a){var b=f(a.target).closest(".slick-cell",I);if(!b.length)return null;a=zc(b[0].parentNode);b=yc(b[0]);return null==a||null==b?null:{row:a,cell:b}}function Bb(){qa(null,!1)}function pa(){-1==Ac?Na[0].focus():jb[0].focus()}function fb(a,b,c){Gb(a,c);c=ra(a,b);a=va[b];b=wa[b+(1<c?c-1:0)];c=H+y;a<H?(q.scrollLeft(a),Ea(),M()):b>c&&(q.scrollLeft(Math.min(a,b-q[0].clientWidth)),Ea(),M())}function qa(a,b){null!==t&&(aa(),f(t).removeClass("active"),w[n]&&f(w[n].rowNode).removeClass("active"));
var c=t!==a;t=a;null!=t?(n=zc(t.parentNode),x=Ba=yc(t),null==b&&(b=n==N()||d.autoEdit),f(t).addClass("active"),f(w[n].rowNode).addClass("active"),d.editable&&b&&Bc(n,x)&&(clearTimeout(Hb),d.asyncEditorLoading?Hb=setTimeout(function(){eb()},d.asyncEditorLoadDelay):eb())):n=x=null;c&&m(g.onActiveCellChanged,Cc())}function Bc(a,b){var c=N();return a<c&&!Y(a)||l[b].cannotTriggerInsert&&a>=c||!cc(a,b)?!1:!0}function aa(){if(h){m(g.onBeforeCellEditorDestroy,{editor:h,grid:g});h.destroy();h=null;if(t){var a=
Y(n);f(t).removeClass("editable invalid");if(a){var b=l[x],c=Va(n,b);t.innerHTML=c(n,x,Wa(a,b),b,a,g);Ab(n)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else window.getSelection&&(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();r().deactivate(gb)}}function eb(a){if(t){if(!d.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(Hb);
if(Bc(n,x)){var b=l[x],c=Y(n);if(!1===m(g.onBeforeEditCell,{row:n,cell:x,item:c,column:b,grid:g}))pa();else{r().activate(gb);f(t).addClass("editable");var e=a||cc(n,x);a||e.suppressClearOnEdit||(t.innerHTML="");h=new e({grid:g,gridPosition:hb(p[0]),position:hb(t),container:t,column:b,item:c||{},commitChanges:wc,cancelChanges:pc});c&&h.loadValue(c);Dc=h.serializeValue();h.position&&Rb()}}}}function wc(){r().commitCurrentEdit()&&(pa(),d.autoEdit&&db())}function pc(){r().cancelCurrentEdit()&&pa()}function hb(a){var b=
{top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:f(a).outerWidth(),height:f(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var c=a.offsetParent;(a=a.parentNode)!=document.body&&null!=a;)b.visible&&a.scrollHeight!=a.offsetHeight&&"visible"!=f(a).css("overflowY")&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&"visible"!=f(a).css("overflowX")&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),
b.left-=a.scrollLeft,b.top-=a.scrollTop,a===c&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,c=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function Ec(){return hb(t)}function Rb(){if(t&&(m(g.onActiveCellPositionChanged,{grid:g}),h)){var a=Ec();h.show&&h.hide&&(a.visible?h.show():h.hide());h.position&&h.position(a)}}function Cc(){return t?{row:n,cell:x,grid:g}:null}function Gb(a,b){var c=a*d.rowHeight,e=(a+1)*d.rowHeight-v+(Oa?O.height:0);(a+1)*d.rowHeight>B+v+E?(fa(b?c:e),M()):
a*d.rowHeight<B+E&&(fa(b?e:c),M())}function Fc(a){a*=ab;fa((Ra(B)+a)*d.rowHeight);M();if(d.enableCellNavigation&&null!=n){a=n+a;var b=ca();a>=b&&(a=b-1);0>a&&(a=0);for(var b=0,c=null,e=Ba;b<=Ba;)T(a,b)&&(c=b),b+=ra(a,b);null!==c?(qa(R(a,c)),Ba=e):Bb()}}function qc(){Fc(1)}function rc(){Fc(-1)}function ra(a,b){var c=z.getItemMetadata&&z.getItemMetadata(a);if(!c||!c.columns)return 1;c=(c=c.columns[l[b].id]||c.columns[b])&&c.colspan;return c="*"===c?l.length-b:c||1}function Gc(a){for(var b=0;b<l.length;){if(T(a,
b))return b;b+=ra(a,b)}return null}function Ib(a,b,c){if(b>=l.length)return null;do b+=ra(a,b);while(b<l.length&&!T(a,b));return b<l.length?{row:a,cell:b,posX:b}:null}function Hc(a,b,c){if(0>=b)return null;c=Gc(a);if(null===c||c>=b)return null;for(a={row:a,cell:c,posX:c};;){c=Ib(a.row,a.cell,a.posX);if(!c)return null;if(c.cell>=b)return a;a=c}}function fd(a,b,c){for(var e,d=ca();;){if(++a>=d)return null;for(e=b=0;b<=c;)e=b,b+=ra(a,b);if(T(a,e))return{row:a,cell:e,posX:c}}}function gd(a,b,c){for(var e;;){if(0>
--a)return null;for(e=b=0;b<=c;)e=b,b+=ra(a,b);if(T(a,e))return{row:a,cell:e,posX:c}}}function hd(a,b,c){if(null==a&&null==b&&(a=b=c=0,T(a,b)))return{row:a,cell:b,posX:b};if(b=Ib(a,b,c))return b;for(c=ca();++a<c;)if(b=Gc(a),null!==b)return{row:a,cell:b,posX:b};return null}function id(a,b,c){if(null==a&&null==b&&(a=ca()-1,b=c=l.length-1,T(a,b)))return{row:a,cell:b,posX:b};for(var e,d;!e&&!(e=Hc(a,b,c));){if(0>--a)return null;b=0;d=a;for(var f=0,g=null;f<l.length;)T(d,f)&&(g=f),f+=ra(d,f);d=g;null!==
d&&(e={row:a,cell:d,posX:d})}return e}function tc(){return Ca("right")}function sc(){return Ca("left")}function db(){return Ca("down")}function uc(){return Ca("up")}function vc(){return Ca("next")}function oc(){return Ca("prev")}function Ca(a){if(!d.enableCellNavigation||!t&&"prev"!=a&&"next"!=a)return!1;if(!r().commitCurrentEdit())return!0;pa();Ac={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];if(a=(0,{up:gd,down:fd,left:Hc,right:Ib,prev:id,next:hd}[a])(n,x,Ba)){var b=a.row==N();fb(a.row,a.cell,
!b);qa(R(a.row,a.cell));Ba=a.posX;return!0}qa(R(n,x));return!1}function R(a,b){return w[a]?($a(a),w[a].cellNodesByColumnIdx[b]):null}function T(a,b){if(!d.enableCellNavigation||a>=ca()||0>a||b>=l.length||0>b)return!1;var c=z.getItemMetadata&&z.getItemMetadata(a);return c&&"boolean"===typeof c.focusable?c.focusable:(c=c&&c.columns)&&c[l[b].id]&&"boolean"===typeof c[l[b].id].focusable?c[l[b].id].focusable:c&&c[b]&&"boolean"===typeof c[b].focusable?c[b].focusable:l[b].focusable}function Zb(a,b){if(a>=
N()||0>a||b>=l.length||0>b)return!1;var c=z.getItemMetadata&&z.getItemMetadata(a);return c&&"boolean"===typeof c.selectable?c.selectable:(c=c&&c.columns&&(c.columns[l[b].id]||c.columns[b]))&&"boolean"===typeof c.selectable?c.selectable:l[b].selectable}function xc(a,b,c){V&&T(a,b)&&r().commitCurrentEdit()&&(fb(a,b,!1),b=R(a,b),qa(b,c||a===N()||d.autoEdit),h||pa())}function jd(){var a=Y(n),b=l[x];if(h){if(h.isValueChanged()){var c=h.validate();if(c.valid)return n<N()?(c={row:n,cell:x,editor:h,serializedValue:h.serializeValue(),
prevSerializedValue:Dc,execute:function(){this.editor.applyValue(a,this.serializedValue);zb(this.row);m(g.onCellChange,{row:n,cell:x,item:a,grid:g})},undo:function(){this.editor.applyValue(a,this.prevSerializedValue);zb(this.row);m(g.onCellChange,{row:n,cell:x,item:a,grid:g})}},d.editCommandHandler?(aa(),d.editCommandHandler(a,b,c)):(c.execute(),aa())):(c={},h.applyValue(c,h.serializeValue()),aa(),m(g.onAddNewRow,{item:c,column:b,grid:g})),!r().isActive();f(t).removeClass("invalid");f(t).width();
f(t).addClass("invalid");m(g.onValidationError,{editor:h,cellNode:t,validationResults:c,row:n,cell:x,column:b,grid:g});h.focus();return!1}aa()}return!0}function kd(){aa();return!0}function ld(a){for(var b=[],c=l.length-1,e=0;e<a.length;e++)b.push(new k.Range(a[e],0,a[e],c));return b}function ac(){if(!U)throw"Selection model is not set";return vb}var md={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,
enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:k.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,
dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,c,e,d){return null==c?"":(c+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},forceSyncScrolling:!1,addNewRowCssClass:"new-row"},wb={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},Z,ba,za,ya,Sa,xa=0,E=0,na=1,V=!1,p,F="slickgrid_"+Math.round(1E6*Math.random()),g=this,Na,jb,sa,u,ha,W,Pb,ia,
X,Qb,oa,Ic,q,I,la,ua,ma,tb,ub,v,y,P,Oa,ta,ja=0,Xb=0,qb=0,rb=0,Wb=!1,ea,Ac=1,Ba,n,x,t=null,h=null,Dc,gb,w={},yb=0,ab,Aa=0,B=0,Ua=0,Ia=0,nc=0,H=0,U,vb=[],da=[],Q={},K={},C=[],va=[],wa=[],Hb=null,cb=null,Cb=null,Db=null,G={},La=null,Ka=null,ga=[],Ga=0,mc=0,fc=0,Ya,Ha,xb,Za,lb={position:"absolute",visibility:"hidden",display:"block"},kb,Nb=[];this.debug=function(){var a;a="\ncounter_rows_rendered:  "+mc;a+="\ncounter_rows_removed:  "+fc;a+="\nrenderedRows:  "+yb;a+="\nnumVisibleRows:  "+ab;a+="\nmaxSupportedCssHeight:  "+
Ja;a+="\nn(umber of pages):  "+ya;a+="\n(current) page:  "+xa;a+="\npage height (ph):  "+za;a+="\nvScrollDir:  "+na;alert(a)};this.eval=function(a){return eval(a)};f.extend(this,{slickGridVersion:"2.2.4",onScroll:new k.Event,onSort:new k.Event,onHeaderMouseEnter:new k.Event,onHeaderMouseLeave:new k.Event,onHeaderContextMenu:new k.Event,onHeaderClick:new k.Event,onHeaderCellRendered:new k.Event,onBeforeHeaderCellDestroy:new k.Event,onHeaderRowCellRendered:new k.Event,onFooterRowCellRendered:new k.Event,
onBeforeHeaderRowCellDestroy:new k.Event,onBeforeFooterRowCellDestroy:new k.Event,onMouseEnter:new k.Event,onMouseLeave:new k.Event,onClick:new k.Event,onDblClick:new k.Event,onContextMenu:new k.Event,onKeyDown:new k.Event,onAddNewRow:new k.Event,onValidationError:new k.Event,onViewportChanged:new k.Event,onColumnsReordered:new k.Event,onColumnsResized:new k.Event,onCellChange:new k.Event,onBeforeEditCell:new k.Event,onBeforeCellEditorDestroy:new k.Event,onBeforeDestroy:new k.Event,onActiveCellChanged:new k.Event,
onActiveCellPositionChanged:new k.Event,onDragInit:new k.Event,onDragStart:new k.Event,onDrag:new k.Event,onDragEnd:new k.Event,onSelectedRowsChanged:new k.Event,onCellCssStylesChanged:new k.Event,registerPlugin:function(a){da.unshift(a);a.init(g)},unregisterPlugin:Ob,getColumns:function(){return l},setColumns:Ub,getColumnIndex:function(a){return K[a]},updateColumnHeader:function(a,b,c){if(V&&(a=K[a],null!=a)){var e=l[a],d=u.children().eq(a);d&&(void 0!==b&&(l[a].name=b),void 0!==c&&(l[a].toolTip=
c),m(g.onBeforeHeaderCellDestroy,{node:d[0],column:e,grid:g}),d.attr("title",c||"").children().eq(0).html(b),m(g.onHeaderCellRendered,{node:d[0],column:e,grid:g}))}},setSortColumn:function(a,b){Pa([{columnId:a,sortAsc:b}])},setSortColumns:Pa,getSortColumns:function(){return C},autosizeColumns:sb,getOptions:function(){return d},setOptions:function(a){r().commitCurrentEdit()&&(aa(),d.enableAddRow!==a.enableAddRow&&hc(N()),d=f.extend(d,a),d.autoHeight&&(d.leaveSpaceForNewRows=!1),q.css("overflow-y",
d.autoHeight?"hidden":"auto"),M())},getData:function(){return z},getDataLength:N,getDataItem:Y,setData:function(a,b){z=a;ka();bb();b&&fa(0)},getSelectionModel:function(){return U},setSelectionModel:function(a){U&&(U.onSelectedRangesChanged.unsubscribe(Yb),U.destroy&&U.destroy());if(U=a)U.init(g),U.onSelectedRangesChanged.subscribe(Yb)},getSelectedRows:ac,setSelectedRows:function(a){if(!U)throw"Selection model is not set";U.setSelectedRanges(ld(a))},getContainerNode:function(){return p.get(0)},render:M,
invalidate:function(){bb();ka();M()},invalidateRow:hc,invalidateRows:gc,invalidateAllRows:ka,updateCell:function(a,b){var c=R(a,b);if(c){var e=l[b],d=Y(a);h&&n===a&&x===b?h.loadValue(d):(c.innerHTML=d?Va(a,e)(a,b,Wa(d,e),e,d):"",Ab(a))}},updateRow:zb,getViewport:Ta,getRenderedRange:ic,resizeCanvas:S,updateRowCount:bb,scrollRowIntoView:Gb,scrollRowToTop:function(a){fa(a*d.rowHeight);M()},scrollCellIntoView:fb,getCanvasNode:function(){return I[0]},focus:pa,getCellFromPoint:function(a,b){for(var c=Ra(b),
d=0,f=0,g=0;g<l.length&&f<a;g++)f+=l[g].width,d++;0>d&&(d=0);return{row:c,cell:d-1}},getCellFromEvent:Ma,getActiveCell:Cc,setActiveCell:function(a,b){!V||a>N()||0>a||b>=l.length||0>b||!d.enableCellNavigation||(fb(a,b,!1),qa(R(a,b),!1))},getActiveCellNode:function(){return t},getActiveCellPosition:Ec,resetActiveCell:Bb,editActiveCell:eb,getCellEditor:function(){return h},getCellNode:R,getCellNodeBox:function(a,b){if(!Fb(a,b))return null;for(var c=d.rowHeight*a-E,e=c+d.rowHeight-1,f=0,g=0;g<b;g++)f+=
l[g].width;return{top:c,left:f,bottom:e,right:f+l[b].width}},canCellBeSelected:Zb,canCellBeActive:T,navigatePrev:oc,navigateNext:vc,navigateUp:uc,navigateDown:db,navigateLeft:sc,navigateRight:tc,navigatePageUp:rc,navigatePageDown:qc,gotoCell:xc,getTopPanel:function(){return Ic[0]},setTopPanelVisibility:function(a){d.showTopPanel!=a&&((d.showTopPanel=a)?oa.slideDown("fast",S):oa.slideUp("fast",S))},setHeaderRowVisibility:function(a){d.showHeaderRow!=a&&((d.showHeaderRow=a)?W.slideDown("fast",S):W.slideUp("fast",
S))},getHeaderRow:function(){return ha[0]},getHeaderRowColumn:function(a){a=K[a];return(a=ha.children().eq(a))&&a[0]},setFooterRowVisibility:function(a){d.showFooterRow!=a&&((d.showFooterRow=a)?X.slideDown("fast",S):X.slideUp("fast",S))},getFooterRow:function(){return ia[0]},getFooterRowColumn:function(a){a=K[a];return(a=ia.children().eq(a))&&a[0]},getGridPosition:function(){return hb(p[0])},flashCell:function(a,b,c){c=c||100;if(w[a]){var e=function(a){a&&setTimeout(function(){g.queue(function(){g.toggleClass(d.cellFlashingCssClass).dequeue();
e(a-1)})},c)},g=f(R(a,b));e(4)}},addCellCssStyles:function(a,b){if(Q[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";Q[a]=b;Eb(b,null);m(g.onCellCssStylesChanged,{key:a,hash:b,grid:g})},setCellCssStyles:$b,removeCellCssStyles:function(a){Q[a]&&(Eb(null,Q[a]),delete Q[a],m(g.onCellCssStylesChanged,{key:a,hash:null,grid:g}))},getCellCssStyles:function(a){return Q[a]},init:Jb,destroy:function(){r().cancelCurrentEdit();m(g.onBeforeDestroy,{grid:g});for(var a=da.length;a--;)Ob(da[a]);
d.enableColumnReorder&&u.filter(":ui-sortable").sortable("destroy");ua&&(ua.unbind("scroll."+F),ua=null);p.unbind(".slickgrid");la.remove();ma=null;I.unbind("draginit dragstart dragend drag");p.empty().removeClass(F)},getEditorLock:r,getEditController:function(){return gb}});(function(){p=f(Da);if(1>p.length)throw Error("SlickGrid requires a valid container, "+Da+" does not exist in the DOM.");dd();var a;if(!(a=Ja)){a=1E6;for(var b=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,c=f("\x3cdiv style\x3d'display:none' /\x3e").appendTo(document.body);;){var e=
2*a;c.css("height",e);if(e>b||c.height()!==e)break;else a=e}c.remove()}Ja=a;(a=O)||(a=f("\x3cdiv style\x3d'position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'\x3e\x3c/div\x3e").appendTo("body"),b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight},a.remove(),a=b);O=a;d=f.extend({},md,d);d.autoHeight&&(d.leaveSpaceForNewRows=!1);wb.width=d.defaultColumnWidth;K={};for(a=0;a<l.length;a++)b=l[a]=f.extend({},wb,l[a]),K[b.id]=a,b.minWidth&&b.width<
b.minWidth&&(b.width=b.minWidth),b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth);if(d.enableColumnReorder&&!f.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder \x3d true' option requires jquery-ui.sortable module to be loaded");gb={commitCurrentEdit:jd,cancelCurrentEdit:kd};p.empty().css("overflow","hidden").css("outline",0).addClass(F).addClass("ui-widget");/relative|absolute|fixed/.test(p.css("position"))||p.css("position","relative");Na=f("\x3cdiv tabIndex\x3d'0' hideFocus style\x3d'position:fixed;width:0;height:0;top:0;left:0;outline:0;'\x3e\x3c/div\x3e").appendTo(p);
sa=f("\x3cdiv class\x3d'slick-header ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(p);u=f("\x3cdiv class\x3d'slick-header-columns' style\x3d'left:-1000px' /\x3e").appendTo(sa);u.width(mb());W=f("\x3cdiv class\x3d'slick-headerrow ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(p);ha=f("\x3cdiv class\x3d'slick-headerrow-columns' /\x3e").appendTo(W);Pb=f("\x3cdiv style\x3d'display:block;height:1px;position:absolute;top:0;left:0;'\x3e\x3c/div\x3e").css("width",
nb()+O.width+"px").appendTo(W);oa=f("\x3cdiv class\x3d'slick-top-panel-scroller ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(p);Ic=f("\x3cdiv class\x3d'slick-top-panel' style\x3d'width:10000px' /\x3e").appendTo(oa);d.showTopPanel||oa.hide();d.showHeaderRow||W.hide();q=f("\x3cdiv class\x3d'slick-viewport' style\x3d'width:100%;overflow:auto;outline:0;position:relative;;'\x3e").appendTo(p);q.css("overflow-y",d.autoHeight?"hidden":"auto");I=f("\x3cdiv class\x3d'grid-canvas' /\x3e").appendTo(q);
d.createFooterRow&&(X=f("\x3cdiv class\x3d'slick-footerrow ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(p),ia=f("\x3cdiv class\x3d'slick-footerrow-columns' /\x3e").appendTo(X),Qb=f("\x3cdiv style\x3d'display:block;height:1px;position:absolute;top:0;left:0;'\x3e\x3c/div\x3e").css("width",nb()+O.width+"px").appendTo(X),d.showFooterRow||X.hide());jb=Na.clone().appendTo(p);d.explicitInitialization||Jb()})()}f.extend(!0,k,{Grid:Da});var O,Ja;return Da});