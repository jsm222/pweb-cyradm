/**
 * @license
 * (c) 2009-2012 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.1
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */

/*

 (c) 2009-2012 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.1

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
(function(f,g){"function"===typeof define&&define.amd?define(["jquery","./slick.core","jquery.event/drag"],g):f.Slick.Grid=g(f.jQuery,f.Slick)})(this,function(f,g){if("undefined"===typeof f)throw"SlickGrid requires jquery module to be loaded";if(!f.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof g)throw"slick.core.js not loaded";var O,ya;return function(ub,B,k,e){function vb(){R||(R=!0,F=parseFloat(f.css(q[0],"width",!0)),pc(),qc(u),e.enableTextSelectionOnCells||
r.bind("selectstart.ui",function(a){return f(a.target).is("input,textarea")}),Wa(),wb(),rc(),xb(),Y(),sc(),q.bind("resize.slickgrid",Y),r.bind("scroll",za),ma.bind("contextmenu",tc).bind("click",uc).delegate(".slick-header-column","mouseenter",vc).delegate(".slick-header-column","mouseleave",wc),S.bind("scroll",xc),Da.add(Xa).bind("keydown",yb),K.bind("keydown",yb).bind("click",yc).bind("dblclick",zc).bind("contextmenu",Ac).bind("draginit",Bc).bind("dragstart",{distance:3},Cc).bind("drag",Dc).bind("dragend",
Ec).delegate(".slick-cell","mouseenter",Fc).delegate(".slick-cell","mouseleave",Gc))}function zb(a){for(var b=aa.length;0<=b;b--)if(aa[b]===a){aa[b].destroy&&aa[b].destroy();aa.splice(b,1);break}}function Ya(){for(var a=0,b=0,c=k.length;b<c;b++)a+=k[b].width;a+=O.width;return Math.max(a,F)+1E3}function Ab(){for(var a=na?F-O.width:F,b=0,c=k.length;c--;)b+=k[c].width;return e.fullWidthRows?Math.max(b,a):b}function Za(a){var b=T;T=Ab();T!=b&&(K.width(T),da.width(T),u.width(Ya()),$a=T>F-O.width);Bb.width(T+
(na?O.width:0));(T!=b||a)&&ab()}function qc(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function sc(){for(var a=K[0];(a=a.parentNode)!=document.body&&null!=a;)if(a==r[0]||a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight){var b=f(a);oa=oa?oa.add(b):b;b.bind("scroll."+I,Cb)}}function wb(){function a(){f(this).addClass("ui-state-hover")}function b(){f(this).removeClass("ui-state-hover")}u.find(".slick-header-column").each(function(){var a=
f(this).data("column");a&&l(m.onBeforeHeaderCellDestroy,{node:this,column:a})});u.empty();u.width(Ya());da.find(".slick-headerrow-column").each(function(){var a=f(this).data("column");a&&l(m.onBeforeHeaderRowCellDestroy,{node:this,column:a})});da.empty();for(var c=0;c<k.length;c++){var d=k[c],L=f("\x3cdiv class\x3d'ui-state-default slick-header-column' /\x3e").html("\x3cspan class\x3d'slick-column-name'\x3e"+d.name+"\x3c/span\x3e").width(d.width-ea).attr("id",""+I+d.id).attr("title",d.toolTip||"").data("column",
d).addClass(d.headerCssClass||"").appendTo(u);if(e.enableColumnReorder||d.sortable)L.on("mouseenter",a).on("mouseleave",b);d.sortable&&(L.addClass("slick-header-sortable"),L.append("\x3cspan class\x3d'slick-sort-indicator' /\x3e"));l(m.onHeaderCellRendered,{node:L[0],column:d});e.showHeaderRow&&(L=f("\x3cdiv class\x3d'ui-state-default slick-headerrow-column l"+c+" r"+c+"'\x3e\x3c/div\x3e").data("column",d).appendTo(da),l(m.onHeaderRowCellRendered,{node:L[0],column:d}))}Ea(G);Eb();e.enableColumnReorder&&
Hc()}function rc(){u.click(function(a){a.metaKey=a.metaKey||a.ctrlKey;if(!f(a.target).hasClass("slick-resizable-handle")){var b=f(a.target).closest(".slick-header-column");if(b.length&&(b=b.data("column"),b.sortable&&v().commitCurrentEdit())){for(var c=null,d=0;d<G.length;d++)if(G[d].columnId==b.id){c=G[d];c.sortAsc=!c.sortAsc;break}a.metaKey&&e.multiColumnSort?c&&G.splice(d,1):((a.shiftKey||a.metaKey)&&e.multiColumnSort||(G=[]),c?0==G.length&&G.push(c):(c={columnId:b.id,sortAsc:b.defaultSortAsc},
G.push(c)));Ea(G);e.multiColumnSort?l(m.onSort,{multiColumnSort:!0,sortCols:f.map(G,function(a){return{sortCol:k[M[a.columnId]],sortAsc:a.sortAsc}})},a):l(m.onSort,{multiColumnSort:!1,sortCol:b,sortAsc:c.sortAsc},a)}}})}function Hc(){u.filter(":ui-sortable").sortable("destroy");u.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(a,
b){f(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){f(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(v().commitCurrentEdit()){for(var b=u.sortable("toArray"),c=[],d=0;d<b.length;d++)c.push(k[Fb(b[d].replace(I,""))]);Gb(c);l(m.onColumnsReordered,{});a.stopPropagation();Eb()}else f(this).sortable("cancel")}})}function Eb(){var a,b,c,d,L,Db,y,g;d=u.children();d.find(".slick-resizable-handle").remove();d.each(function(a,b){k[a].resizable&&(void 0===
y&&(y=a),g=a)});void 0!==y&&d.each(function(n,h){n<y||e.forceFitColumns&&n>=g||(f(h),f("\x3cdiv class\x3d'slick-resizable-handle' /\x3e").appendTo(h).bind("dragstart",function(y,m){if(!v().commitCurrentEdit())return!1;c=y.pageX;f(this).parent().addClass("slick-header-column-active");var g=null,h=null;d.each(function(a,b){k[a].previousWidth=f(b).outerWidth()});if(e.forceFitColumns)for(h=g=0,a=n+1;a<d.length;a++)b=k[a],b.resizable&&(null!==h&&(h=b.maxWidth?h+(b.maxWidth-b.previousWidth):null),g+=b.previousWidth-
Math.max(b.minWidth||0,ba));var p=0,l=0;for(a=0;a<=n;a++)b=k[a],b.resizable&&(null!==l&&(l=b.maxWidth?l+(b.maxWidth-b.previousWidth):null),p+=b.previousWidth-Math.max(b.minWidth||0,ba));null===g&&(g=1E5);null===p&&(p=1E5);null===h&&(h=1E5);null===l&&(l=1E5);Db=c+Math.min(g,l);L=c-Math.min(p,h)}).bind("drag",function(f,y){var g,h=Math.min(Db,Math.max(L,f.pageX))-c,p;if(0>h){p=h;for(a=n;0<=a;a--)b=k[a],b.resizable&&(g=Math.max(b.minWidth||0,ba),p&&b.previousWidth+p<g?(p+=b.previousWidth-g,b.width=g):
(b.width=b.previousWidth+p,p=0));if(e.forceFitColumns)for(p=-h,a=n+1;a<d.length;a++)b=k[a],b.resizable&&(p&&b.maxWidth&&b.maxWidth-b.previousWidth<p?(p-=b.maxWidth-b.previousWidth,b.width=b.maxWidth):(b.width=b.previousWidth+p,p=0))}else{p=h;for(a=n;0<=a;a--)b=k[a],b.resizable&&(p&&b.maxWidth&&b.maxWidth-b.previousWidth<p?(p-=b.maxWidth-b.previousWidth,b.width=b.maxWidth):(b.width=b.previousWidth+p,p=0));if(e.forceFitColumns)for(p=-h,a=n+1;a<d.length;a++)b=k[a],b.resizable&&(g=Math.max(b.minWidth||
0,ba),p&&b.previousWidth+p<g?(p+=b.previousWidth-g,b.width=g):(b.width=b.previousWidth+p,p=0))}Hb();e.syncColumnCellResize&&ab()}).bind("dragend",function(c,e){var L;f(this).parent().removeClass("slick-header-column-active");for(a=0;a<d.length;a++)b=k[a],L=f(d[a]).outerWidth(),b.previousWidth!==L&&b.rerenderOnResize&&fa();Za(!0);J();l(m.onColumnsResized,{})}))})}function bb(a){var b=0;f.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,d){b+=parseFloat(a.css(d))||
0});return b}function pc(){var a,b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=f("\x3cdiv class\x3d'ui-state-default slick-header-column' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(u);ea=cb=0;f.each(b,function(b,c){ea+=parseFloat(a.css(c))||0});f.each(c,function(b,c){cb+=parseFloat(a.css(c))||0});a.remove();var d=f("\x3cdiv class\x3d'slick-row' /\x3e").appendTo(K);a=f("\x3cdiv class\x3d'slick-cell' id\x3d'' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(d);
Fa=Ga=0;f.each(b,function(b,c){Fa+=parseFloat(a.css(c))||0});f.each(c,function(b,c){Ga+=parseFloat(a.css(c))||0});d.remove();ba=Math.max(ea,Fa)}function xb(){ga=f("\x3cstyle type\x3d'text/css' rel\x3d'stylesheet' /\x3e").appendTo(f("head"));for(var a=["."+I+" .slick-header-column { left: 1000px; }","."+I+" .slick-top-panel { height:"+e.topPanelHeight+"px; }","."+I+" .slick-headerrow-columns { height:"+e.headerRowHeight+"px; }","."+I+" .slick-cell { height:"+(e.rowHeight-Ga)+"px; }","."+I+" .slick-row { height:"+
e.rowHeight+"px; }"],b=0;b<k.length;b++)a.push("."+I+" .l"+b+" { }"),a.push("."+I+" .r"+b+" { }");ga[0].styleSheet?ga[0].styleSheet.cssText=a.join(" "):ga[0].appendChild(document.createTextNode(a.join(" ")))}function l(a,b,c){c=c||new g.EventData;b=b||{};b.grid=m;return a.notify(b,c,m)}function v(){return e.editorLock}function Fb(a){return M[a]}function db(){var a,b,c=[],d=0,e=0,f,y=na?F-O.width:F;for(a=0;a<k.length;a++)b=k[a],c.push(b.width),e+=b.width,b.resizable&&(d+=b.width-Math.max(b.minWidth,
ba));for(f=e;e>y&&d;){var g=(e-y)/d;for(a=0;a<k.length&&e>y;a++){b=k[a];var h=c[a];if(!(!b.resizable||h<=b.minWidth||h<=ba)){b=Math.max(b.minWidth,ba);var n=Math.floor(g*(h-b))||1,n=Math.min(n,h-b),e=e-n,d=d-n;c[a]-=n}}if(f==e)break;f=e}for(f=e;e<y;){d=y/e;for(a=0;a<k.length&&e<y;a++)b=k[a],!b.resizable||b.maxWidth<=b.width||(g=Math.min(Math.floor(d*b.width)-b.width,b.maxWidth-b.width||1E6)||1,e+=g,c[a]+=g);if(f==e)break;f=e}e=!1;for(a=0;a<k.length;a++)k[a].rerenderOnResize&&k[a].width!=c[a]&&(e=
!0),k[a].width=c[a];Hb();Za(!0);e&&(fa(),J())}function Hb(){if(R){for(var a,b=0,c=u.children(),d=c.length;b<d;b++)a=f(c[b]),a.width()!==k[b].width-ea&&a.width(k[b].width-ea);Wa()}}function ab(){for(var a,b,c=0,d,e=0;e<k.length;e++){d=k[e].width;b=e;if(!ha){var f=document.styleSheets;for(a=0;a<f.length;a++)if((f[a].ownerNode||f[a].owningElement)==ga[0]){ha=f[a];break}if(!ha)throw Error("Cannot find stylesheet.");eb=[];fb=[];var f=ha.cssRules||ha.rules,y=void 0,y=void 0;for(a=0;a<f.length;a++){var g=
f[a].selectorText;if(y=/\.l\d+/.exec(g))y=parseInt(y[0].substr(2,y[0].length-2),10),eb[y]=f[a];else if(y=/\.r\d+/.exec(g))y=parseInt(y[0].substr(2,y[0].length-2),10),fb[y]=f[a]}}a=eb[b];b=fb[b];a.style.left=c+"px";b.style.right=T-c-d+"px";c+=k[e].width}}function Ea(a){G=a;var b=u.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");f.each(G,function(a,d){null==d.sortAsc&&(d.sortAsc=!0);var e=M[d.columnId];
null!=e&&b.eq(e).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(d.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function Ib(a,b){gb=[];for(var c={},d=0;d<b.length;d++)for(var f=b[d].fromRow;f<=b[d].toRow;f++){c[f]||(gb.push(f),c[f]={});for(var g=b[d].fromCell;g<=b[d].toCell;g++)Jb(f,g)&&(c[f][k[g].id]=e.selectedCellCssClass)}Kb(e.selectedCellCssClass,c);l(m.onSelectedRowsChanged,{rows:Lb()},a)}function Wa(){pa=[];qa=[];for(var a=0,b=0,c=k.length;b<
c;b++)pa[b]=a,qa[b]=a+k[b].width,a+=k[b].width}function Gb(a){k=a;M={};for(a=0;a<k.length;a++){var b=k[a]=f.extend({},hb,k[a]);M[b.id]=a;b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth);b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth)}Wa();R&&(fa(),wb(),ga.remove(),ha=null,xb(),Y(),ab(),za())}function z(){return B.getLength?B.getLength():B.length}function U(a){return B.getItem?B.getItem(a):B[a]}function ia(a){a=Math.max(a,0);a=Math.min(a,V-w+($a?O.height:0));var b=D;ra=Math.min(sa-1,Math.floor(a/
ta));D=Math.round(ra*Ha);a-=D;if(D!=b){var c=Ia(a);Mb(c);for(var d in x)x[d].rowNode.style.top=e.rowHeight*d-D+"px"}ua!=a&&(ja=ua+b<a+D?1:-1,r[0].scrollTop=Ja=E=ua=a,l(m.onViewportChanged,{}))}function Ka(a,b){var c=B.getItemMetadata&&B.getItemMetadata(a),d=c&&c.columns&&(c.columns[b.id]||c.columns[M[b.id]]);return d&&d.formatter||c&&c.formatter||b.formatter||e.formatterFactory&&e.formatterFactory.getFormatter(b)||e.defaultFormatter}function Nb(a,b){var c=k[b],d=B.getItemMetadata&&B.getItemMetadata(a);
return(d=d&&d.columns)&&d[c.id]&&void 0!==d[c.id].editor?d[c.id].editor:d&&d[b]&&void 0!==d[b].editor?d[b].editor:c.editor||e.editorFactory&&e.editorFactory.getEditor(c)}function La(a,b){return e.dataItemColumnValueExtractor?e.dataItemColumnValueExtractor(a,b):a[b.field]}function Ob(a,b,c,d,e){var f=k[c],g="slick-cell l"+c+" r"+Math.min(k.length-1,c+d-1)+(f.cssClass?" "+f.cssClass:"");b===n&&c===A&&(g+=" active");for(var h in N)N[h][b]&&N[h][b][f.id]&&(g+=" "+N[h][b][f.id]);a.push("\x3cdiv class\x3d'"+
g+"'\x3e");e&&(g=La(e,f),a.push(Ka(b,f)(b,c,g,f,e)));a.push("\x3c/div\x3e");x[b].cellRenderQueue.push(c);x[b].cellColSpans[c]=d}function Mb(a){for(var b in x)(b=parseInt(b,10))!==n&&(b<a.top||b>a.bottom)&&Ma(b)}function fa(){h&&Z();for(var a in x)Ma(a)}function Ma(a){var b=x[a];b&&(K[0].removeChild(b.rowNode),delete x[a],delete ca[a],ib--,Pb++)}function Qb(a){var b,c;if(a&&a.length)for(b=ja=0,c=a.length;b<c;b++)h&&n===a[b]&&Z(),x[a[b]]&&Ma(a[b])}function Rb(a){Qb([a])}function jb(a){var b=x[a];if(b){Na(a);
var c=U(a),d;for(d in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(d)){d|=0;var e=k[d],f=b.cellNodesByColumnIdx[d];a===n&&d===A&&h?h.loadValue(c):f.innerHTML=c?Ka(a,e)(a,d,La(c,e),e,c):""}kb(a)}}function Y(){R&&(w=e.autoHeight?e.rowHeight*(z()+(e.enableAddRow?1:0)):parseFloat(f.css(q[0],"height",!0))-parseFloat(f.css(q[0],"paddingTop",!0))-parseFloat(f.css(q[0],"paddingBottom",!0))-parseFloat(f.css(ma[0],"height"))-bb(ma)-(e.showTopPanel?e.topPanelHeight+bb(ka):0)-(e.showHeaderRow?
e.headerRowHeight+bb(S):0),lb=Math.ceil(w/e.rowHeight),F=parseFloat(f.css(q[0],"width",!0)),e.autoHeight||r.height(w),e.forceFitColumns&&db(),Oa(),za(),J())}function Oa(){var a=z();if(R){mb=a+(e.enableAddRow?1:0)+(e.leaveSpaceForNewRows?lb-1:0);var b=na;na=!e.autoHeight&&mb*e.rowHeight>w;var a=e.enableAddRow?a:a-1,c;for(c in x)c>=a&&Ma(c);t&&n>a&&Sb();c=W;V=Math.max(e.rowHeight*mb,w-O.height);V<ya?(W=ta=V,sa=1,Ha=0):(W=ya,ta=W/100,sa=Math.floor(V/ta),Ha=(V-W)/(sa-1));W!==c&&(K.css("height",W),E=r[0].scrollTop);
a=E+D<=V-w;0==V||0==E?ra=D=0:a?ia(E+D):ia(V-w);W!=c&&e.autoHeight&&Y();e.forceFitColumns&&b!=na&&db();Za(!1)}}function Ia(a,b){null==a&&(a=E);null==b&&(b=H);return{top:Math.floor((a+D)/e.rowHeight),bottom:Math.floor((a+w+D)/e.rowHeight)+1,leftPx:b,rightPx:b+F}}function Tb(a,b){var c=Ia(a,b),d=Math.round(w/e.rowHeight);-1==ja?(c.top-=d,c.bottom+=3):1==ja?(c.top-=3,c.bottom+=d):(c.top-=3,c.bottom+=3);c.top=Math.max(0,c.top);c.bottom=Math.min(e.enableAddRow?z():z()-1,c.bottom);c.leftPx-=F;c.rightPx+=
F;c.leftPx=Math.max(0,c.leftPx);c.rightPx=Math.min(T,c.rightPx);return c}function Na(a){if((a=x[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[c]=b;b=b.previousSibling}}function Ub(){e.enableAsyncPostRender&&(clearTimeout(nb),nb=setTimeout(Vb,e.asyncPostRenderDelay))}function kb(a){delete ca[a];Aa=Math.min(Aa,a);Ba=Math.max(Ba,a);Ub()}function J(){if(R){var a=Ia(),b=Tb();Mb(b);if(Pa!=H){for(var c,d=[],f=[],
g,h,l=b.top,m=b.bottom;l<=m;l++)if(c=x[l]){Na(l);var q=b;g=l;var u=0,r=x[g],C=[];h=void 0;for(h in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(h)){h|=0;var v=r.cellColSpans[h];if(pa[h]>q.rightPx||qa[Math.min(k.length-1,h+v-1)]<q.leftPx)g==n&&h==A||C.push(h)}for(q=void 0;null!=(q=C.pop());)r.rowNode.removeChild(r.cellNodesByColumnIdx[q]),delete r.cellColSpans[q],delete r.cellNodesByColumnIdx[q],ca[g]&&delete ca[g][q],u++;g=0;u=(u=B.getItemMetadata&&B.getItemMetadata(l))&&u.columns;
r=U(l);C=0;for(q=k.length;C<q&&!(pa[C]>b.rightPx);C++)null==(h=c.cellColSpans[C])&&(h=1,u&&(h=(h=u[k[C].id]||u[C])&&h.colspan||1,"*"===h&&(h=q-C)),qa[Math.min(q-1,C+h-1)]>b.leftPx&&(Ob(d,l,C,h,r),g++)),C+=1<h?h-1:0;g&&f.push(l)}if(d.length)for(l=document.createElement("div"),l.innerHTML=d.join("");null!=(c=f.pop());)for(c=x[c];null!=(m=c.cellRenderQueue.pop());)d=l.lastChild,c.rowNode.appendChild(d),c.cellNodesByColumnIdx[m]=d}f=K[0];c=[];d=[];l=!1;u=z();m=b.top;for(g=b.bottom;m<=g;m++)if(!x[m]){ib++;
d.push(m);x[m]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};r=c;C=m;q=b;v=u;h=U(C);var p="slick-row"+(C<v&&!h?" loading":"")+(C===n?" active":"")+(1==C%2?" odd":" even");(v=B.getItemMetadata&&B.getItemMetadata(C))&&v.cssClasses&&(p+=" "+v.cssClasses);r.push("\x3cdiv class\x3d'ui-widget-content "+p+"' style\x3d'top:"+(e.rowHeight*C-D)+"px'\x3e");for(var w=void 0,G=void 0,p=0,F=k.length;p<F;p++){G=k[p];w=1;v&&v.columns&&(w=(w=v.columns[G.id]||v.columns[p])&&w.colspan||1,
"*"===w&&(w=F-p));if(qa[Math.min(F-1,p+w-1)]>q.leftPx){if(pa[p]>q.rightPx)break;Ob(r,C,p,w,h)}1<w&&(p+=w-1)}r.push("\x3c/div\x3e");t&&n===m&&(l=!0);Wb++}if(d.length){b=document.createElement("div");b.innerHTML=c.join("");m=0;for(g=d.length;m<g;m++)x[d[m]].rowNode=f.appendChild(b.firstChild);l&&(t=P(n,A))}Aa=a.top;Ba=Math.min(e.enableAddRow?z():z()-1,a.bottom);Ub();Ja=E;Pa=H;Qa=null}}function xc(){var a=S[0].scrollLeft;a!=r[0].scrollLeft&&(r[0].scrollLeft=a)}function za(){E=r[0].scrollTop;H=r[0].scrollLeft;
var a=Math.abs(E-ua),b=Math.abs(H-Xb);b&&(Xb=H,ma[0].scrollLeft=H,ka[0].scrollLeft=H,S[0].scrollLeft=H);if(a)if(ja=ua<E?1:-1,ua=E,a<w)ia(E+D);else{var c=D;ra=W==w?0:Math.min(sa-1,Math.floor((V-w)/(W-w)*E*(1/ta)));D=Math.round(ra*Ha);c!=D&&fa()}if(b||a)if(Qa&&clearTimeout(Qa),20<Math.abs(Ja-E)||20<Math.abs(Pa-H))e.forceSyncScrolling||Math.abs(Ja-E)<w&&Math.abs(Pa-H)<F?J():Qa=setTimeout(J,50),l(m.onViewportChanged,{});l(m.onScroll,{scrollLeft:H,scrollTop:E})}function Vb(){for(;Aa<=Ba;){var a=0<=ja?
Aa++:Ba--,b=x[a];if(b&&!(a>=z())){ca[a]||(ca[a]={});Na(a);for(var c in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(c)){c|=0;var d=k[c];if(d.asyncPostRender&&!ca[a][c]){var f=b.cellNodesByColumnIdx[c];f&&d.asyncPostRender(f,a,U(a),d);ca[a][c]=!0}}nb=setTimeout(Vb,e.asyncPostRenderDelay);break}}}function ob(a,b){var c,d,e,g,h;for(h in x){g=b&&b[h];e=a&&a[h];if(g)for(d in g)e&&g[d]==e[d]||(c=P(h,M[d]))&&f(c).removeClass(g[d]);if(e)for(d in e)g&&g[d]==e[d]||(c=P(h,M[d]))&&f(c).addClass(e[d])}}
function Kb(a,b){var c=N[a];N[a]=b;ob(b,c);l(m.onCellCssStylesChanged,{key:a,hash:b})}function Bc(a,b){var c=Ca(a);if(!c||!pb(c.row,c.cell))return!1;c=l(m.onDragInit,b,a);return a.isImmediatePropagationStopped()?c:!1}function Cc(a,b){var c=Ca(a);if(!c||!pb(c.row,c.cell))return!1;c=l(m.onDragStart,b,a);return a.isImmediatePropagationStopped()?c:!1}function Dc(a,b){return l(m.onDrag,b,a)}function Ec(a,b){l(m.onDragEnd,b,a)}function yb(a){l(m.onKeyDown,{row:n,cell:A},a);var b=a.isImmediatePropagationStopped();
if(!b)if(a.shiftKey||a.altKey||a.ctrlKey)9!=a.which||!a.shiftKey||a.ctrlKey||a.altKey||(b=Yb());else if(27==a.which){if(!v().isActive())return;Zb()}else 37==a.which?b=$b():39==a.which?b=ac():38==a.which?b=bc():40==a.which?b=Ra():9==a.which?b=cc():13==a.which&&(e.editable&&(h?n===z()?Ra():dc():v().commitCurrentEdit()&&Sa()),b=!0);if(b){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(c){}}}function yc(a){h||(a.target!=document.activeElement||f(a.target).hasClass("slick-cell"))&&
la();var b=Ca(a);!b||null!==h&&n==b.row&&A==b.cell||(l(m.onClick,{row:b.row,cell:b.cell},a),a.isImmediatePropagationStopped()||A==b.cell&&n==b.row||!X(b.row,b.cell)||v().isActive()&&!v().commitCurrentEdit()||(qb(b.row,!1),va(P(b.row,b.cell),b.row===z()||e.autoEdit)))}function Ac(a){var b=f(a.target).closest(".slick-cell",K);0!==b.length&&(t===b[0]&&null!==h||l(m.onContextMenu,{},a))}function zc(a){var b=Ca(a);!b||null!==h&&n==b.row&&A==b.cell||(l(m.onDblClick,{row:b.row,cell:b.cell},a),a.isImmediatePropagationStopped()||
e.editable&&ec(b.row,b.cell,!0))}function vc(a){l(m.onHeaderMouseEnter,{column:f(this).data("column")},a)}function wc(a){l(m.onHeaderMouseLeave,{column:f(this).data("column")},a)}function tc(a){var b=f(a.target).closest(".slick-header-column",".slick-header-columns"),b=b&&b.data("column");l(m.onHeaderContextMenu,{column:b},a)}function uc(a){var b=f(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&l(m.onHeaderClick,{column:b},a)}function Fc(a){l(m.onMouseEnter,
{},a)}function Gc(a){l(m.onMouseLeave,{},a)}function pb(a,b){return!(0>a||a>=z()||0>b||b>=k.length)}function fc(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function gc(a){for(var b in x)if(x[b].rowNode===a)return b|0;return null}function Ca(a){var b=f(a.target).closest(".slick-cell",K);if(!b.length)return null;a=gc(b[0].parentNode);b=fc(b[0]);return null==a||null==b?null:{row:a,cell:b}}function Sb(){va(null,
!1)}function la(){-1==hc?Da[0].focus():Xa[0].focus()}function Ta(a,b,c){qb(a,c);c=wa(a,b);a=pa[b];b=qa[b+(1<c?c-1:0)];c=H+F;a<H?(r.scrollLeft(a),za(),J()):b>c&&(r.scrollLeft(Math.min(a,b-r[0].clientWidth)),za(),J())}function va(a,b){null!==t&&(Z(),f(t).removeClass("active"),x[n]&&f(x[n].rowNode).removeClass("active"));var c=t!==a;t=a;null!=t?(n=gc(t.parentNode),A=rb=fc(t),f(t).addClass("active"),f(x[n].rowNode).addClass("active"),e.editable&&b&&ic(n,A)&&(clearTimeout(sb),e.asyncEditorLoading?sb=setTimeout(function(){Sa()},
e.asyncEditorLoadDelay):Sa())):n=A=null;c&&l(m.onActiveCellChanged,jc())}function ic(a,b){return a<z()&&!U(a)||k[b].cannotTriggerInsert&&a>=z()||!Nb(a,b)?!1:!0}function Z(){if(h){l(m.onBeforeCellEditorDestroy,{editor:h});h.destroy();h=null;if(t){var a=U(n);f(t).removeClass("editable invalid");if(a){var b=k[A],c=Ka(n,b);t.innerHTML=c(n,A,La(a,b),b,a);kb(n)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(d){}else window.getSelection&&
(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();v().deactivate(Ua)}}function Sa(a){if(t){if(!e.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(sb);if(ic(n,A)){var b=k[A],c=U(n);!1===l(m.onBeforeEditCell,{row:n,cell:A,item:c,column:b})?la():(v().activate(Ua),f(t).addClass("editable"),a||(t.innerHTML=""),h=new (a||Nb(n,A))({grid:m,gridPosition:Va(q[0]),position:Va(t),container:t,column:b,item:c||{},commitChanges:dc,
cancelChanges:Zb}),c&&h.loadValue(c),kc=h.serializeValue(),h.position&&Cb())}}}function dc(){v().commitCurrentEdit()&&(la(),e.autoEdit&&Ra())}function Zb(){v().cancelCurrentEdit()&&la()}function Va(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:f(a).outerWidth(),height:f(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var c=a.offsetParent;(a=a.parentNode)!=document.body;)b.visible&&a.scrollHeight!=a.offsetHeight&&"visible"!=f(a).css("overflowY")&&
(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&"visible"!=f(a).css("overflowX")&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===c&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,c=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function lc(){return Va(t)}function Cb(){if(t&&(l(m.onActiveCellPositionChanged,{}),h)){var a=lc();h.show&&h.hide&&(a.visible?h.show():
h.hide());h.position&&h.position(a)}}function jc(){return t?{row:n,cell:A}:null}function qb(a,b){var c=a*e.rowHeight,d=(a+1)*e.rowHeight-w+($a?O.height:0);(a+1)*e.rowHeight>E+w+D?(ia(b?c:d),J()):a*e.rowHeight<E+D&&(ia(b?d:c),J())}function wa(a,b){var c=B.getItemMetadata&&B.getItemMetadata(a);if(!c||!c.columns)return 1;c=(c=c.columns[k[b].id]||c.columns[b])&&c.colspan;return c="*"===c?k.length-b:c||1}function mc(a){for(var b=0;b<k.length;){if(X(a,b))return b;b+=wa(a,b)}return null}function tb(a,b,
c){if(b>=k.length)return null;do b+=wa(a,b);while(b<k.length&&!X(a,b));return b<k.length?{row:a,cell:b,posX:b}:null}function nc(a,b,c){if(0>=b)return null;c=mc(a);if(null===c||c>=b)return null;for(a={row:a,cell:c,posX:c};;){c=tb(a.row,a.cell,a.posX);if(!c)return null;if(c.cell>=b)return a;a=c}}function Ic(a,b,c){for(var d;;){if(++a>=z()+(e.enableAddRow?1:0))return null;for(d=b=0;b<=c;)d=b,b+=wa(a,b);if(X(a,d))return{row:a,cell:d,posX:c}}}function Jc(a,b,c){for(var d;;){if(0>--a)return null;for(d=
b=0;b<=c;)d=b,b+=wa(a,b);if(X(a,d))return{row:a,cell:d,posX:c}}}function Kc(a,b,c){if(null==a&&null==b&&(a=b=c=0,X(a,b)))return{row:a,cell:b,posX:b};if(b=tb(a,b,c))return b;for(b=null;++a<z()+(e.enableAddRow?1:0);)if(b=mc(a),null!==b)return{row:a,cell:b,posX:b};return null}function Lc(a,b,c){if(null==a&&null==b&&(a=z()+(e.enableAddRow?1:0)-1,b=c=k.length-1,X(a,b)))return{row:a,cell:b,posX:b};for(var d,f;!d&&!(d=nc(a,b,c));){if(0>--a)return null;b=0;f=a;for(var g=0,h=null;g<k.length;)X(f,g)&&(h=g),
g+=wa(f,g);f=h;null!==f&&(d={row:a,cell:f,posX:f})}return d}function ac(){return xa("right")}function $b(){return xa("left")}function Ra(){return xa("down")}function bc(){return xa("up")}function cc(){return xa("next")}function Yb(){return xa("prev")}function xa(a){if(!e.enableCellNavigation||!t&&"prev"!=a&&"next"!=a)return!1;if(!v().commitCurrentEdit())return!0;la();hc={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];if(a=(0,{up:Jc,down:Ic,left:nc,right:tb,prev:Lc,next:Kc}[a])(n,A,rb)){var b=a.row==
z();Ta(a.row,a.cell,!b);va(P(a.row,a.cell),b||e.autoEdit);rb=a.posX;return!0}va(P(n,A),n==z()||e.autoEdit);return!1}function P(a,b){return x[a]?(Na(a),x[a].cellNodesByColumnIdx[b]):null}function X(a,b){if(!e.enableCellNavigation||a>=z()+(e.enableAddRow?1:0)||0>a||b>=k.length||0>b)return!1;var c=B.getItemMetadata&&B.getItemMetadata(a);return c&&"boolean"===typeof c.focusable?c.focusable:(c=c&&c.columns)&&c[k[b].id]&&"boolean"===typeof c[k[b].id].focusable?c[k[b].id].focusable:c&&c[b]&&"boolean"===
typeof c[b].focusable?c[b].focusable:k[b].focusable}function Jb(a,b){if(a>=z()||0>a||b>=k.length||0>b)return!1;var c=B.getItemMetadata&&B.getItemMetadata(a);return c&&"boolean"===typeof c.selectable?c.selectable:(c=c&&c.columns&&(c.columns[k[b].id]||c.columns[b]))&&"boolean"===typeof c.selectable?c.selectable:k[b].selectable}function ec(a,b,c){R&&X(a,b)&&v().commitCurrentEdit()&&(Ta(a,b,!1),b=P(a,b),va(b,c||a===z()||e.autoEdit),h||la())}function Mc(){var a=U(n),b=k[A];if(h){if(h.isValueChanged()){var c=
h.validate();if(c.valid)return n<z()?(c={row:n,cell:A,editor:h,serializedValue:h.serializeValue(),prevSerializedValue:kc,execute:function(){this.editor.applyValue(a,this.serializedValue);jb(this.row)},undo:function(){this.editor.applyValue(a,this.prevSerializedValue);jb(this.row)}},e.editCommandHandler?(Z(),e.editCommandHandler(a,b,c)):(c.execute(),Z()),l(m.onCellChange,{row:n,cell:A,item:a})):(c={},h.applyValue(c,h.serializeValue()),Z(),l(m.onAddNewRow,{item:c,column:b})),!v().isActive();f(t).removeClass("invalid");
f(t).width();f(t).addClass("invalid");l(m.onValidationError,{editor:h,cellNode:t,validationResults:c,row:n,cell:A,column:b});h.focus();return!1}Z()}return!0}function Nc(){Z();return!0}function Oc(a){for(var b=[],c=k.length-1,d=0;d<a.length;d++)b.push(new g.Range(a[d],0,a[d],c));return b}function Lb(){if(!Q)throw"Selection model is not set";return gb}var Pc={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,
enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:g.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,
c,d,e){return null==c?"":(c+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},forceSyncScrolling:!1},hb={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},V,W,ta,sa,Ha,ra=0,D=0,ja=1,R=!1,q,I="slickgrid_"+Math.round(1E6*Math.random()),m=this,Da,Xa,ma,u,da,S,Bb,ka,oc,r,K,ga,oa,ha,eb,fb,w,F,T,$a,na,ea=0,cb=0,Fa=0,Ga=0,ba,mb=0,hc=1,rb,n,A,t=null,h=null,kc,Ua,x={},ib=0,lb,ua=0,E=0,Ja=0,Pa=0,Xb=
0,H=0,Q,gb=[],aa=[],N={},M={},G=[],pa=[],qa=[],sb=null,Qa=null,nb=null,ca={},Ba=null,Aa=null,Wb=0,Pb=0;this.debug=function(){var a;a="\ncounter_rows_rendered:  "+Wb;a+="\ncounter_rows_removed:  "+Pb;a+="\nrenderedRows:  "+ib;a+="\nnumVisibleRows:  "+lb;a+="\nmaxSupportedCssHeight:  "+ya;a+="\nn(umber of pages):  "+sa;a+="\n(current) page:  "+ra;a+="\npage height (ph):  "+ta;a+="\nvScrollDir:  "+ja;alert(a)};this.eval=function(a){return eval(a)};f.extend(this,{slickGridVersion:"2.1",onScroll:new g.Event,
onSort:new g.Event,onHeaderMouseEnter:new g.Event,onHeaderMouseLeave:new g.Event,onHeaderContextMenu:new g.Event,onHeaderClick:new g.Event,onHeaderCellRendered:new g.Event,onBeforeHeaderCellDestroy:new g.Event,onHeaderRowCellRendered:new g.Event,onBeforeHeaderRowCellDestroy:new g.Event,onMouseEnter:new g.Event,onMouseLeave:new g.Event,onClick:new g.Event,onDblClick:new g.Event,onContextMenu:new g.Event,onKeyDown:new g.Event,onAddNewRow:new g.Event,onValidationError:new g.Event,onViewportChanged:new g.Event,
onColumnsReordered:new g.Event,onColumnsResized:new g.Event,onCellChange:new g.Event,onBeforeEditCell:new g.Event,onBeforeCellEditorDestroy:new g.Event,onBeforeDestroy:new g.Event,onActiveCellChanged:new g.Event,onActiveCellPositionChanged:new g.Event,onDragInit:new g.Event,onDragStart:new g.Event,onDrag:new g.Event,onDragEnd:new g.Event,onSelectedRowsChanged:new g.Event,onCellCssStylesChanged:new g.Event,registerPlugin:function(a){aa.unshift(a);a.init(m)},unregisterPlugin:zb,getColumns:function(){return k},
setColumns:Gb,getColumnIndex:Fb,updateColumnHeader:function(a,b,c){if(R&&(a=M[a],null!=a)){var d=k[a],e=u.children().eq(a);e&&(void 0!==b&&(k[a].name=b),void 0!==c&&(k[a].toolTip=c),l(m.onBeforeHeaderCellDestroy,{node:e[0],column:d}),e.attr("title",c||"").children().eq(0).html(b),l(m.onHeaderCellRendered,{node:e[0],column:d}))}},setSortColumn:function(a,b){Ea([{columnId:a,sortAsc:b}])},setSortColumns:Ea,getSortColumns:function(){return G},autosizeColumns:db,getOptions:function(){return e},setOptions:function(a){v().commitCurrentEdit()&&
(Z(),e.enableAddRow!==a.enableAddRow&&Rb(z()),e=f.extend(e,a),e.autoHeight&&(e.leaveSpaceForNewRows=!1),r.css("overflow-y",e.autoHeight?"hidden":"auto"),J())},getData:function(){return B},getDataLength:z,getDataItem:U,setData:function(a,b){B=a;fa();Oa();b&&ia(0)},getSelectionModel:function(){return Q},setSelectionModel:function(a){Q&&(Q.onSelectedRangesChanged.unsubscribe(Ib),Q.destroy&&Q.destroy());if(Q=a)Q.init(m),Q.onSelectedRangesChanged.subscribe(Ib)},getSelectedRows:Lb,setSelectedRows:function(a){if(!Q)throw"Selection model is not set";
Q.setSelectedRanges(Oc(a))},getContainerNode:function(){return q.get(0)},render:J,invalidate:function(){Oa();fa();J()},invalidateRow:Rb,invalidateRows:Qb,invalidateAllRows:fa,updateCell:function(a,b){var c=P(a,b);if(c){var d=k[b],e=U(a);h&&n===a&&A===b?h.loadValue(e):(c.innerHTML=e?Ka(a,d)(a,b,La(e,d),d,e):"",kb(a))}},updateRow:jb,getViewport:Ia,getRenderedRange:Tb,resizeCanvas:Y,updateRowCount:Oa,scrollRowIntoView:qb,scrollRowToTop:function(a){ia(a*e.rowHeight);J()},scrollCellIntoView:Ta,getCanvasNode:function(){return K[0]},
focus:la,getCellFromPoint:function(a,b){for(var c=Math.floor((b+D)/e.rowHeight),d=0,f=0,g=0;g<k.length&&f<a;g++)f+=k[g].width,d++;0>d&&(d=0);return{row:c,cell:d-1}},getCellFromEvent:Ca,getActiveCell:jc,setActiveCell:function(a,b){!R||a>z()||0>a||b>=k.length||0>b||!e.enableCellNavigation||(Ta(a,b,!1),va(P(a,b),!1))},getActiveCellNode:function(){return t},getActiveCellPosition:lc,resetActiveCell:Sb,editActiveCell:Sa,getCellEditor:function(){return h},getCellNode:P,getCellNodeBox:function(a,b){if(!pb(a,
b))return null;for(var c=e.rowHeight*a-D,d=c+e.rowHeight-1,f=0,g=0;g<b;g++)f+=k[g].width;return{top:c,left:f,bottom:d,right:f+k[b].width}},canCellBeSelected:Jb,canCellBeActive:X,navigatePrev:Yb,navigateNext:cc,navigateUp:bc,navigateDown:Ra,navigateLeft:$b,navigateRight:ac,gotoCell:ec,getTopPanel:function(){return oc[0]},setTopPanelVisibility:function(a){e.showTopPanel!=a&&((e.showTopPanel=a)?ka.slideDown("fast",Y):ka.slideUp("fast",Y))},setHeaderRowVisibility:function(a){e.showHeaderRow!=a&&((e.showHeaderRow=
a)?S.slideDown("fast",Y):S.slideUp("fast",Y))},getHeaderRow:function(){return da[0]},getHeaderRowColumn:function(a){a=M[a];return(a=da.children().eq(a))&&a[0]},getGridPosition:function(){return Va(q[0])},flashCell:function(a,b,c){c=c||100;if(x[a]){var d=function(a){a&&setTimeout(function(){g.queue(function(){g.toggleClass(e.cellFlashingCssClass).dequeue();d(a-1)})},c)},g=f(P(a,b));d(4)}},addCellCssStyles:function(a,b){if(N[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";
N[a]=b;ob(b,null);l(m.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:Kb,removeCellCssStyles:function(a){N[a]&&(ob(null,N[a]),delete N[a],l(m.onCellCssStylesChanged,{key:a,hash:null}))},getCellCssStyles:function(a){return N[a]},init:vb,destroy:function(){v().cancelCurrentEdit();l(m.onBeforeDestroy,{});for(var a=aa.length;a--;)zb(aa[a]);e.enableColumnReorder&&u.filter(":ui-sortable").sortable("destroy");oa&&(oa.unbind("scroll."+I),oa=null);q.unbind(".slickgrid");ga.remove();ha=null;K.unbind("draginit dragstart dragend drag");
q.empty().removeClass(I)},getEditorLock:v,getEditController:function(){return Ua}});(function(){q=f(ub);if(1>q.length)throw Error("SlickGrid requires a valid container, "+ub+" does not exist in the DOM.");var a;if(!(a=ya)){a=1E6;for(var b=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,c=f("\x3cdiv style\x3d'display:none' /\x3e").appendTo(document.body);;){var d=2*a;c.css("height",d);if(d>b||c.height()!==d)break;else a=d}c.remove()}ya=a;(a=O)||(a=f("\x3cdiv style\x3d'position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'\x3e\x3c/div\x3e").appendTo("body"),
b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight},a.remove(),a=b);O=a;e=f.extend({},Pc,e);e.autoHeight&&(e.leaveSpaceForNewRows=!1);hb.width=e.defaultColumnWidth;M={};for(a=0;a<k.length;a++)b=k[a]=f.extend({},hb,k[a]),M[b.id]=a,b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth),b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth);if(e.enableColumnReorder&&!f.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder \x3d true' option requires jquery-ui.sortable module to be loaded");
Ua={commitCurrentEdit:Mc,cancelCurrentEdit:Nc};q.empty().css("overflow","hidden").css("outline",0).addClass(I).addClass("ui-widget");/relative|absolute|fixed/.test(q.css("position"))||q.css("position","relative");Da=f("\x3cdiv tabIndex\x3d'0' hideFocus style\x3d'position:fixed;width:0;height:0;top:0;left:0;outline:0;'\x3e\x3c/div\x3e").appendTo(q);ma=f("\x3cdiv class\x3d'slick-header ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(q);u=f("\x3cdiv class\x3d'slick-header-columns' style\x3d'left:-1000px' /\x3e").appendTo(ma);
u.width(Ya());S=f("\x3cdiv class\x3d'slick-headerrow ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(q);da=f("\x3cdiv class\x3d'slick-headerrow-columns' /\x3e").appendTo(S);Bb=f("\x3cdiv style\x3d'display:block;height:1px;position:absolute;top:0;left:0;'\x3e\x3c/div\x3e").css("width",Ab()+O.width+"px").appendTo(S);ka=f("\x3cdiv class\x3d'slick-top-panel-scroller ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(q);oc=f("\x3cdiv class\x3d'slick-top-panel' style\x3d'width:10000px' /\x3e").appendTo(ka);
e.showTopPanel||ka.hide();e.showHeaderRow||S.hide();r=f("\x3cdiv class\x3d'slick-viewport' style\x3d'width:100%;overflow:auto;outline:0;position:relative;;'\x3e").appendTo(q);r.css("overflow-y",e.autoHeight?"hidden":"auto");K=f("\x3cdiv class\x3d'grid-canvas' /\x3e").appendTo(r);Xa=Da.clone().appendTo(q);e.explicitInitialization||vb()})()}});