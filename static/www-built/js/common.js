/*
Copyright 2012 Igor Vaynberg

Version: @@ver@@ Timestamp: @@timestamp@@

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/

/*
jed.js
v0.5.0beta

https://github.com/SlexAxton/Jed
-----------
A gettext compatible i18n library for modern JavaScript Applications

by Alex Sexton - AlexSexton [at] gmail - @SlexAxton
WTFPL license for use
Dojo CLA for contributions

Jed offers the entire applicable GNU gettext spec'd set of
functions, but also offers some nicer wrappers around them.
The api for gettext was written for a language with no function
overloading, so Jed allows a little more of that.

Many thanks to Joshua I. Miller - unrtst@cpan.org - who wrote
gettext.js back in 2008. I was able to vet a lot of my ideas
against his. I also made sure Jed passed against his tests
in order to offer easy upgrades -- jsgettext.berlios.de
*/

// Underscore 1.3.0 was used to port and is licensed

/**
   sprintf() for JavaScript 0.7-beta1
   http://www.diveintojavascript.com/projects/javascript-sprintf

   Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:
       * Redistributions of source code must retain the above copyright
         notice, this list of conditions and the following disclaimer.
       * Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in the
         documentation and/or other materials provided with the distribution.
       * Neither the name of sprintf() for JavaScript nor the
         names of its contributors may be used to endorse or promote products
         derived from this software without specific prior written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
   DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
   ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */

/* 
 * The MIT License
 *
 * Copyright 2015 Jesper Schmitz Mouridsen.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

/*! 
 * jquery.event.drag - v 2.2
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */

/**
 * @license
 * (c) 2009-2013 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.2
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */

/*

 (c) 2009-2013 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.2

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
(function(c){"function"===typeof define&&define.amd?define("select2",["jquery"],c):c(jQuery)})(function(c,g){function t(k,a){var c=0,b=a.length,d;if("undefined"===typeof k)return-1;if(k.constructor===String)for(;c<b;c+=1){if(0===k.localeCompare(a[c]))return c}else for(;c<b;c+=1)if(d=a[c],d.constructor===String){if(0===d.localeCompare(k))return c}else if(d===k)return c;return-1}function f(k,a){return k===a?!0:k===g||a===g||null===k||null===a?!1:k.constructor===String?0===k.localeCompare(a):a.constructor===
String?0===a.localeCompare(k):!1}function e(k,a){var b,d,l;if(null===k||1>k.length)return[];b=k.split(a);d=0;for(l=b.length;d<l;d+=1)b[d]=c.trim(b[d]);return b}function n(k){k.bind("keydown",function(){c.data(k,"keyup-change-value")===g&&c.data(k,"keyup-change-value",k.val())});k.bind("keyup",function(){var a=c.data(k,"keyup-change-value");a!==g&&k.val()!==a&&(c.removeData(k,"keyup-change-value"),k.trigger("keyup-change"))})}function d(k){k.bind("mousemove",function(k){var a=J;a!==g&&a.x===k.pageX&&
a.y===k.pageY||c(k.target).trigger("mousemove-filtered",k)})}function a(k,a,c){c=c||g;var b;return function(){var d=arguments;window.clearTimeout(b);b=window.setTimeout(function(){a.apply(c,d)},k)}}function b(k){var a=!1,c;return function(){!1===a&&(c=k(),a=!0);return c}}function x(k,c){var b=a(k,function(k){c.trigger("scroll-debounced",k)});c.bind("scroll",function(k){0<=t(k.target,c.get())&&b(k)})}function p(k){k.preventDefault();k.stopPropagation()}function A(k,a,c){var b=k.toUpperCase().indexOf(a.toUpperCase());
a=a.length;0>b?c.push(k):(c.push(k.substring(0,b)),c.push("\x3cspan class\x3d'select2-match'\x3e"),c.push(k.substring(b,b+a)),c.push("\x3c/span\x3e"),c.push(k.substring(b+a,k.length)))}function h(k){var a,b=0,d=null,l=k.quietMillis||100;return function(h){window.clearTimeout(a);a=window.setTimeout(function(){var a=b+=1,M=k.data,l=k.transport||c.ajax,f=k.traditional||!1,m=k.type||"GET",M=M.call(this,h.term,h.page,h.context);null!==d&&d.abort();d=l.call(null,{url:k.url,dataType:k.dataType,data:M,type:m,
traditional:f,success:function(c){a<b||(c=k.results(c,h.page),h.callback(c))}})},l)}}function m(k){var a=k,b,d=function(k){return""+k.text};c.isArray(a)||(d=a.text,c.isFunction(d)||(b=a.text,d=function(k){return k[b]}),a=a.results);return function(k){var b=k.term,I={results:[]},l;""===b?k.callback({results:a}):(l=function(a,M){var I,h;a=a[0];if(a.children){I={};for(h in a)a.hasOwnProperty(h)&&(I[h]=a[h]);I.children=[];c(a.children).each2(function(k,a){l(a,I.children)});(I.children.length||k.matcher(b,
d(I)))&&M.push(I)}else k.matcher(b,d(a))&&M.push(a)},c(a).each2(function(k,a){l(a,I.results)}),k.callback(I))}}function l(k){return c.isFunction(k)?k:function(a){var b=a.term,d={results:[]};c(k).each(function(){var k=this.text!==g,c=k?this.text:this;(""===b||a.matcher(b,c))&&d.results.push(k?this:{id:this,text:this})});a.callback(d)}}function w(k,a){if(c.isFunction(k))return!0;if(!k)return!1;throw Error("formatterName must be a function or a falsy value");}function B(k){return c.isFunction(k)?k():
k}function G(k){var a=0;c.each(k,function(k,c){c.children?a+=G(c.children):a++});return a}function P(k,a,c,b){var d=k,l,h,m,w,e;if(!b.createSearchChoice||!b.tokenSeparators||1>b.tokenSeparators.length)return g;for(;;){l=-1;m=0;for(w=b.tokenSeparators.length;m<w&&!(e=b.tokenSeparators[m],l=k.indexOf(e),0<=l);m++);if(0>l)break;h=k.substring(0,l);k=k.substring(l+e.length);if(0<h.length&&(h=b.createSearchChoice(h,a),h!==g&&null!==h&&b.id(h)!==g&&null!==b.id(h))){l=!1;m=0;for(w=a.length;m<w;m++)if(f(b.id(h),
b.id(a[m]))){l=!0;break}l||c(h)}}if(0!=d.localeCompare(k))return k}function R(k,a){var b=function(){};b.prototype=new k;b.prototype.constructor=b;b.prototype.parent=k.prototype;b.prototype=c.extend(b.prototype,a);return b}"undefined"==typeof c.fn.each2&&c.fn.extend({each2:function(k){for(var a=c([0]),b=-1,d=this.length;++b<d&&(a.context=a[0]=this[b])&&!1!==k.call(a[0],b,a););return this}});"use strict";if(window.Select2===g){var u,xa,ta,Ua,Va,y,J,ja;u={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,
RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(k){k=k.which?k.which:k;switch(k){case u.LEFT:case u.RIGHT:case u.UP:case u.DOWN:return!0}return!1},isControl:function(k){switch(k.which){case u.SHIFT:case u.CTRL:case u.ALT:return!0}return k.metaKey?!0:!1},isFunctionKey:function(k){k=k.which?k.which:k;return 112<=k&&123>=k}};ja=c(document);Va=function(){var k=1;return function(){return k++}}();ja.bind("mousemove",function(k){J={x:k.pageX,
y:k.pageY}});ja.ready(function(){ja.bind("mousedown touchend",function(k){var a=c(k.target).closest("div.select2-container").get(0),b;a?ja.find("div.select2-container-active").each(function(){this!==a&&c(this).data("select2").blur()}):(a=c(k.target).closest("div.select2-drop").get(0),ja.find("div.select2-drop-active").each(function(){this!==a&&c(this).data("select2").blur()}));a=c(k.target);b=a.attr("for");"LABEL"===k.target.tagName&&b&&0<b.length&&(b=b.replace(/([\[\].])/g,"\\$1"),a=c("#"+b),a=a.data("select2"),
a!==g&&(a.focus(),k.preventDefault()))})});xa=R(Object,{bind:function(a){var c=this;return function(){a.apply(c,arguments)}},init:function(a){var l,h;this.opts=a=this.prepareOpts(a);this.id=a.id;a.element.data("select2")!==g&&null!==a.element.data("select2")&&this.destroy();this.enabled=!0;this.container=this.createContainer();this.containerId="s2id_"+(a.element.attr("id")||"autogen"+Va());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",
this.containerId);this.body=b(function(){return a.element.closest("body")});a.element.attr("class")!==g&&this.container.addClass(a.element.attr("class").replace(/validate\[[\S ]+] ?/,""));this.container.css(B(a.containerCss));this.container.addClass(B(a.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(B(a.dropdownCssClass));this.dropdown.data("select2",
this);this.results=l=this.container.find(".select2-results");this.search=h=this.container.find("input.select2-input");h.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();d(this.results);this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));x(80,this.results);this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded));c.fn.mousewheel&&
l.mousewheel(function(a,k,c,b){k=l.scrollTop();0<b&&0>=k-b?(l.scrollTop(0),p(a)):0>b&&l.get(0).scrollHeight-l.scrollTop()+b<=l.height()&&(l.scrollTop(l.get(0).scrollHeight-l.height()),p(a))});n(h);h.bind("keyup-change",this.bind(this.updateResults));h.bind("focus",function(){h.addClass("select2-focused");" "===h.val()&&h.val("")});h.bind("blur",function(){h.removeClass("select2-focused")});this.dropdown.delegate(".select2-results","mouseup",this.bind(function(a){0<c(a.target).closest(".select2-result-selectable:not(.select2-disabled)").length?
(this.highlightUnderEvent(a),this.selectHighlighted(a)):this.focusSearch();p(a)}));this.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()});c.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());(a.element.is(":disabled")||a.element.is("[readonly\x3d'readonly']"))&&this.disable()},destroy:function(){var a=this.opts.element.data("select2");a!==g&&(a.container.remove(),a.dropdown.remove(),a.opts.element.removeData("select2").unbind(".select2").show())},
prepareOpts:function(a){var b,d,w;b=a.element;"select"===b.get(0).tagName.toLowerCase()&&(this.select=d=a.element);d&&c.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a \x3cselect\x3e element.");});a=c.extend({},{populateResults:function(b,d,l){var h,M=this.opts.id,m=this;h=function(b,d,f){var w,I,e,p,n,u,R;w=0;for(I=b.length;w<I;w+=1)e=b[w],p=M(e)!==g,n=e.children&&
0<e.children.length,u=c("\x3cli\x3e\x3c/li\x3e"),u.addClass("select2-results-dept-"+f),u.addClass("select2-result"),u.addClass(p?"select2-result-selectable":"select2-result-unselectable"),n&&u.addClass("select2-result-with-children"),u.addClass(m.opts.formatResultCssClass(e)),p=c("\x3cdiv\x3e\x3c/div\x3e"),p.addClass("select2-result-label"),R=a.formatResult(e,p,l),R!==g&&p.html(m.opts.escapeMarkup(R)),u.append(p),n&&(n=c("\x3cul\x3e\x3c/ul\x3e"),n.addClass("select2-result-sub"),h(e.children,n,f+1),
u.append(n)),u.data("select2-data",e),d.append(u)};h(d,b,0)}},c.fn.select2.defaults,a);"function"!==typeof a.id&&(w=a.id,a.id=function(a){return a[w]});d?(a.query=this.bind(function(a){var k={results:[],more:!1},d=a.term,h,l,m;m=function(k,c){var b;k.is("option")?a.matcher(d,k.text(),k)&&c.push({id:k.attr("value"),text:k.text(),element:k.get(),css:k.attr("class")}):k.is("optgroup")&&(b={text:k.attr("label"),children:[],element:k.get(),css:k.attr("class")},k.children().each2(function(a,k){m(k,b.children)}),
0<b.children.length&&c.push(b))};h=b.children();this.getPlaceholder()!==g&&0<h.length&&(l=h[0],""===c(l).text()&&(h=h.not(l)));h.each2(function(a,c){m(c,k.results)});a.callback(k)}),a.id=function(a){return a.id},a.formatResultCssClass=function(a){return a.css}):"query"in a||("ajax"in a?((d=a.element.data("ajax-url"))&&0<d.length&&(a.ajax.url=d),a.query=h(a.ajax)):"data"in a?a.query=m(a.data):"tags"in a&&(a.query=l(a.tags),a.createSearchChoice===g&&(a.createSearchChoice=function(a){return{id:a,text:a}}),
a.initSelection=function(b,d){var h=[];c(e(b.val(),a.separator)).each(function(){var b=this,d=this,l=a.tags;c.isFunction(l)&&(l=l());c(l).each(function(){if(f(this.id,b))return d=this.text,!1});h.push({id:b,text:d})});d(h)}));if("function"!==typeof a.query)throw"query function not defined for Select2 "+a.element.attr("id");return a},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(a){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},
triggerChange:function(a){a=a||{};a=c.extend({},a,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=
!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var a=this.container.offset(),b=this.container.outerHeight(!1),d=this.container.outerWidth(!1),h=this.dropdown.outerHeight(!1),l=c(window).scrollLeft()+document.documentElement.clientWidth,m=c(window).scrollTop()+document.documentElement.clientHeight,b=a.top+b,f=a.left,m=b+h<=m,w=a.top-h>=this.body().scrollTop(),
e=this.dropdown.outerWidth(!1),l=f+e<=l,g=this.dropdown.hasClass("select2-drop-above"),p;"static"!==this.body().css("position")&&(p=this.body().offset(),b-=p.top,f-=p.left);g?(g=!0,!w&&m&&(g=!1)):(g=!1,!m&&w&&(g=!0));l||(f=a.left+d-e);g?(b=a.top-h,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above"));a=c.extend({top:b,left:f,width:d},B(this.opts.dropdownCss));this.dropdown.css(a)},
shouldOpen:function(){var a;if(this.opened())return!1;a=c.Event("open");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;window.setTimeout(this.bind(this.opening),1);return!0},opening:function(){var a=this.containerId,b=this.containerSelector,d="scroll."+a,h="resize."+a;this.container.parents().each(function(){c(this).bind(d,
function(){var a=c(b);0==a.length&&c(this).unbind(d);a.select2("close")})});window.setTimeout(function(){c(window).bind(h,function(){var a=c(b);0==a.length&&c(window).unbind(h);a.select2("close")})},10);this.clearDropdownAlignmentPreference();" "===this.search.val()&&this.search.val("");this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(!0);this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());this.dropdown.show();
this.positionDropdown();this.dropdown.addClass("select2-drop-active");this.ensureHighlightVisible();this.focusSearch()},close:function(){if(this.opened()){var a=this;this.container.parents().each(function(){c(this).unbind("scroll."+a.containerId)});c(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(c.Event("close"))}},
clearSearch:function(){},ensureHighlightVisible:function(){var a=this.results,b,d,h,l;d=this.highlight();0>d||(0==d?a.scrollTop(0):(b=a.find(".select2-result-selectable"),h=c(b[d]),l=h.offset().top+h.outerHeight(!0),d===b.length-1&&(b=a.find("li.select2-more-results"),0<b.length&&(l=b.offset().top+b.outerHeight(!0))),b=a.offset().top+a.outerHeight(!0),l>b&&a.scrollTop(a.scrollTop()+(l-b)),l=h.offset().top-a.offset().top,0>l&&"none"!=h.css("display")&&a.scrollTop(a.scrollTop()+l)))},moveHighlight:function(a){for(var b=
this.results.find(".select2-result-selectable"),d=this.highlight();-1<d&&d<b.length;){var d=d+a,h=c(b[d]);if(h.hasClass("select2-result-selectable")&&!h.hasClass("select2-disabled")){this.highlight(d);break}}},highlight:function(a){var b=this.results.find(".select2-result-selectable").not(".select2-disabled");if(0===arguments.length)return t(b.filter(".select2-highlighted")[0],b.get());a>=b.length&&(a=b.length-1);0>a&&(a=0);b.removeClass("select2-highlighted");c(b[a]).addClass("select2-highlighted");
this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(a){a=c(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var b=this.results.find(".select2-result-selectable");this.highlight(b.index(a))}else 0==a.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var a=this.results,
b=a.find("li.select2-more-results"),c,d=this.resultsPage+1,h=this,l=this.search.val(),m=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),0>=c&&(b.addClass("select2-active"),this.opts.query({term:l,page:d,context:m,matcher:this.opts.matcher,callback:this.bind(function(c){h.opened()&&(h.opts.populateResults.call(this,a,c.results,{term:l,page:d,context:m}),!0===c.more?(b.detach().appendTo(a).text(h.opts.formatLoadMore(d+1)),window.setTimeout(function(){h.loadMoreIfNeeded()},10)):
b.remove(),h.positionDropdown(),h.resultsPage=d)})})))},tokenize:function(){},updateResults:function(a){function b(){l.scrollTop(0);h.removeClass("select2-active");p.positionDropdown()}function d(a){l.html(p.opts.escapeMarkup(a));b()}var h=this.search,l=this.results,m=this.opts,e,p=this;if(!0===a||!1!==this.showSearchInput&&this.opened()){h.addClass("select2-active");if(1<=m.maximumSelectionSize&&(e=this.data(),c.isArray(e)&&e.length>=m.maximumSelectionSize&&w(m.formatSelectionTooBig,"formatSelectionTooBig"))){d("\x3cli class\x3d'select2-selection-limit'\x3e"+
m.formatSelectionTooBig(m.maximumSelectionSize)+"\x3c/li\x3e");return}h.val().length<m.minimumInputLength?w(m.formatInputTooShort,"formatInputTooShort")?d("\x3cli class\x3d'select2-no-results'\x3e"+m.formatInputTooShort(h.val(),m.minimumInputLength)+"\x3c/li\x3e"):d(""):(m.formatSearching()&&d("\x3cli class\x3d'select2-searching'\x3e"+m.formatSearching()+"\x3c/li\x3e"),e=this.tokenize(),e!=g&&null!=e&&h.val(e),this.resultsPage=1,m.query({term:h.val(),page:this.resultsPage,context:null,matcher:m.matcher,
callback:this.bind(function(e){var u;this.opened()&&(this.context=e.context===g?null:e.context,this.opts.createSearchChoice&&""!==h.val()&&(u=this.opts.createSearchChoice.call(null,h.val(),e.results),u!==g&&null!==u&&p.id(u)!==g&&null!==p.id(u)&&0===c(e.results).filter(function(){return f(p.id(this),p.id(u))}).length&&e.results.unshift(u)),0===e.results.length&&w(m.formatNoMatches,"formatNoMatches")?d("\x3cli class\x3d'select2-no-results'\x3e"+m.formatNoMatches(h.val())+"\x3c/li\x3e"):(l.empty(),
p.opts.populateResults.call(this,l,e.results,{term:h.val(),page:this.resultsPage,context:null}),!0===e.more&&w(m.formatLoadMore,"formatLoadMore")&&(l.append("\x3cli class\x3d'select2-more-results'\x3e"+p.opts.escapeMarkup(m.formatLoadMore(this.resultsPage))+"\x3c/li\x3e"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(e,a),b()))})}))}},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");
this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.opts.element.triggerHandler("blur")},focusSearch:function(){this.search.show();this.search.focus();window.setTimeout(this.bind(function(){this.search.show();this.search.focus();this.search.val(this.search.val())}),10)},selectHighlighted:function(){var a=this.highlight(),b=this.results.find(".select2-highlighted").not(".select2-disabled"),
c=b.closest(".select2-result-selectable").data("select2-data");c&&(b.addClass("select2-disabled"),this.highlight(a),this.onSelect(c))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var a=function(){var a,b,d,k;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+
"px";if("copy"===this.opts.width||"resolve"===this.opts.width){a=this.opts.element.attr("style");if(a!==g)for(a=a.split(";"),d=0,k=a.length;d<k;d+=1)if(b=a[d].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==b&&1<=b.length)return b[1];return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return c.isFunction(this.opts.width)?this.opts.width():
this.opts.width}.call(this);null!==a&&this.container.attr("style","width: "+a)}});ta=R(xa,{createContainer:function(){return c("\x3cdiv\x3e\x3c/div\x3e",{"class":"select2-container"}).html("    \x3ca href\x3d'javascript:void(0)' onclick\x3d'return false;' class\x3d'select2-choice'\x3e   \x3cspan\x3e\x3c/span\x3e\x3cabbr class\x3d'select2-search-choice-close' style\x3d'display:none;'\x3e\x3c/abbr\x3e   \x3cdiv\x3e\x3cb\x3e\x3c/b\x3e\x3c/div\x3e\x3c/a\x3e    \x3cdiv class\x3d'select2-drop select2-offscreen'\x3e   \x3cdiv class\x3d'select2-search'\x3e       \x3cinput type\x3d'text' autocomplete\x3d'off' class\x3d'select2-input'/\x3e   \x3c/div\x3e   \x3cul class\x3d'select2-results'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},
initContainer:function(){var a,b=this.dropdown;this.selection=a=this.container.find(".select2-choice");this.search.bind("keydown",this.bind(function(a){if(this.enabled)if(a.which===u.PAGE_UP||a.which===u.PAGE_DOWN)p(a);else if(this.opened())switch(a.which){case u.UP:case u.DOWN:this.moveHighlight(a.which===u.UP?-1:1);p(a);break;case u.TAB:case u.ENTER:this.selectHighlighted();p(a);break;case u.ESC:this.cancel(a),p(a)}else a.which===u.TAB||u.isControl(a)||u.isFunctionKey(a)||a.which===u.ESC||!1===
this.opts.openOnEnter&&a.which===u.ENTER||this.open()}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")}));this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){var a=this.opts.element.attr("tabIndex");a?this.selection.attr("tabIndex",a):this.selection.removeAttr("tabIndex")}),10)}));a.delegate("abbr","mousedown",this.bind(function(a){this.enabled&&(this.clear(),
a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.triggerChange(),this.selection.focus())}));a.bind("mousedown",this.bind(function(a){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open()}));b.bind("mousedown",this.bind(function(){this.search.focus()}));a.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1")}));a.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");
window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));a.bind("keydown",this.bind(function(a){if(this.enabled)if(a.which==u.DOWN||a.which==u.UP||a.which==u.ENTER&&this.opts.openOnEnter)this.open(),p(a);else if(a.which==u.DELETE||a.which==u.BACKSPACE)this.opts.allowClear&&this.clear(),p(a)}));a.bind("keypress",this.bind(function(a){a=String.fromCharCode(a.which);this.search.val(a);this.open()}));this.setPlaceholder();this.search.bind("focus",
this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==g&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},prepareOpts:function(){var a=
this.parent.prepareOpts.apply(this,arguments);"select"===a.element.get(0).tagName.toLowerCase()&&(a.initSelection=function(a,b){var d=a.find(":selected");c.isFunction(b)&&b({id:d.attr("value"),text:d.text(),element:d})});return a},setPlaceholder:function(){var a=this.getPlaceholder();""!==this.opts.element.val()||a===g||this.select&&""!==this.select.find("option:first").text()||(this.selection.find("span").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},
postprocessResults:function(a,b){var d=0,h=this,l=!0;this.results.find(".select2-result-selectable").each2(function(a,b){if(f(h.id(b.data("select2-data")),h.opts.element.val()))return d=a,!1});this.highlight(d);!0===b&&(l=this.showSearchInput=G(a.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[l?"removeClass":"addClass"]("select2-search-hidden"),c(this.dropdown,this.container)[l?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(a){var b=this.opts.element.val();
this.opts.element.val(this.id(a));this.updateSelection(a);this.close();this.selection.focus();f(b,this.id(a))||this.triggerChange()},updateSelection:function(a){var b=this.selection.find("span");this.selection.data("select2-data",a);b.empty();a=this.opts.formatSelection(a,b);a!==g&&b.append(this.opts.escapeMarkup(a));this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==g&&this.selection.find("abbr").show()},val:function(){var a,b=null,c=this;if(0===arguments.length)return this.opts.element.val();
a=arguments[0];if(this.select)this.select.val(a).find(":selected").each2(function(a,c){b={id:c.attr("value"),text:c.text()};return!1}),this.updateSelection(b),this.setPlaceholder();else{if(this.opts.initSelection===g)throw Error("cannot call val() if initSelection() is not defined");a?(this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){c.opts.element.val(a?c.id(a):"");c.updateSelection(a);c.setPlaceholder()})):this.clear()}},clearSearch:function(){this.search.val("")},
data:function(a){var b;if(0===arguments.length)return b=this.selection.data("select2-data"),b==g&&(b=null),b;a&&""!==a?(this.opts.element.val(a?this.id(a):""),this.updateSelection(a)):this.clear()}});Ua=R(xa,{createContainer:function(){return c("\x3cdiv\x3e\x3c/div\x3e",{"class":"select2-container select2-container-multi"}).html("    \x3cul class\x3d'select2-choices'\x3e  \x3cli class\x3d'select2-search-field'\x3e    \x3cinput type\x3d'text' autocomplete\x3d'off' class\x3d'select2-input'\x3e  \x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'select2-drop select2-drop-multi' style\x3d'display:none;'\x3e   \x3cul class\x3d'select2-results'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments);"select"===a.element.get(0).tagName.toLowerCase()&&(a.initSelection=function(a,b){var d=[];a.find(":selected").each2(function(a,b){d.push({id:b.attr("value"),text:b.text(),element:b})});c.isFunction(b)&&b(d)});return a},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");this.search.bind("keydown",this.bind(function(b){if(this.enabled){if(b.which===
u.BACKSPACE&&""===this.search.val()){this.close();var c;c=a.find(".select2-search-choice-focus");if(0<c.length){this.unselect(c.first());this.search.width(10);p(b);return}c=a.find(".select2-search-choice:not(.select2-locked)");0<c.length&&c.last().addClass("select2-search-choice-focus")}else a.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(b.which){case u.UP:case u.DOWN:this.moveHighlight(b.which===u.UP?-1:1);p(b);return;case u.ENTER:case u.TAB:this.selectHighlighted();
p(b);return;case u.ESC:this.cancel(b);p(b);return}b.which===u.TAB||u.isControl(b)||u.isFunctionKey(b)||b.which===u.BACKSPACE||b.which===u.ESC||!1===this.opts.openOnEnter&&b.which===u.ENTER||(this.open(),b.which!==u.PAGE_UP&&b.which!==u.PAGE_DOWN||p(b))}}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(a){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.clearSearch();a.stopImmediatePropagation()}));
this.container.delegate(".select2-choices","mousedown",this.bind(function(a){!this.enabled||0<c(a.target).closest(".select2-search-choice").length||(this.clearPlaceholder(),this.open(),this.focusSearch(),a.preventDefault())}));this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,
arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==g&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=
this.getPlaceholder();a!==g&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch()},close:function(){this.opened()&&
this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var b=[],d=[],h=this;c(a).each(function(){0>t(h.id(this),b)&&(b.push(h.id(this)),d.push(this))});a=d;this.selection.find(".select2-search-choice").remove();c(a).each(function(){h.addSelectedChoice(this)});h.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer(a,this.data(),this.bind(this.onSelect),
this.opts);null!=a&&a!=g&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a){this.addSelectedChoice(a);!this.select&&this.opts.closeOnSelect||this.postprocessResults();this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close();this.triggerChange({added:a});this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var b=!a.locked,
d=c("\x3cli class\x3d'select2-search-choice'\x3e    \x3cdiv\x3e\x3c/div\x3e    \x3ca href\x3d'#' onclick\x3d'return false;' class\x3d'select2-search-choice-close' tabindex\x3d'-1'\x3e\x3c/a\x3e\x3c/li\x3e"),h=c("\x3cli class\x3d'select2-search-choice select2-locked'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/li\x3e"),d=b?d:h,h=this.id(a),l=this.getVal(),m;m=this.opts.formatSelection(a,d.find("div"));m!=g&&d.find("div").replaceWith("\x3cdiv\x3e"+this.opts.escapeMarkup(m)+"\x3c/div\x3e");b&&d.find(".select2-search-choice-close").bind("mousedown",
p).bind("click dblclick",this.bind(function(a){this.enabled&&(c(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(c(a.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),p(a))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));d.data("select2-data",a);d.insertBefore(this.searchContainer);
l.push(h);this.setVal(l)},unselect:function(a){var b=this.getVal(),c,d;a=a.closest(".select2-search-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";c=a.data("select2-data");d=t(this.id(c),b);0<=d&&(b.splice(d,1),this.setVal(b),this.select&&this.postprocessResults());a.remove();this.triggerChange({removed:c})},postprocessResults:function(){var a=this.getVal(),b=this.results.find(".select2-result-selectable"),c=this.results.find(".select2-result-with-children"),
d=this;b.each2(function(b,c){var h=d.id(c.data("select2-data"));0<=t(h,a)?c.addClass("select2-disabled").removeClass("select2-result-selectable"):c.removeClass("select2-disabled").addClass("select2-result-selectable")});c.each2(function(a,b){b.is(".select2-result-selectable")||0!=b.find(".select2-result-selectable").length?b.removeClass("select2-disabled"):b.addClass("select2-disabled")});-1==this.highlight()&&b.each2(function(a,b){if(!b.hasClass("select2-disabled")&&b.hasClass("select2-result-selectable"))return d.highlight(0),
!1})},resizeSearch:function(){var a,b,d,h,l;l=this.search;l=l.outerWidth(!1)-l.width();a=this.search;y||(d=a[0].currentStyle||window.getComputedStyle(a[0],null),y=c("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),c("body").append(y));y.text(a.val());a=y.width()+10;b=this.search.offset().left;
d=this.selection.width();h=this.selection.offset().left;b=d-(b-h)-l;b<a&&(b=d-l);40>b&&(b=d-l);this.search.width(b)},getVal:function(){var a;if(this.select)return a=this.select.val(),null===a?[]:a;a=this.opts.element.val();return e(a,this.opts.separator)},setVal:function(a){var b;this.select?this.select.val(a):(b=[],c(a).each(function(){0>t(this,b)&&b.push(this)}),this.opts.element.val(0===b.length?"":b.join(this.opts.separator)))},val:function(){var a,b=[],d=this;if(0===arguments.length)return this.getVal();
if(a=arguments[0])if(this.setVal(a),this.select)this.select.find(":selected").each(function(){b.push({id:c(this).attr("value"),text:c(this).text()})}),this.updateSelection(b);else{if(this.opts.initSelection===g)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(a){var b=c(a).map(d.id);d.setVal(b);d.updateSelection(a);d.clearSearch()})}else this.opts.element.val(""),this.updateSelection([]);this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to \x3cselect\x3e. Attach to \x3cinput type\x3d'hidden'/\x3e instead.");
this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(c(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a){var b=this,d;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return c(this).data("select2-data")}).get();
a||(a=[]);d=c.map(a,function(a){return b.opts.id(a)});this.setVal(d);this.updateSelection(a);this.clearSearch()}});c.fn.select2=function(){var a=Array.prototype.slice.call(arguments,0),b,d,h,l,m="val destroy opened open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");this.each(function(){if(0===a.length||"object"===typeof a[0])b=0===a.length?{}:c.extend({},a[0]),b.element=c(this),"select"===b.element.get(0).tagName.toLowerCase()?l=b.element.attr("multiple"):
(l=b.multiple||!1,"tags"in b&&(b.multiple=l=!0)),d=l?new Ua:new ta,d.init(b);else if("string"===typeof a[0]){if(0>t(a[0],m))throw"Unknown method: "+a[0];h=g;d=c(this).data("select2");if(d!==g&&(h="container"===a[0]?d.container:d[a[0]].apply(d,a.slice(1)),h!==g))return!1}else throw"Invalid arguments to select2 plugin: "+a;});return h===g?this:h};c.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,
b,c){b=[];A(a.text,c.term,b);return b.join("")},formatSelection:function(a,b){return a?a.text:g},formatResultCssClass:function(a){return g},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,
minimumInputLength:0,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=b.toUpperCase().indexOf(a.toUpperCase())},separator:",",tokenSeparators:[],tokenizer:P,escapeMarkup:function(a){return a&&"string"===typeof a?a.replace(/&/g,"\x26amp;"):a},blurOnChange:!1};window.Select2={query:{ajax:h,local:m,tags:l},util:{debounce:a,markMatch:A},"class":{"abstract":xa,single:ta,multi:Ua}}}});
(function(c,g){function t(a){return p.PF.compile(a||"nplurals\x3d2; plural\x3d(n !\x3d 1);")}function f(a,b){this._key=a;this._i18n=b}var e=Array.prototype,n=e.slice,d=Object.prototype.hasOwnProperty,a=e.forEach,b={},x={forEach:function(c,m,l){var e,f;if(null!==c)if(a&&c.forEach===a)c.forEach(m,l);else if(c.length===+c.length)for(e=0,f=c.length;e<f&&!(e in c&&m.call(l,c[e],e,c)===b);e++);else for(e in c)if(d.call(c,e)&&m.call(l,c[e],e,c)===b)break},extend:function(a){this.forEach(n.call(arguments,
1),function(b){for(var c in b)a[c]=b[c]});return a}},p=function(a){this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals\x3d2; plural\x3d(n !\x3d 1);"}}},domain:"messages"};this.options=x.extend({},this.defaults,a);this.textdomain(this.options.domain);if(a.domain&&!this.options.locale_data[this.options.domain])throw Error("Text domain set to non-existent domain: `"+a.domain+"`");};p.context_delimiter=String.fromCharCode(4);x.extend(f.prototype,{onDomain:function(a){this._domain=
a;return this},withContext:function(a){this._context=a;return this},ifPlural:function(a,b){this._val=a;this._pkey=b;return this},fetch:function(a){"[object Array]"!={}.toString.call(a)&&(a=[].slice.call(arguments));return(a&&a.length?p.sprintf:function(a){return a})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),a)}});x.extend(p.prototype,{translate:function(a){return new f(a,this)},textdomain:function(a){if(!a)return this._textdomain;this._textdomain=a},gettext:function(a){return this.dcnpgettext.call(this,
g,g,a)},dgettext:function(a,b){return this.dcnpgettext.call(this,a,g,b)},dcgettext:function(a,b){return this.dcnpgettext.call(this,a,g,b)},ngettext:function(a,b,c){return this.dcnpgettext.call(this,g,g,a,b,c)},dngettext:function(a,b,c,d){return this.dcnpgettext.call(this,a,g,b,c,d)},dcngettext:function(a,b,c,d){return this.dcnpgettext.call(this,a,g,b,c,d)},pgettext:function(a,b){return this.dcnpgettext.call(this,g,a,b)},dpgettext:function(a,b,c){return this.dcnpgettext.call(this,a,b,c)},dcpgettext:function(a,
b,c){return this.dcnpgettext.call(this,a,b,c)},npgettext:function(a,b,c,d){return this.dcnpgettext.call(this,g,a,b,c,d)},dnpgettext:function(a,b,c,d,e){return this.dcnpgettext.call(this,a,b,c,d,e)},dcnpgettext:function(a,b,c,d,e){d=d||c;a=a||this._textdomain;e="undefined"==typeof e?1:e;if(!this.options)return a=new p,a.dcnpgettext.call(a,void 0,void 0,c,d,e);if(!this.options.locale_data)throw Error("No locale data provided.");if(!this.options.locale_data[a])throw Error("Domain `"+a+"` was not found.");
if(!this.options.locale_data[a][""])throw Error("No locale meta information provided.");if(!c)throw Error("No translation key found.");if("number"!=typeof e&&(e=parseInt(e,10),isNaN(e)))throw Error("The number that was passed in is not a number.");b=b?b+p.context_delimiter+c:c;var f=this.options.locale_data,g=f[a],f=g[""].plural_forms||(f.messages||this.defaults.locale_data.messages)[""].plural_forms,n=t(f)(e)+1;if(!g)throw Error("No domain named `"+a+"` could be found.");a=g[b];if(!a||n>=a.length)return this.options.missing_key_callback&&
this.options.missing_key_callback(b),a=[null,c,d],a[t(f)(e)+1];a=a[n];return a?a:(a=[null,c,d],a[t(f)(e)+1])}});var A=function(){function a(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var b=function(){b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=b.parse(arguments[0]));return b.format.call(null,b.cache[arguments[0]],arguments)};b.format=function(b,c){var d=1,e=b.length,f,m=[],g,p,n,x;for(g=0;g<e;g++)if(f=a(b[g]),"string"===f)m.push(b[g]);else if("array"===
f){n=b[g];if(n[2])for(f=c[d],p=0;p<n[2].length;p++){if(!f.hasOwnProperty(n[2][p]))throw A('[sprintf] property "%s" does not exist',n[2][p]);f=f[n[2][p]]}else f=n[1]?c[n[1]]:c[d++];if(/[^s]/.test(n[8])&&"number"!=a(f))throw A("[sprintf] expecting number but found %s",a(f));if("undefined"==typeof f||null===f)f="";switch(n[8]){case "b":f=f.toString(2);break;case "c":f=String.fromCharCode(f);break;case "d":f=parseInt(f,10);break;case "e":f=n[7]?f.toExponential(n[7]):f.toExponential();break;case "f":f=
n[7]?parseFloat(f).toFixed(n[7]):parseFloat(f);break;case "o":f=f.toString(8);break;case "s":f=(f=String(f))&&n[7]?f.substring(0,n[7]):f;break;case "u":f=Math.abs(f);break;case "x":f=f.toString(16);break;case "X":f=f.toString(16).toUpperCase()}f=/[def]/.test(n[8])&&n[3]&&0<=f?"+"+f:f;p=n[4]?"0"==n[4]?"0":n[4].charAt(1):" ";x=n[6]-String(f).length;if(n[6]){for(var t=[];0<x;t[--x]=p);p=t.join("")}else p="";m.push(n[5]?f+p:p+f)}return m.join("")};b.cache={};b.parse=function(a){for(var b,c=[],d=0;a;){if(null!==
(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var d=d|1,f=[],e=b[2],h;if(null!==(h=/^([a-z_][a-z_\d]*)/i.exec(e)))for(f.push(h[1]);""!==(e=e.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(e)))f.push(h[1]);else if(null!==(h=/^\[(\d+)\]/.exec(e)))f.push(h[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=
f}else d|=2;if(3===d)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return c};return b}();p.parse_plural=function(a,b){a=a.replace(/n/g,b);return p.parse_expression(a)};p.sprintf=function(a,b){if("[object Array]"=={}.toString.call(b)){var c=[].slice.call(b);c.unshift(a);return A.apply(null,c)}return A.apply(this,[].slice.call(arguments))};p.prototype.sprintf=function(){return p.sprintf.apply(this,arguments)};
p.PF={};p.PF.parse=function(a){a=p.PF.extractPluralExpr(a);return p.PF.parser.parse.call(p.PF.parser,a)};p.PF.compile=function(a){var b=p.PF.parse(a);return function(a){a=p.PF.interpreter(b)(a);return!0===a?1:a?a:0}};p.PF.interpreter=function(a){return function(b){switch(a.type){case "GROUP":return p.PF.interpreter(a.expr)(b);case "TERNARY":return p.PF.interpreter(a.expr)(b)?p.PF.interpreter(a.truthy)(b):p.PF.interpreter(a.falsey)(b);case "OR":return p.PF.interpreter(a.left)(b)||p.PF.interpreter(a.right)(b);
case "AND":return p.PF.interpreter(a.left)(b)&&p.PF.interpreter(a.right)(b);case "LT":return p.PF.interpreter(a.left)(b)<p.PF.interpreter(a.right)(b);case "GT":return p.PF.interpreter(a.left)(b)>p.PF.interpreter(a.right)(b);case "LTE":return p.PF.interpreter(a.left)(b)<=p.PF.interpreter(a.right)(b);case "GTE":return p.PF.interpreter(a.left)(b)>=p.PF.interpreter(a.right)(b);case "EQ":return p.PF.interpreter(a.left)(b)==p.PF.interpreter(a.right)(b);case "NEQ":return p.PF.interpreter(a.left)(b)!=p.PF.interpreter(a.right)(b);
case "MOD":return p.PF.interpreter(a.left)(b)%p.PF.interpreter(a.right)(b);case "VAR":return b;case "NUM":return a.val;default:throw Error("Invalid Token found.");}}};p.PF.extractPluralExpr=function(a){a=a.replace(/^\s\s*/,"").replace(/\s\s*$/,"");/;\s*$/.test(a)||(a=a.concat(";"));var b=/nplurals\=(\d+);/;if(!(1<a.match(b).length))throw Error("nplurals not found in plural_forms string: "+a);a=a.replace(b,"");b=a.match(/plural\=(.*);/);if(!(b&&1<b.length))throw Error("`plural` expression not found: "+
a);return b[1]};p.PF.parser=function(){var a={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"\x26\x26":9,"\x3c":10,"\x3c\x3d":11,"\x3e":12,"\x3e\x3d":13,"!\x3d":14,"\x3d\x3d":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"\x26\x26",10:"\x3c",11:"\x3c\x3d",12:"\x3e",13:"\x3e\x3d",14:"!\x3d",15:"\x3d\x3d",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,
3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(a,b,c,d,f,e,g){b=e.length-1;switch(f){case 1:return{type:"GROUP",expr:e[b-1]};case 2:this.$={type:"TERNARY",expr:e[b-4],truthy:e[b-2],falsey:e[b]};break;case 3:this.$={type:"OR",left:e[b-2],right:e[b]};break;case 4:this.$={type:"AND",left:e[b-2],right:e[b]};break;case 5:this.$={type:"LT",left:e[b-2],right:e[b]};break;case 6:this.$={type:"LTE",left:e[b-2],right:e[b]};break;case 7:this.$={type:"GT",left:e[b-2],right:e[b]};break;case 8:this.$=
{type:"GTE",left:e[b-2],right:e[b]};break;case 9:this.$={type:"NEQ",left:e[b-2],right:e[b]};break;case 10:this.$={type:"EQ",left:e[b-2],right:e[b]};break;case 11:this.$={type:"MOD",left:e[b-2],right:e[b]};break;case 12:this.$={type:"GROUP",expr:e[b-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(a)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,
3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,
3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,
10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,
8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,
12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(a,b){throw Error(a);},parse:function(a){function b(){var a;a=c.lexer.lex()||1;"number"!==typeof a&&(a=c.symbols_[a]||a);return a}var c=this,d=[0],e=[null],f=[],g=this.table,p="",n=0,h=0,m=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;"undefined"==typeof this.lexer.yylloc&&
(this.lexer.yylloc={});a=this.lexer.yylloc;f.push(a);"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var x,t,A,k,M={},I,ea;;){A=d[d.length-1];this.defaultActions[A]?k=this.defaultActions[A]:(null==x&&(x=b()),k=g[A]&&g[A][x]);if("undefined"===typeof k||!k.length||!k[0]){if(!m){t=[];for(I in g[A])this.terminals_[I]&&2<I&&t.push("'"+this.terminals_[I]+"'");var ra="",ra=this.lexer.showPosition?"Parse error on line "+(n+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+
t.join(", ")+", got '"+this.terminals_[x]+"'":"Parse error on line "+(n+1)+": Unexpected "+(1==x?"end of input":"'"+(this.terminals_[x]||x)+"'");this.parseError(ra,{text:this.lexer.match,token:this.terminals_[x]||x,line:this.lexer.yylineno,loc:a,expected:t})}if(3==m){if(1==x)throw Error(ra||"Parsing halted.");h=this.lexer.yyleng;p=this.lexer.yytext;n=this.lexer.yylineno;a=this.lexer.yylloc;x=b()}for(;!((2).toString()in g[A]);){if(0==A)throw Error(ra||"Parsing halted.");d.length-=2;--e.length;--f.length;
A=d[d.length-1]}t=x;x=2;A=d[d.length-1];k=g[A]&&g[A][2];m=3}if(k[0]instanceof Array&&1<k.length)throw Error("Parse Error: multiple actions possible at state: "+A+", token: "+x);switch(k[0]){case 1:d.push(x);e.push(this.lexer.yytext);f.push(this.lexer.yylloc);d.push(k[1]);x=null;t?(x=t,t=null):(h=this.lexer.yyleng,p=this.lexer.yytext,n=this.lexer.yylineno,a=this.lexer.yylloc,0<m&&m--);break;case 2:ea=this.productions_[k[1]][1];M.$=e[e.length-ea];M._$={first_line:f[f.length-(ea||1)].first_line,last_line:f[f.length-
1].last_line,first_column:f[f.length-(ea||1)].first_column,last_column:f[f.length-1].last_column};A=this.performAction.call(M,p,h,n,this.yy,k[1],e,f);if("undefined"!==typeof A)return A;ea&&(d=d.slice(0,-2*ea),e=e.slice(0,-1*ea),f=f.slice(0,-1*ea));d.push(this.productions_[k[1]][0]);e.push(M.$);f.push(M._$);k=g[d[d.length-2]][d[d.length-1]];d.push(k);break;case 3:return!0}}}},b=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parseError)this.yy.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=
a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.match+=a;this.matched+=a;a.match(/\n/)&&this.yylineno++;this._input=this._input.slice(1);return a},unput:function(a){this._input=a+this._input;return this},more:function(){this._more=!0;return this},pastInput:function(){var a=
this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b;this._more||(this.match=
this.yytext="");for(var c=this._currentRules(),d=0;d<c.length;d++)if(a=this._input.match(this.rules[c[d]])){if(b=a[0].match(/\n.*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-1:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];if(a=
this.performAction.call(this,this.yy,this,c[d],this.conditionStack[this.conditionStack.length-1]))return a;return}if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},performAction:function(a,b,c,d){switch(c){case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},rules:[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,
/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}}}();a.lexer=b;return a}();"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=p),exports.Jed=p):("function"===typeof define&&define.amd&&define("jed",[],function(){return p}),c.Jed=p)})(this);define("app/i18n",["jed","lang"],function(c,g){return new Jed(g)});
requirejs.config({baseUrl:"../static/js/lib",paths:{app:"../app",jquery:"//code.jquery.com/jquery-1.11.3.min",jqueryui:"//code.jquery.com/ui/1.11.4/jquery-ui.min"}});
require(["jquery","jqueryui","select2","app/i18n"],function(c,g,t,f){c(function(){c.extend(c.fn.select2.defaults,{formatNoMatches:function(){return f.gettext("No matches found")},formatInputTooShort:function(c,g){var d=g-c.length;return f.sprintf(f.ngettext("Please enter %1$d more character","Please enter %1$d more characters",d),d)},formatInputTooLong:function(c,g){var d=c.length-g;return f.sprintf(f.ngettext("Please delete %1$d character","Please delete %1$d characters",d),d)},formatSelectionTooBig:function(c){return f.sprintf(f.ngettext("You can only select %1$d item",
"You can only select %1$d items",c),c)},formatLoadMore:function(c){return f.gettext("Loading more results...")},formatSearching:function(){return f.gettext("Searching...")}});c("#menu").menu();c("#left").show()})});define("../common",function(){});
(function(c,g){"function"===typeof define&&define.amd?define("slick.core",["jquery"],g):c.Slick=g()})(this,function(c){function g(){var c=!1,a=!1;this.stopPropagation=function(){c=!0};this.isPropagationStopped=function(){return c};this.stopImmediatePropagation=function(){a=!0};this.isImmediatePropagationStopped=function(){return a}}function t(){this.__nonDataRow=!0}function f(){this.__group=!0;this.count=this.level=0;this.title=this.value=null;this.collapsed=!1;this.totals=null;this.rows=[];this.groupingKey=
this.groups=null}function e(){this.__groupTotals=!0;this.group=null;this.initialized=!1}function n(){var c=null;this.isActive=function(a){return a?c===a:null!==c};this.activate=function(a){if(a!==c){if(null!==c)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!a.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!a.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";
c=a}};this.deactivate=function(a){if(c!==a)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";c=null};this.commitCurrentEdit=function(){return c?c.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return c?c.cancelCurrentEdit():!0}}c.extend(!0,window,{Slick:{Event:function(){var c=[];this.subscribe=function(a){c.push(a)};this.unsubscribe=function(a){for(var b=c.length-1;0<=b;b--)c[b]===a&&c.splice(b,1)};this.notify=function(a,b,f){b=b||new g;f=
f||this;for(var e,n=0;n<c.length&&!b.isPropagationStopped()&&!b.isImmediatePropagationStopped();n++)e=c[n].call(f,b,a);return e}},EventData:g,EventHandler:function(){var c=[];this.subscribe=function(a,b){c.push({event:a,handler:b});a.subscribe(b);return this};this.unsubscribe=function(a,b){for(var f=c.length;f--;)if(c[f].event===a&&c[f].handler===b){c.splice(f,1);a.unsubscribe(b);return}return this};this.unsubscribeAll=function(){for(var a=c.length;a--;)c[a].event.unsubscribe(c[a].handler);c=[];return this}},
Range:function(c,a,b,f){void 0===b&&void 0===f&&(b=c,f=a);this.fromRow=Math.min(c,b);this.fromCell=Math.min(a,f);this.toRow=Math.max(c,b);this.toCell=Math.max(a,f);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(a,b){return a>=this.fromRow&&a<=this.toRow&&b>=this.fromCell&&b<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+
")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:t,Group:f,GroupTotals:e,EditorLock:n,GlobalEditorLock:new n,keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38}}});f.prototype=new t;f.prototype.equals=function(c){return this.value===c.value&&this.count===c.count&&this.collapsed===c.collapsed&&this.title===c.title};e.prototype=new t;return Slick});
(function(c){"function"===typeof define&&define.amd?define("jquery.event/drag",["jquery"],c):c(jQuery)})(function(c){c.fn.drag=function(d,a,b){var f="string"==typeof d?d:"",e=c.isFunction(d)?d:c.isFunction(a)?a:null;0!==f.indexOf("drag")&&(f="drag"+f);b=(d==e?a:b)||{};return e?this.bind(f,b,e):this.trigger(f)};var g=c.event,t=g.special,f=t.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(d){var a=c.data(this,f.datakey),
b=d.data||{};a.related+=1;c.each(f.defaults,function(c,d){void 0!==b[c]&&(a[c]=b[c])})},remove:function(){--c.data(this,f.datakey).related},setup:function(){if(!c.data(this,f.datakey)){var d=c.extend({related:0},f.defaults);c.data(this,f.datakey,d);g.add(this,"touchstart mousedown",f.init,d);this.attachEvent&&this.attachEvent("ondragstart",f.dontstart)}},teardown:function(){(c.data(this,f.datakey)||{}).related||(c.removeData(this,f.datakey),g.remove(this,"touchstart mousedown",f.init),f.textselect(!0),
this.detachEvent&&this.detachEvent("ondragstart",f.dontstart))},init:function(d){if(!f.touched){var a=d.data,b;if(!(0!=d.which&&0<a.which&&d.which!=a.which||c(d.target).is(a.not)||a.handle&&!c(d.target).closest(a.handle,d.currentTarget).length)&&(f.touched="touchstart"==d.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[f.interaction(this,a)],a.target=d.target,a.pageX=d.pageX,a.pageY=d.pageY,a.dragging=null,b=f.hijack(d,"draginit",a),a.propagates&&((b=f.flatten(b))&&b.length&&(a.interactions=
[],c.each(b,function(){a.interactions.push(f.interaction(this,a))})),a.propagates=a.interactions.length,!1!==a.drop&&t.drop&&t.drop.handler(d,a),f.textselect(!1),f.touched?g.add(f.touched,"touchmove touchend",f.handler,a):g.add(document,"mousemove mouseup",f.handler,a),!f.touched||a.live)))return!1}},interaction:function(d,a){var b=c(d)[a.relative?"position":"offset"]()||{top:0,left:0};return{drag:d,callback:new f.callback,droppable:[],offset:b}},handler:function(d){var a=d.data;switch(d.type){case !a.dragging&&
"touchmove":d.preventDefault();case !a.dragging&&"mousemove":if(Math.pow(d.pageX-a.pageX,2)+Math.pow(d.pageY-a.pageY,2)<Math.pow(a.distance,2))break;d.target=a.target;f.hijack(d,"dragstart",a);a.propagates&&(a.dragging=!0);case "touchmove":d.preventDefault();case "mousemove":if(a.dragging){f.hijack(d,"drag",a);if(a.propagates){!1!==a.drop&&t.drop&&t.drop.handler(d,a);break}d.type="mouseup"}default:f.touched?g.remove(f.touched,"touchmove touchend",f.handler):g.remove(document,"mousemove mouseup",f.handler),
a.dragging&&(!1!==a.drop&&t.drop&&t.drop.handler(d,a),f.hijack(d,"dragend",a)),f.textselect(!0),!1===a.click&&a.dragging&&c.data(a.mousedown,"suppress.click",(new Date).getTime()+5),a.dragging=f.touched=!1}},hijack:function(d,a,b,e,n){if(b){var t=d.originalEvent,h=d.type,m=a.indexOf("drop")?"drag":"drop",l,w=e||0,B,G;e=isNaN(e)?b.interactions.length:e;d.type=a;d.originalEvent=null;b.results=[];do!(B=b.interactions[w])||"dragend"!==a&&B.cancelled||(G=f.properties(d,b,B),B.results=[],c(n||B[m]||b.droppable).each(function(e,
n){G.target=n;d.isPropagationStopped=function(){return!1};l=n?g.dispatch.call(n,d,G):null;!1===l?("drag"==m&&(B.cancelled=!0,--b.propagates),"drop"==a&&(B[m][e]=null)):"dropinit"==a&&B.droppable.push(f.element(l)||n);"dragstart"==a&&(B.proxy=c(f.element(l)||B.drag)[0]);B.results.push(l);delete d.result;if("dropinit"!==a)return l}),b.results[w]=f.flatten(B.results),"dropinit"==a&&(B.droppable=f.flatten(B.droppable)),"dragstart"!=a||B.cancelled||G.update());while(++w<e);d.type=h;d.originalEvent=t;return f.flatten(b.results)}},
properties:function(c,a,b){var e=b.callback;e.drag=b.drag;e.proxy=b.proxy||b.drag;e.startX=a.pageX;e.startY=a.pageY;e.deltaX=c.pageX-a.pageX;e.deltaY=c.pageY-a.pageY;e.originalX=b.offset.left;e.originalY=b.offset.top;e.offsetX=e.originalX+e.deltaX;e.offsetY=e.originalY+e.deltaY;e.drop=f.flatten((b.drop||[]).slice());e.available=f.flatten((b.droppable||[]).slice());return e},element:function(c){if(c&&(c.jquery||1==c.nodeType))return c},flatten:function(d){return c.map(d,function(a){return a&&a.jquery?
c.makeArray(a):a&&a.length?f.flatten(a):a})},textselect:function(d){c(document)[d?"unbind":"bind"]("selectstart",f.dontstart).css("MozUserSelect",d?"":"none");document.unselectable=d?"off":"on"},dontstart:function(){return!1},callback:function(){}};f.callback.prototype={update:function(){t.drop&&this.available.length&&c.each(this.available,function(c){t.drop.locate(this,c)})}};var e=g.dispatch;g.dispatch=function(d){if(0<c.data(this,"suppress."+d.type)-(new Date).getTime())c.removeData(this,"suppress."+
d.type);else return e.apply(this,arguments)};var n=g.fixHooks.touchstart=g.fixHooks.touchmove=g.fixHooks.touchend=g.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(d,a){if(a){var b=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0]||null;b&&c.each(n.props,function(a,c){d[c]=b[c]})}return d}};t.draginit=t.dragstart=t.dragend=f});
(function(c,g){"function"===typeof define&&define.amd?define("slick.grid",["jquery","./slick.core","jquery.event/drag"],g):c.Slick.Grid=g(c.jQuery,c.Slick)})(this,function(c,g){function t(n,d,a,b){function t(){ka||(ka=!0,V=parseFloat(c.css(H[0],"width",!0)),Ua(),B(N),b.enableTextSelectionOnCells||K.bind("selectstart.ui",function(a){return c(a.target).is("input,textarea")}),ra(),P(),R(),Va(),fa(),G(),H.bind("resize.slickgrid",fa),K.bind("scroll",Wa),Ja.bind("contextmenu",Kc).bind("click",Lc).delegate(".slick-header-column",
"mouseenter",Mc).delegate(".slick-header-column","mouseleave",Nc),la.bind("scroll",Oc),b.createFooterRow&&ma.bind("scroll",Pc),hb.add(xb).bind("keydown",Yb),W.bind("keydown",Yb).bind("click",Qc).bind("dblclick",Rc).bind("contextmenu",Sc).bind("draginit",Tc).bind("dragstart",{distance:3},Uc).bind("drag",Vc).bind("dragend",Wc).delegate(".slick-cell","mouseenter",Xc).delegate(".slick-cell","mouseleave",Yc),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&
W.bind("mousewheel",Zc),A())}function p(){yb=H.parents().andSelf().not(":visible");yb.each(function(){var a={},b;for(b in zb)a[b]=this.style[b],this.style[b]=zb[b];Zb.push(a)})}function A(){yb.each(function(a){a=Zb[a];for(var b in zb)this.style[b]=a[b]})}function h(a){for(var b=ua.length;0<=b;b--)if(ua[b]===a){ua[b].destroy&&ua[b].destroy();ua.splice(b,1);break}}function m(){for(var b=0,q=0,c=a.length;q<c;q++)b+=a[q].width;b+=f.width;return Math.max(b,V)+1E3}function l(){for(var v=Ka?V-f.width:V,
q=0,c=a.length;c--;)q+=a[c].width;return b.fullWidthRows?Math.max(q,v):q}function w(a){var q=ba;ba=l();ba!=q&&(W.width(ba),za.width(ba),b.createFooterRow&&Aa.width(ba),N.width(m()),ib=ba>V-f.width);var c=ba+(Ka?f.width:0);$b.width(c);b.createFooterRow&&ac.width(c);(ba!=q||a)&&M()}function B(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function G(){for(var a=W[0];(a=a.parentNode)!=document.body&&null!=a;)if(a==K[0]||a.scrollWidth!=
a.clientWidth||a.scrollHeight!=a.clientHeight){var b=c(a);La=La?La.add(b):b;b.bind("scroll."+X,bc)}}function P(){function v(){c(this).addClass("ui-state-hover")}function q(){c(this).removeClass("ui-state-hover")}N.find(".slick-header-column").each(function(){var a=c(this).data("column");a&&y(r.onBeforeHeaderCellDestroy,{node:this,column:a,grid:r})});N.empty();N.width(m());za.find(".slick-headerrow-column").each(function(){var a=c(this).data("column");a&&y(r.onBeforeHeaderRowCellDestroy,{node:this,
column:a,grid:r})});za.empty();b.createFooterRow&&(Aa.find(".slick-footerrow-column").each(function(){var a=c(this).data("column");a&&y(r.onBeforeFooterRowCellDestroy,{node:this,column:a})}),Aa.empty());for(var d=0;d<a.length;d++){var e=a[d],f=c("\x3cdiv class\x3d'ui-state-default slick-header-column' /\x3e").html("\x3cspan class\x3d'slick-column-name'\x3e"+e.name+"\x3c/span\x3e").width(e.width-Ba).attr("id",""+X+e.id).attr("title",e.toolTip||"").data("column",e).addClass(e.headerCssClass||"").appendTo(N);
if(b.enableColumnReorder||e.sortable)f.on("mouseenter",v).on("mouseleave",q);e.sortable&&(f.addClass("slick-header-sortable"),f.append("\x3cspan class\x3d'slick-sort-indicator' /\x3e"));y(r.onHeaderCellRendered,{node:f[0],column:e,grid:r});b.showHeaderRow&&(f=c("\x3cdiv class\x3d'ui-state-default slick-headerrow-column l"+d+" r"+d+"'\x3e\x3c/div\x3e").data("column",e).appendTo(za),y(r.onHeaderRowCellRendered,{node:f[0],column:e,grid:r}));b.createFooterRow&&b.showFooterRow&&(f=c("\x3cdiv class\x3d'ui-state-default slick-footerrow-column l"+
d+" r"+d+"'\x3e\x3c/div\x3e").data("column",e).appendTo(Aa),y(r.onFooterRowCellRendered,{node:f[0],column:e}))}I(Y);xa();b.enableColumnReorder&&u()}function R(){N.click(function(v){v.metaKey=v.metaKey||v.ctrlKey;if(!c(v.target).hasClass("slick-resizable-handle")){var q=c(v.target).closest(".slick-header-column");if(q.length&&(q=q.data("column"),q.sortable&&J().commitCurrentEdit())){for(var d=null,e=0;e<Y.length;e++)if(Y[e].columnId==q.id){d=Y[e];d.sortAsc=!d.sortAsc;break}v.metaKey&&b.multiColumnSort?
d&&Y.splice(e,1):((v.shiftKey||v.metaKey)&&b.multiColumnSort||(Y=[]),d?0==Y.length&&Y.push(d):(d={columnId:q.id,sortAsc:q.defaultSortAsc},Y.push(d)));I(Y);b.multiColumnSort?y(r.onSort,{multiColumnSort:!0,sortCols:c.map(Y,function(b){return{sortCol:a[Z[b.columnId]],sortAsc:b.sortAsc}}),grid:r},v):y(r.onSort,{multiColumnSort:!1,sortCol:q,sortAsc:d.sortAsc,grid:r},v)}}})}function u(){N.filter(":ui-sortable").sortable("destroy");N.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",
helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(a,b){b.placeholder.width(b.helper.outerWidth()-Ba);c(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){c(b.helper).removeClass("slick-header-column-active")},stop:function(b){if(J().commitCurrentEdit()){for(var q=N.sortable("toArray"),d=[],e=0;e<q.length;e++)d.push(a[Z[q[e].replace(X,"")]]);Sb(d);y(r.onColumnsReordered,{grid:r});b.stopPropagation();xa()}else c(this).sortable("cancel")}})}
function xa(){var v,q,d,e,f,g,n,l;e=N.children();e.find(".slick-resizable-handle").remove();e.each(function(b,v){a[b].resizable&&(void 0===n&&(n=b),l=b)});void 0!==n&&e.each(function(p,h){p<n||b.forceFitColumns&&p>=l||(c(h),c("\x3cdiv class\x3d'slick-resizable-handle' /\x3e").appendTo(h).bind("dragstart",function(k,n){if(!J().commitCurrentEdit())return!1;d=k.pageX;c(this).parent().addClass("slick-header-column-active");var l=null,h=null;e.each(function(b,v){a[b].previousWidth=c(v).outerWidth()});
if(b.forceFitColumns)for(h=l=0,v=p+1;v<e.length;v++)q=a[v],q.resizable&&(null!==h&&(h=q.maxWidth?h+(q.maxWidth-q.previousWidth):null),l+=q.previousWidth-Math.max(q.minWidth||0,va));var m=0,u=0;for(v=0;v<=p;v++)q=a[v],q.resizable&&(null!==u&&(u=q.maxWidth?u+(q.maxWidth-q.previousWidth):null),m+=q.previousWidth-Math.max(q.minWidth||0,va));null===l&&(l=1E5);null===m&&(m=1E5);null===h&&(h=1E5);null===u&&(u=1E5);g=d+Math.min(l,u);f=d-Math.min(m,h)}).bind("drag",function(c,n){var l,h=Math.min(g,Math.max(f,
c.pageX))-d,m;if(0>h){m=h;for(v=p;0<=v;v--)q=a[v],q.resizable&&(l=Math.max(q.minWidth||0,va),m&&q.previousWidth+m<l?(m+=q.previousWidth-l,q.width=l):(q.width=q.previousWidth+m,m=0));if(b.forceFitColumns)for(m=-h,v=p+1;v<e.length;v++)q=a[v],q.resizable&&(m&&q.maxWidth&&q.maxWidth-q.previousWidth<m?(m-=q.maxWidth-q.previousWidth,q.width=q.maxWidth):(q.width=q.previousWidth+m,m=0))}else{m=h;for(v=p;0<=v;v--)q=a[v],q.resizable&&(m&&q.maxWidth&&q.maxWidth-q.previousWidth<m?(m-=q.maxWidth-q.previousWidth,
q.width=q.maxWidth):(q.width=q.previousWidth+m,m=0));if(b.forceFitColumns)for(m=-h,v=p+1;v<e.length;v++)q=a[v],q.resizable&&(l=Math.max(q.minWidth||0,va),m&&q.previousWidth+m<l?(m+=q.previousWidth-l,q.width=l):(q.width=q.previousWidth+m,m=0))}k();b.syncColumnCellResize&&M()}).bind("dragend",function(b,d){var f;c(this).parent().removeClass("slick-header-column-active");for(v=0;v<e.length;v++)q=a[v],f=c(e[v]).outerWidth(),q.previousWidth!==f&&q.rerenderOnResize&&ya();w(!0);aa();y(r.onColumnsResized,
{grid:r})}))})}function ta(a){var b=0;c.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,d){b+=parseFloat(a.css(d))||0});return b}function Ua(){var a,b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],e=c.fn.jquery.split(".");cc=1==e[0]&&8<=e[1]||2<=e[0];a=c("\x3cdiv class\x3d'ui-state-default slick-header-column' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(N);Ba=
dc=0;"border-box"!=a.css("box-sizing")&&"border-box"!=a.css("-moz-box-sizing")&&"border-box"!=a.css("-webkit-box-sizing")&&(c.each(b,function(b,c){Ba+=parseFloat(a.css(c))||0}),c.each(d,function(b,c){dc+=parseFloat(a.css(c))||0}));a.remove();e=c("\x3cdiv class\x3d'slick-row' /\x3e").appendTo(W);a=c("\x3cdiv class\x3d'slick-cell' id\x3d'' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(e);Ab=Bb=0;"border-box"!=a.css("box-sizing")&&"border-box"!=a.css("-moz-box-sizing")&&"border-box"!=a.css("-webkit-box-sizing")&&
(c.each(b,function(b,c){Ab+=parseFloat(a.css(c))||0}),c.each(d,function(b,c){Bb+=parseFloat(a.css(c))||0}));e.remove();va=Math.max(Ba,Ab)}function Va(){Ca=c("\x3cstyle type\x3d'text/css' rel\x3d'stylesheet' /\x3e").appendTo(c("head"));for(var v=["."+X+" .slick-header-column { left: 1000px; }","."+X+" .slick-top-panel { height:"+b.topPanelHeight+"px; }","."+X+" .slick-headerrow-columns { height:"+b.headerRowHeight+"px; }","."+X+" .slick-footerrow-columns { height:"+b.footerRowHeight+"px; }","."+X+
" .slick-cell { height:"+(b.rowHeight-Bb)+"px; }","."+X+" .slick-row { height:"+b.rowHeight+"px; }"],q=0;q<a.length;q++)v.push("."+X+" .l"+q+" { }"),v.push("."+X+" .r"+q+" { }");Ca[0].styleSheet?Ca[0].styleSheet.cssText=v.join(" "):Ca[0].appendChild(document.createTextNode(v.join(" ")))}function y(a,b,c){c=c||new g.EventData;b=b||{};b.grid=r;return a.notify(b,c,r)}function J(){return b.editorLock}function ja(){var b,c,d=[],e=0,g=0,l,n=Ka?V-f.width:V;for(b=0;b<a.length;b++)c=a[b],d.push(c.width),g+=
c.width,c.resizable&&(e+=c.width-Math.max(c.minWidth,va));for(l=g;g>n&&e;){var m=(g-n)/e;for(b=0;b<a.length&&g>n;b++){c=a[b];var h=d[b];if(!(!c.resizable||h<=c.minWidth||h<=va)){c=Math.max(c.minWidth,va);var p=Math.floor(m*(h-c))||1,p=Math.min(p,h-c),g=g-p,e=e-p;d[b]-=p}}if(l<=g)break;l=g}for(l=g;g<n;){e=n/g;for(b=0;b<a.length&&g<n;b++)c=a[b],m=d[b],c=!c.resizable||c.maxWidth<=m?0:Math.min(Math.floor(e*m)-m,c.maxWidth-m||1E6)||1,g+=c,d[b]+=g<=n?c:0;if(l>=g)break;l=g}g=!1;for(b=0;b<a.length;b++)a[b].rerenderOnResize&&
a[b].width!=d[b]&&(g=!0),a[b].width=d[b];k();w(!0);g&&(ya(),aa())}function k(){if(ka){for(var b,q=0,d=N.children(),e=d.length;q<e;q++)b=c(d[q]),cc?b.outerWidth()!==a[q].width&&b.outerWidth(a[q].width):b.width()!==a[q].width-Ba&&b.width(a[q].width-Ba);ra()}}function M(){for(var b,c,d=0,e,f=0;f<a.length;f++){e=a[f].width;c=f;if(!Da){var g=document.styleSheets;for(b=0;b<g.length;b++)if((g[b].ownerNode||g[b].owningElement)==Ca[0]){Da=g[b];break}if(!Da)throw Error("Cannot find stylesheet.");Cb=[];Db=[];
var g=Da.cssRules||Da.rules,l;for(b=0;b<g.length;b++){var n=g[b].selectorText;if(l=/\.l\d+/.exec(n))l=parseInt(l[0].substr(2,l[0].length-2),10),Cb[l]=g[b];else if(l=/\.r\d+/.exec(n))l=parseInt(l[0].substr(2,l[0].length-2),10),Db[l]=g[b]}}b=Cb[c];c=Db[c];b.style.left=d+"px";c.style.right=ba-d-e+"px";d+=a[f].width}}function I(a){Y=a;var b=N.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");c.each(Y,
function(a,c){null==c.sortAsc&&(c.sortAsc=!0);var v=Z[c.columnId];null!=v&&b.eq(v).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(c.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function ea(c,q){Eb=[];for(var d={},e=0;e<q.length;e++)for(var f=q[e].fromRow;f<=q[e].toRow;f++){d[f]||(Eb.push(f),d[f]={});for(var g=q[e].fromCell;g<=q[e].toCell;g++)ec(f,g)&&(d[f][a[g].id]=b.selectedCellCssClass)}fc(b.selectedCellCssClass,d);y(r.onSelectedRowsChanged,{rows:gc(),
grid:r},c)}function ra(){Ma=[];Na=[];for(var b=0,c=0,d=a.length;c<d;c++)Ma[c]=b,Na[c]=b+a[c].width,b+=a[c].width}function Sb(b){a=b;Z={};for(b=0;b<a.length;b++){var q=a[b]=c.extend({},Fb,a[b]);Z[q.id]=b;q.minWidth&&q.width<q.minWidth&&(q.width=q.minWidth);q.maxWidth&&q.width>q.maxWidth&&(q.width=q.maxWidth)}ra();ka&&(ya(),P(),Ca.remove(),Da=null,Va(),fa(),M(),Wa())}function U(){return d.getLength?d.getLength():d.length}function qa(){return U()+(b.enableAddRow?1:0)}function ia(a){return d.getItem?
d.getItem(a):d[a]}function db(a){return Math.floor((a+O)/b.rowHeight)}function sa(a){a=Math.max(a,0);a=Math.min(a,na-Q+(ib?f.height:0));var c=O;Oa=Math.min(Pa-1,Math.floor(a/Qa));O=Math.round(Oa*jb);a-=O;if(O!=c){var d=kb(a);Vb(d);for(var e in E)E[e].rowNode.style.top=b.rowHeight*e-O+"px"}Ra!=a&&(Ea=Ra+c<a+O?1:-1,K[0].scrollTop=lb=L=Ra=a,y(r.onViewportChanged,{grid:r}))}function eb(a,c){var e=d.getItemMetadata&&d.getItemMetadata(a),f=e&&e.columns&&(e.columns[c.id]||e.columns[Z[c.id]]);return f&&f.formatter||
e&&e.formatter||c.formatter||b.formatterFactory&&b.formatterFactory.getFormatter(c)||b.defaultFormatter}function Tb(c,q){var e=a[q],f=d.getItemMetadata&&d.getItemMetadata(c);return(f=f&&f.columns)&&f[e.id]&&void 0!==f[e.id].editor?f[e.id].editor:f&&f[q]&&void 0!==f[q].editor?f[q].editor:e.editor||b.editorFactory&&b.editorFactory.getEditor(e)}function fb(a,c){return b.dataItemColumnValueExtractor?b.dataItemColumnValueExtractor(a,c):a[c.field]}function Ub(b,c,d,e,f){var g=a[d],l="slick-cell l"+d+" r"+
Math.min(a.length-1,d+e-1)+(g.cssClass?" "+g.cssClass:"");c===z&&d===F&&(l+=" active");for(var n in ca)ca[n][c]&&ca[n][c][g.id]&&(l+=" "+ca[n][c][g.id]);b.push("\x3cdiv class\x3d'"+l+"'\x3e");f&&(l=fb(f,g),b.push(eb(c,g)(c,d,l,g,f)));b.push("\x3c/div\x3e");E[c].cellRenderQueue.push(d);E[c].cellColSpans[d]=e}function Vb(a){for(var c in E)(c=parseInt(c,10))!==z&&(c<a.top||c>a.bottom)&&gb(c);b.enableAsyncPostRenderCleanup&&Xa()}function ya(){C&&oa();for(var a in E)gb(a);b.enableAsyncPostRenderCleanup&&
Xa()}function Wb(a,b,d){Ya++;for(var e in b)b.hasOwnProperty(e)&&wa.push({actionType:"C",groupId:Ya,node:a.cellNodesByColumnIdx[e|0],columnIdx:e|0,rowIdx:d});wa.push({actionType:"R",groupId:Ya,node:a.rowNode});c(a.rowNode).detach()}function gb(a){var c=E[a];c&&(mb===c.rowNode?(c.rowNode.style.display="none",Za=mb,Gb=c,nb=S[a]):b.enableAsyncPostRenderCleanup&&S[a]?Wb(c,S[a],a):W[0].removeChild(c.rowNode),delete E[a],delete S[a],Hb--,hc++)}function Xb(a){var c,d;if(a&&a.length){c=Ea=0;for(d=a.length;c<
d;c++)C&&z===a[c]&&oa(),E[a[c]]&&gb(a[c]);b.enableAsyncPostRenderCleanup&&Xa()}}function ic(a){Xb([a])}function Ib(b){var c=E[b];if(c){ob(b);var d=ia(b),e;for(e in c.cellNodesByColumnIdx)if(c.cellNodesByColumnIdx.hasOwnProperty(e)){e|=0;var f=a[e],g=c.cellNodesByColumnIdx[e];b===z&&e===F&&C?C.loadValue(d):g.innerHTML=d?eb(b,f)(b,e,fb(d,f),f,d):""}Jb(b)}}function fa(){ka&&(Q=b.autoHeight?b.rowHeight*qa():parseFloat(c.css(H[0],"height",!0))-parseFloat(c.css(H[0],"paddingTop",!0))-parseFloat(c.css(H[0],
"paddingBottom",!0))-parseFloat(c.css(Ja[0],"height"))-ta(Ja)-(b.showTopPanel?b.topPanelHeight+ta(Fa):0)-(b.showHeaderRow?b.headerRowHeight+ta(la):0)-(b.createFooterRow&&b.showFooterRow?b.footerRowHeight+ta(ma):0),pb=Math.ceil(Q/b.rowHeight),V=parseFloat(c.css(H[0],"width",!0)),b.autoHeight||K.height(Q),b.forceFitColumns&&ja(),qb(),Wa(),$a=-1,aa())}function qb(){if(ka){var a=qa(),c=a+(b.leaveSpaceForNewRows?pb-1:0),d=Ka;Ka=!b.autoHeight&&c*b.rowHeight>Q;ib=ba>V-f.width;oa();var a=a-1,g;for(g in E)g>
a&&gb(g);b.enableAsyncPostRenderCleanup&&Xa();D&&z>a&&Kb();g=pa;na=Math.max(b.rowHeight*c,Q-f.height);na<e?(pa=Qa=na,Pa=1,jb=0):(pa=e,Qa=pa/100,Pa=Math.floor(na/Qa),jb=(na-pa)/(Pa-1));pa!==g&&(W.css("height",pa),L=K[0].scrollTop);c=L+O<=na-Q;0==na||0==L?Oa=O=0:c?sa(L+O):sa(na-Q);pa!=g&&b.autoHeight&&fa();b.forceFitColumns&&d!=Ka&&ja();w(!1)}}function kb(a,b){null==a&&(a=L);null==b&&(b=T);return{top:db(a),bottom:db(a+Q)+1,leftPx:b,rightPx:b+V}}function jc(a,c){var d=kb(a,c),e=Math.round(Q/b.rowHeight);
-1==Ea?(d.top-=e,d.bottom+=3):1==Ea?(d.top-=3,d.bottom+=e):(d.top-=3,d.bottom+=3);d.top=Math.max(0,d.top);d.bottom=Math.min(qa()-1,d.bottom);d.leftPx-=V;d.rightPx+=V;d.leftPx=Math.max(0,d.leftPx);d.rightPx=Math.min(ba,d.rightPx);return d}function ob(a){if((a=E[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[c]=b;b=b.previousSibling}}function kc(){b.enableAsyncPostRender&&(clearTimeout(Lb),Lb=setTimeout(lc,
b.asyncPostRenderDelay))}function Xa(){b.enableAsyncPostRenderCleanup&&(clearTimeout(Mb),Mb=setTimeout(mc,b.asyncPostRenderCleanupDelay))}function Jb(a){for(var b in S[a])S[a].hasOwnProperty(b)&&(S[a][b]="C");ab=Math.min(ab,a);bb=Math.max(bb,a);kc()}function aa(){if(ka){var v=kb(),q=jc();Vb(q);if($a!=T){for(var e,f=[],g=[],l,n,k=q.top,m=q.bottom;k<=m;k++)if(e=E[k]){ob(k);var h=q;l=k;var p=0,u=E[l],w=[];n=void 0;for(n in u.cellNodesByColumnIdx)if(u.cellNodesByColumnIdx.hasOwnProperty(n)){n|=0;var r=
u.cellColSpans[n];if(Ma[n]>h.rightPx||Na[Math.min(a.length-1,n+r-1)]<h.leftPx)l==z&&n==F||w.push(n)}for(Ya++;null!=(h=w.pop());)n=u.cellNodesByColumnIdx[h],b.enableAsyncPostRenderCleanup&&S[l]&&S[l][h]?(wa.push({actionType:"C",groupId:Ya,node:n,columnIdx:h,rowIdx:l}),c(n).detach()):u.rowNode.removeChild(n),delete u.cellColSpans[h],delete u.cellNodesByColumnIdx[h],S[l]&&delete S[l][h],p++;l=0;p=(p=d.getItemMetadata&&d.getItemMetadata(k))&&p.columns;u=ia(k);w=0;for(h=a.length;w<h&&!(Ma[w]>q.rightPx);w++)null==
(n=e.cellColSpans[w])&&(n=1,p&&(n=(n=p[a[w].id]||p[w])&&n.colspan||1,"*"===n&&(n=h-w)),Na[Math.min(h-1,w+n-1)]>q.leftPx&&(Ub(f,k,w,n,u),l++)),w+=1<n?n-1:0;l&&g.push(k)}if(f.length)for(k=document.createElement("div"),k.innerHTML=f.join("");null!=(e=g.pop());)for(e=E[e];null!=(m=e.cellRenderQueue.pop());)f=k.lastChild,e.rowNode.appendChild(f),e.cellNodesByColumnIdx[m]=f}g=W[0];e=[];f=[];k=!1;p=U();m=q.top;for(l=q.bottom;m<=l;m++)if(!E[m]){Hb++;f.push(m);E[m]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],
cellRenderQueue:[]};u=e;w=m;h=q;r=p;n=ia(w);var B="slick-row"+(w<r&&!n?" loading":"")+(w===z?" active":"")+(1==w%2?" odd":" even");n||(B+=" "+b.addNewRowCssClass);(r=d.getItemMetadata&&d.getItemMetadata(w))&&r.cssClasses&&(B+=" "+r.cssClasses);u.push("\x3cdiv class\x3d'ui-widget-content "+B+"' style\x3d'top:"+(b.rowHeight*w-O)+"px'\x3e");for(var t,R,B=0,x=a.length;B<x;B++){R=a[B];t=1;r&&r.columns&&(t=(t=r.columns[R.id]||r.columns[B])&&t.colspan||1,"*"===t&&(t=x-B));if(Na[Math.min(x-1,B+t-1)]>h.leftPx){if(Ma[B]>
h.rightPx)break;Ub(u,w,B,t,n)}1<t&&(B+=t-1)}u.push("\x3c/div\x3e");D&&z===m&&(k=!0);nc++}if(f.length){q=document.createElement("div");q.innerHTML=e.join("");m=0;for(l=f.length;m<l;m++)E[f[m]].rowNode=g.appendChild(q.firstChild);k&&(D=da(z,F))}ab=v.top;bb=Math.min(qa()-1,v.bottom);kc();lb=L;$a=T;rb=null}}function Oc(){var a=la[0].scrollLeft;a!=K[0].scrollLeft&&(K[0].scrollLeft=a)}function Pc(){var a=ma[0].scrollLeft;a!=K[0].scrollLeft&&(K[0].scrollLeft=a)}function Wa(){L=K[0].scrollTop;T=K[0].scrollLeft;
var a=Math.abs(L-Ra),c=Math.abs(T-oc);c&&(oc=T,Ja[0].scrollLeft=T,Fa[0].scrollLeft=T,la[0].scrollLeft=T,b.createFooterRow&&(ma[0].scrollLeft=T));if(a)if(Ea=Ra<L?1:-1,Ra=L,a<Q)sa(L+O);else{var d=O;Oa=pa==Q?0:Math.min(Pa-1,Math.floor((na-Q)/(pa-Q)*L*(1/Qa)));O=Math.round(Oa*jb);d!=O&&ya()}if(c||a)if(rb&&clearTimeout(rb),20<Math.abs(lb-L)||20<Math.abs($a-T))b.forceSyncScrolling||Math.abs(lb-L)<Q&&Math.abs($a-T)<V?aa():rb=setTimeout(aa,50),y(r.onViewportChanged,{grid:r});y(r.onScroll,{scrollLeft:T,scrollTop:L,
grid:r})}function lc(){for(var c=U();ab<=bb;){var d=0<=Ea?ab++:bb--,e=E[d];if(e&&!(d>=c)){S[d]||(S[d]={});ob(d);for(var f in e.cellNodesByColumnIdx)if(e.cellNodesByColumnIdx.hasOwnProperty(f)){f|=0;var c=a[f],g=S[d][f];if(c.asyncPostRender&&"R"!==g){var n=e.cellNodesByColumnIdx[f];n&&c.asyncPostRender(n,d,ia(d),c,"C"===g);S[d][f]="R"}}Lb=setTimeout(lc,b.asyncPostRenderDelay);break}}}function mc(){if(0<wa.length){for(var d=wa[0].groupId;0<wa.length&&wa[0].groupId==d;){var q=wa.shift();"R"==q.actionType&&
c(q.node).remove();if("C"==q.actionType){var e=a[q.columnIdx];e.asyncPostRenderCleanup&&q.node&&e.asyncPostRenderCleanup(q.node,q.rowIdx,e)}}Mb=setTimeout(mc,b.asyncPostRenderCleanupDelay)}}function Nb(a,b){var d,e,f,g,n;for(n in E){g=b&&b[n];f=a&&a[n];if(g)for(e in g)f&&g[e]==f[e]||(d=da(n,Z[e]))&&c(d).removeClass(g[e]);if(f)for(e in f)g&&g[e]==f[e]||(d=da(n,Z[e]))&&c(d).addClass(f[e])}}function fc(a,b){var c=ca[a];ca[a]=b;Nb(b,c);y(r.onCellCssStylesChanged,{key:a,hash:b,grid:r})}function Zc(a){a=
c(a.target).closest(".slick-row")[0];a!=mb&&(Za&&Za!=a&&(b.enableAsyncPostRenderCleanup&&nb?Wb(Gb,nb):W[0].removeChild(Za),nb=Gb=Za=null,b.enableAsyncPostRenderCleanup&&Xa()),mb=a)}function Tc(a,b){var c=cb(a);if(!c||!Ob(c.row,c.cell))return!1;c=y(r.onDragInit,b,a);return a.isImmediatePropagationStopped()?c:!1}function Uc(a,b){var c=cb(a);if(!c||!Ob(c.row,c.cell))return!1;c=y(r.onDragStart,b,a);return a.isImmediatePropagationStopped()?c:!1}function Vc(a,b){return y(r.onDrag,b,a)}function Wc(a,b){y(r.onDragEnd,
b,a)}function Yb(a){y(r.onKeyDown,{row:z,cell:F,grid:r},a);var c=a.isImmediatePropagationStopped(),d=g.keyCode;if(!c)if(a.shiftKey||a.altKey||a.ctrlKey)a.which!=d.TAB||!a.shiftKey||a.ctrlKey||a.altKey||(c=pc());else{if(b.editable&&C&&C.keyCaptureList&&-1<C.keyCaptureList.indexOf(a.which))return;if(a.which==d.ESCAPE){if(!J().isActive())return;qc()}else a.which==d.PAGE_DOWN?(rc(),c=!0):a.which==d.PAGE_UP?(sc(),c=!0):a.which==d.LEFT?c=tc():a.which==d.RIGHT?c=uc():a.which==d.UP?c=vc():a.which==d.DOWN?
c=sb():a.which==d.TAB?c=wc():a.which==d.ENTER&&(b.editable&&(C?z===U()?sb():xc():J().commitCurrentEdit()&&tb()),c=!0)}if(c){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(e){}}}function Qc(a){C||(a.target!=document.activeElement||c(a.target).hasClass("slick-cell"))&&Ga();var b=cb(a);!b||null!==C&&z==b.row&&F==b.cell||(y(r.onClick,{row:b.row,cell:b.cell,grid:r},a),a.isImmediatePropagationStopped()||F==b.cell&&z==b.row||!ga(b.row,b.cell)||J().isActive()&&!J().commitCurrentEdit()||
(Pb(b.row,!1),Ha(da(b.row,b.cell))))}function Sc(a){var b=c(a.target).closest(".slick-cell",W);0!==b.length&&(D===b[0]&&null!==C||y(r.onContextMenu,{grid:r},a))}function Rc(a){var c=cb(a);!c||null!==C&&z==c.row&&F==c.cell||(y(r.onDblClick,{row:c.row,cell:c.cell,grid:r},a),a.isImmediatePropagationStopped()||b.editable&&yc(c.row,c.cell,!0))}function Mc(a){y(r.onHeaderMouseEnter,{column:c(this).data("column"),grid:r},a)}function Nc(a){y(r.onHeaderMouseLeave,{column:c(this).data("column"),grid:r},a)}
function Kc(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns"),b=b&&b.data("column");y(r.onHeaderContextMenu,{column:b,grid:r},a)}function Lc(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&y(r.onHeaderClick,{column:b,grid:r},a)}function Xc(a){y(r.onMouseEnter,{grid:r},a)}function Yc(a){y(r.onMouseLeave,{grid:r},a)}function Ob(b,c){return!(0>b||b>=U()||0>c||c>=a.length)}function zc(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+
a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function Ac(a){for(var b in E)if(E[b].rowNode===a)return b|0;return null}function cb(a){var b=c(a.target).closest(".slick-cell",W);if(!b.length)return null;a=Ac(b[0].parentNode);b=zc(b[0]);return null==a||null==b?null:{row:a,cell:b}}function Kb(){Ha(null,!1)}function Ga(){-1==Bc?hb[0].focus():xb[0].focus()}function ub(a,b,c){Pb(a,c);c=Ia(a,b);a=Ma[b];b=Na[b+(1<c?c-1:0)];c=T+V;a<T?(K.scrollLeft(a),Wa(),aa()):b>c&&(K.scrollLeft(Math.min(a,
b-K[0].clientWidth)),Wa(),aa())}function Ha(a,d){null!==D&&(oa(),c(D).removeClass("active"),E[z]&&c(E[z].rowNode).removeClass("active"));var e=D!==a;D=a;null!=D?(z=Ac(D.parentNode),F=Sa=zc(D),null==d&&(d=z==U()||b.autoEdit),c(D).addClass("active"),c(E[z].rowNode).addClass("active"),b.editable&&d&&Cc(z,F)&&(clearTimeout(Qb),b.asyncEditorLoading?Qb=setTimeout(function(){tb()},b.asyncEditorLoadDelay):tb())):z=F=null;e&&y(r.onActiveCellChanged,Dc())}function Cc(b,c){var d=U();return b<d&&!ia(b)||a[c].cannotTriggerInsert&&
b>=d||!Tb(b,c)?!1:!0}function oa(){if(C){y(r.onBeforeCellEditorDestroy,{editor:C,grid:r});C.destroy();C=null;if(D){var b=ia(z);c(D).removeClass("editable invalid");if(b){var d=a[F],e=eb(z,d);D.innerHTML=e(z,F,fb(b,d),d,b,r);Jb(z)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(f){}else window.getSelection&&(b=window.getSelection())&&b.removeAllRanges&&b.removeAllRanges();J().deactivate(vb)}}function tb(d){if(D){if(!b.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";
clearTimeout(Qb);if(Cc(z,F)){var e=a[F],f=ia(z);if(!1===y(r.onBeforeEditCell,{row:z,cell:F,item:f,column:e,grid:r}))Ga();else{J().activate(vb);c(D).addClass("editable");var g=d||Tb(z,F);d||g.suppressClearOnEdit||(D.innerHTML="");C=new g({grid:r,gridPosition:wb(H[0]),position:wb(D),container:D,column:e,item:f||{},commitChanges:xc,cancelChanges:qc});f&&C.loadValue(f);Ec=C.serializeValue();C.position&&bc()}}}}function xc(){J().commitCurrentEdit()&&(Ga(),b.autoEdit&&sb())}function qc(){J().cancelCurrentEdit()&&
Ga()}function wb(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:c(a).outerWidth(),height:c(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var d=a.offsetParent;(a=a.parentNode)!=document.body&&null!=a;)b.visible&&a.scrollHeight!=a.offsetHeight&&"visible"!=c(a).css("overflowY")&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&"visible"!=c(a).css("overflowX")&&(b.visible=b.right>a.scrollLeft&&
b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===d&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,d=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function Fc(){return wb(D)}function bc(){if(D&&(y(r.onActiveCellPositionChanged,{grid:r}),C)){var a=Fc();C.show&&C.hide&&(a.visible?C.show():C.hide());C.position&&C.position(a)}}function Dc(){return D?{row:z,cell:F,grid:r}:null}function Pb(a,c){var d=a*b.rowHeight,e=(a+1)*b.rowHeight-Q+(ib?f.height:0);(a+
1)*b.rowHeight>L+Q+O?(sa(c?d:e),aa()):a*b.rowHeight<L+O&&(sa(c?e:d),aa())}function Gc(a){a*=pb;sa((db(L)+a)*b.rowHeight);aa();if(b.enableCellNavigation&&null!=z){a=z+a;var c=qa();a>=c&&(a=c-1);0>a&&(a=0);for(var c=0,d=null,e=Sa;c<=Sa;)ga(a,c)&&(d=c),c+=Ia(a,c);null!==d?(Ha(da(a,d)),Sa=e):Kb()}}function rc(){Gc(1)}function sc(){Gc(-1)}function Ia(b,c){var e=d.getItemMetadata&&d.getItemMetadata(b);if(!e||!e.columns)return 1;e=(e=e.columns[a[c].id]||e.columns[c])&&e.colspan;return e="*"===e?a.length-
c:e||1}function Hc(b){for(var c=0;c<a.length;){if(ga(b,c))return c;c+=Ia(b,c)}return null}function Rb(b,c,d){if(c>=a.length)return null;do c+=Ia(b,c);while(c<a.length&&!ga(b,c));return c<a.length?{row:b,cell:c,posX:c}:null}function Ic(a,b,c){if(0>=b)return null;c=Hc(a);if(null===c||c>=b)return null;for(a={row:a,cell:c,posX:c};;){c=Rb(a.row,a.cell,a.posX);if(!c)return null;if(c.cell>=b)return a;a=c}}function $c(a,b,c){for(var d,e=qa();;){if(++a>=e)return null;for(d=b=0;b<=c;)d=b,b+=Ia(a,b);if(ga(a,
d))return{row:a,cell:d,posX:c}}}function ad(a,b,c){for(var d;;){if(0>--a)return null;for(d=b=0;b<=c;)d=b,b+=Ia(a,b);if(ga(a,d))return{row:a,cell:d,posX:c}}}function bd(a,b,c){if(null==a&&null==b&&(a=b=c=0,ga(a,b)))return{row:a,cell:b,posX:b};if(b=Rb(a,b,c))return b;for(c=qa();++a<c;)if(b=Hc(a),null!==b)return{row:a,cell:b,posX:b};return null}function cd(b,c,d){if(null==b&&null==c&&(b=qa()-1,c=d=a.length-1,ga(b,c)))return{row:b,cell:c,posX:c};for(var e,f;!e&&!(e=Ic(b,c,d));){if(0>--b)return null;c=
0;f=b;for(var g=0,n=null;g<a.length;)ga(f,g)&&(n=g),g+=Ia(f,g);f=n;null!==f&&(e={row:b,cell:f,posX:f})}return e}function uc(){return Ta("right")}function tc(){return Ta("left")}function sb(){return Ta("down")}function vc(){return Ta("up")}function wc(){return Ta("next")}function pc(){return Ta("prev")}function Ta(a){if(!b.enableCellNavigation||!D&&"prev"!=a&&"next"!=a)return!1;if(!J().commitCurrentEdit())return!0;Ga();Bc={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];if(a=(0,{up:ad,down:$c,left:Ic,
right:Rb,prev:cd,next:bd}[a])(z,F,Sa)){var c=a.row==U();ub(a.row,a.cell,!c);Ha(da(a.row,a.cell));Sa=a.posX;return!0}Ha(da(z,F));return!1}function da(a,b){return E[a]?(ob(a),E[a].cellNodesByColumnIdx[b]):null}function ga(c,e){if(!b.enableCellNavigation||c>=qa()||0>c||e>=a.length||0>e)return!1;var f=d.getItemMetadata&&d.getItemMetadata(c);return f&&"boolean"===typeof f.focusable?f.focusable:(f=f&&f.columns)&&f[a[e].id]&&"boolean"===typeof f[a[e].id].focusable?f[a[e].id].focusable:f&&f[e]&&"boolean"===
typeof f[e].focusable?f[e].focusable:a[e].focusable}function ec(b,c){if(b>=U()||0>b||c>=a.length||0>c)return!1;var e=d.getItemMetadata&&d.getItemMetadata(b);return e&&"boolean"===typeof e.selectable?e.selectable:(e=e&&e.columns&&(e.columns[a[c].id]||e.columns[c]))&&"boolean"===typeof e.selectable?e.selectable:a[c].selectable}function yc(a,c,d){ka&&ga(a,c)&&J().commitCurrentEdit()&&(ub(a,c,!1),c=da(a,c),Ha(c,d||a===U()||b.autoEdit),C||Ga())}function dd(){var d=ia(z),e=a[F];if(C){if(C.isValueChanged()){var f=
C.validate();if(f.valid)return z<U()?(f={row:z,cell:F,editor:C,serializedValue:C.serializeValue(),prevSerializedValue:Ec,execute:function(){this.editor.applyValue(d,this.serializedValue);Ib(this.row);y(r.onCellChange,{row:z,cell:F,item:d,grid:r})},undo:function(){this.editor.applyValue(d,this.prevSerializedValue);Ib(this.row);y(r.onCellChange,{row:z,cell:F,item:d,grid:r})}},b.editCommandHandler?(oa(),b.editCommandHandler(d,e,f)):(f.execute(),oa())):(f={},C.applyValue(f,C.serializeValue()),oa(),y(r.onAddNewRow,
{item:f,column:e,grid:r})),!J().isActive();c(D).removeClass("invalid");c(D).width();c(D).addClass("invalid");y(r.onValidationError,{editor:C,cellNode:D,validationResults:f,row:z,cell:F,column:e,grid:r});C.focus();return!1}oa()}return!0}function ed(){oa();return!0}function fd(b){for(var c=[],d=a.length-1,e=0;e<b.length;e++)c.push(new g.Range(b[e],0,b[e],d));return c}function gc(){if(!ha)throw"Selection model is not set";return Eb}var gd={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,
enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:g.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",
selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,c,d,e){return null==c?"":(c+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},forceSyncScrolling:!1,addNewRowCssClass:"new-row"},Fb={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},na,pa,Qa,Pa,jb,Oa=0,O=0,Ea=1,ka=
!1,H,X="slickgrid_"+Math.round(1E6*Math.random()),r=this,hb,xb,Ja,N,za,la,$b,Aa,ma,ac,Fa,Jc,K,W,Ca,La,Da,Cb,Db,Q,V,ba,ib,Ka,Ba=0,dc=0,Ab=0,Bb=0,cc=!1,va,Bc=1,Sa,z,F,D=null,C=null,Ec,vb,E={},Hb=0,pb,Ra=0,L=0,lb=0,$a=0,oc=0,T=0,ha,Eb=[],ua=[],ca={},Z={},Y=[],Ma=[],Na=[],Qb=null,rb=null,Lb=null,Mb=null,S={},bb=null,ab=null,wa=[],Ya=0,nc=0,hc=0,mb,Za,Gb,nb,zb={position:"absolute",visibility:"hidden",display:"block"},yb,Zb=[];this.debug=function(){var a;a="\ncounter_rows_rendered:  "+nc;a+="\ncounter_rows_removed:  "+
hc;a+="\nrenderedRows:  "+Hb;a+="\nnumVisibleRows:  "+pb;a+="\nmaxSupportedCssHeight:  "+e;a+="\nn(umber of pages):  "+Pa;a+="\n(current) page:  "+Oa;a+="\npage height (ph):  "+Qa;a+="\nvScrollDir:  "+Ea;alert(a)};this.eval=function(a){return eval(a)};c.extend(this,{slickGridVersion:"2.2.4",onScroll:new g.Event,onSort:new g.Event,onHeaderMouseEnter:new g.Event,onHeaderMouseLeave:new g.Event,onHeaderContextMenu:new g.Event,onHeaderClick:new g.Event,onHeaderCellRendered:new g.Event,onBeforeHeaderCellDestroy:new g.Event,
onHeaderRowCellRendered:new g.Event,onFooterRowCellRendered:new g.Event,onBeforeHeaderRowCellDestroy:new g.Event,onBeforeFooterRowCellDestroy:new g.Event,onMouseEnter:new g.Event,onMouseLeave:new g.Event,onClick:new g.Event,onDblClick:new g.Event,onContextMenu:new g.Event,onKeyDown:new g.Event,onAddNewRow:new g.Event,onValidationError:new g.Event,onViewportChanged:new g.Event,onColumnsReordered:new g.Event,onColumnsResized:new g.Event,onCellChange:new g.Event,onBeforeEditCell:new g.Event,onBeforeCellEditorDestroy:new g.Event,
onBeforeDestroy:new g.Event,onActiveCellChanged:new g.Event,onActiveCellPositionChanged:new g.Event,onDragInit:new g.Event,onDragStart:new g.Event,onDrag:new g.Event,onDragEnd:new g.Event,onSelectedRowsChanged:new g.Event,onCellCssStylesChanged:new g.Event,registerPlugin:function(a){ua.unshift(a);a.init(r)},unregisterPlugin:h,getColumns:function(){return a},setColumns:Sb,getColumnIndex:function(a){return Z[a]},updateColumnHeader:function(b,c,d){if(ka&&(b=Z[b],null!=b)){var e=a[b],f=N.children().eq(b);
f&&(void 0!==c&&(a[b].name=c),void 0!==d&&(a[b].toolTip=d),y(r.onBeforeHeaderCellDestroy,{node:f[0],column:e,grid:r}),f.attr("title",d||"").children().eq(0).html(c),y(r.onHeaderCellRendered,{node:f[0],column:e,grid:r}))}},setSortColumn:function(a,b){I([{columnId:a,sortAsc:b}])},setSortColumns:I,getSortColumns:function(){return Y},autosizeColumns:ja,getOptions:function(){return b},setOptions:function(a){J().commitCurrentEdit()&&(oa(),b.enableAddRow!==a.enableAddRow&&ic(U()),b=c.extend(b,a),b.autoHeight&&
(b.leaveSpaceForNewRows=!1),K.css("overflow-y",b.autoHeight?"hidden":"auto"),aa())},getData:function(){return d},getDataLength:U,getDataItem:ia,setData:function(a,b){d=a;ya();qb();b&&sa(0)},getSelectionModel:function(){return ha},setSelectionModel:function(a){ha&&(ha.onSelectedRangesChanged.unsubscribe(ea),ha.destroy&&ha.destroy());if(ha=a)ha.init(r),ha.onSelectedRangesChanged.subscribe(ea)},getSelectedRows:gc,setSelectedRows:function(a){if(!ha)throw"Selection model is not set";ha.setSelectedRanges(fd(a))},
getContainerNode:function(){return H.get(0)},render:aa,invalidate:function(){qb();ya();aa()},invalidateRow:ic,invalidateRows:Xb,invalidateAllRows:ya,updateCell:function(b,c){var d=da(b,c);if(d){var e=a[c],f=ia(b);C&&z===b&&F===c?C.loadValue(f):(d.innerHTML=f?eb(b,e)(b,c,fb(f,e),e,f):"",Jb(b))}},updateRow:Ib,getViewport:kb,getRenderedRange:jc,resizeCanvas:fa,updateRowCount:qb,scrollRowIntoView:Pb,scrollRowToTop:function(a){sa(a*b.rowHeight);aa()},scrollCellIntoView:ub,getCanvasNode:function(){return W[0]},
focus:Ga,getCellFromPoint:function(b,c){for(var d=db(c),e=0,f=0,g=0;g<a.length&&f<b;g++)f+=a[g].width,e++;0>e&&(e=0);return{row:d,cell:e-1}},getCellFromEvent:cb,getActiveCell:Dc,setActiveCell:function(c,d){!ka||c>U()||0>c||d>=a.length||0>d||!b.enableCellNavigation||(ub(c,d,!1),Ha(da(c,d),!1))},getActiveCellNode:function(){return D},getActiveCellPosition:Fc,resetActiveCell:Kb,editActiveCell:tb,getCellEditor:function(){return C},getCellNode:da,getCellNodeBox:function(c,d){if(!Ob(c,d))return null;for(var e=
b.rowHeight*c-O,f=e+b.rowHeight-1,g=0,n=0;n<d;n++)g+=a[n].width;return{top:e,left:g,bottom:f,right:g+a[d].width}},canCellBeSelected:ec,canCellBeActive:ga,navigatePrev:pc,navigateNext:wc,navigateUp:vc,navigateDown:sb,navigateLeft:tc,navigateRight:uc,navigatePageUp:sc,navigatePageDown:rc,gotoCell:yc,getTopPanel:function(){return Jc[0]},setTopPanelVisibility:function(a){b.showTopPanel!=a&&((b.showTopPanel=a)?Fa.slideDown("fast",fa):Fa.slideUp("fast",fa))},setHeaderRowVisibility:function(a){b.showHeaderRow!=
a&&((b.showHeaderRow=a)?la.slideDown("fast",fa):la.slideUp("fast",fa))},getHeaderRow:function(){return za[0]},getHeaderRowColumn:function(a){a=Z[a];return(a=za.children().eq(a))&&a[0]},setFooterRowVisibility:function(a){b.showFooterRow!=a&&((b.showFooterRow=a)?ma.slideDown("fast",fa):ma.slideUp("fast",fa))},getFooterRow:function(){return Aa[0]},getFooterRowColumn:function(a){a=Z[a];return(a=Aa.children().eq(a))&&a[0]},getGridPosition:function(){return wb(H[0])},flashCell:function(a,d,e){e=e||100;
if(E[a]){var f=function(a){a&&setTimeout(function(){g.queue(function(){g.toggleClass(b.cellFlashingCssClass).dequeue();f(a-1)})},e)},g=c(da(a,d));f(4)}},addCellCssStyles:function(a,b){if(ca[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";ca[a]=b;Nb(b,null);y(r.onCellCssStylesChanged,{key:a,hash:b,grid:r})},setCellCssStyles:fc,removeCellCssStyles:function(a){ca[a]&&(Nb(null,ca[a]),delete ca[a],y(r.onCellCssStylesChanged,{key:a,hash:null,grid:r}))},getCellCssStyles:function(a){return ca[a]},
init:t,destroy:function(){J().cancelCurrentEdit();y(r.onBeforeDestroy,{grid:r});for(var a=ua.length;a--;)h(ua[a]);b.enableColumnReorder&&N.filter(":ui-sortable").sortable("destroy");La&&(La.unbind("scroll."+X),La=null);H.unbind(".slickgrid");Ca.remove();Da=null;W.unbind("draginit dragstart dragend drag");H.empty().removeClass(X)},getEditorLock:J,getEditController:function(){return vb}});(function(){H=c(n);if(1>H.length)throw Error("SlickGrid requires a valid container, "+n+" does not exist in the DOM.");
p();var d;if(!(d=e)){d=1E6;for(var g=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,k=c("\x3cdiv style\x3d'display:none' /\x3e").appendTo(document.body);;){var h=2*d;k.css("height",h);if(h>g||k.height()!==h)break;else d=h}k.remove()}e=d;(d=f)||(d=c("\x3cdiv style\x3d'position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'\x3e\x3c/div\x3e").appendTo("body"),g={width:d.width()-d[0].clientWidth,height:d.height()-d[0].clientHeight},d.remove(),d=g);f=d;
b=c.extend({},gd,b);b.autoHeight&&(b.leaveSpaceForNewRows=!1);Fb.width=b.defaultColumnWidth;Z={};for(d=0;d<a.length;d++)g=a[d]=c.extend({},Fb,a[d]),Z[g.id]=d,g.minWidth&&g.width<g.minWidth&&(g.width=g.minWidth),g.maxWidth&&g.width>g.maxWidth&&(g.width=g.maxWidth);if(b.enableColumnReorder&&!c.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder \x3d true' option requires jquery-ui.sortable module to be loaded");vb={commitCurrentEdit:dd,cancelCurrentEdit:ed};H.empty().css("overflow","hidden").css("outline",
0).addClass(X).addClass("ui-widget");/relative|absolute|fixed/.test(H.css("position"))||H.css("position","relative");hb=c("\x3cdiv tabIndex\x3d'0' hideFocus style\x3d'position:fixed;width:0;height:0;top:0;left:0;outline:0;'\x3e\x3c/div\x3e").appendTo(H);Ja=c("\x3cdiv class\x3d'slick-header ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(H);N=c("\x3cdiv class\x3d'slick-header-columns' style\x3d'left:-1000px' /\x3e").appendTo(Ja);N.width(m());la=c("\x3cdiv class\x3d'slick-headerrow ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(H);
za=c("\x3cdiv class\x3d'slick-headerrow-columns' /\x3e").appendTo(la);$b=c("\x3cdiv style\x3d'display:block;height:1px;position:absolute;top:0;left:0;'\x3e\x3c/div\x3e").css("width",l()+f.width+"px").appendTo(la);Fa=c("\x3cdiv class\x3d'slick-top-panel-scroller ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(H);Jc=c("\x3cdiv class\x3d'slick-top-panel' style\x3d'width:10000px' /\x3e").appendTo(Fa);b.showTopPanel||Fa.hide();b.showHeaderRow||la.hide();K=c("\x3cdiv class\x3d'slick-viewport' style\x3d'width:100%;overflow:auto;outline:0;position:relative;;'\x3e").appendTo(H);
K.css("overflow-y",b.autoHeight?"hidden":"auto");W=c("\x3cdiv class\x3d'grid-canvas' /\x3e").appendTo(K);b.createFooterRow&&(ma=c("\x3cdiv class\x3d'slick-footerrow ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(H),Aa=c("\x3cdiv class\x3d'slick-footerrow-columns' /\x3e").appendTo(ma),ac=c("\x3cdiv style\x3d'display:block;height:1px;position:absolute;top:0;left:0;'\x3e\x3c/div\x3e").css("width",l()+f.width+"px").appendTo(ma),b.showFooterRow||ma.hide());xb=hb.clone().appendTo(H);
b.explicitInitialization||t()})()}c.extend(!0,g,{Grid:t});var f,e;return t});
(function(c,g){"function"===typeof define&&define.amd?define("plugins/slick.rowselectionmodel",["jquery","../slick.core"],g):c.Slick.RowSelectionModel=g(c.jQuery,c.Slick)})(this,function(c,g){return function(t){function f(a){return function(){B||(B=!0,a.apply(this,arguments),B=!1)}}function e(a){for(var b=[],c=0;c<a.length;c++)for(var d=a[c].fromRow;d<=a[c].toRow;d++)b.push(d);return b}function n(a){for(var b=[],c=h.getColumns().length-1,d=0;d<a.length;d++)b.push(new g.Range(a[d],0,a[d],c));return b}
function d(a,b){var c,d=[];for(c=a;c<=b;c++)d.push(c);for(c=b;c<a;c++)d.push(c);return d}function a(){return e(m)}function b(a){if(m&&0!==m.length||a&&0!==a.length)m=a,l.onSelectedRangesChanged.notify(m)}function x(a,c){G.selectActiveRow&&null!=c.row&&b([new g.Range(c.row,0,c.row,h.getColumns().length-1)])}function p(c){var e=h.getActiveCell();if(e&&c.shiftKey&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&(38==c.which||40==c.which)){var f=a();f.sort(function(a,b){return a-b});f.length||(f=[e.row]);var g=f[0],
f=f[f.length-1],e=40==c.which?e.row<f||g==f?++f:++g:e.row<f?--f:--g;0<=e&&e<h.getDataLength()&&(h.scrollRowIntoView(e),m=n(d(g,f)),b(m));c.preventDefault();c.stopPropagation()}}function A(a){var d=h.getCellFromEvent(a);if(!(d&&h.canCellBeActive(d.row,d.cell)&&h.getOptions().multiSelect&&(a.ctrlKey||a.shiftKey||a.metaKey)))return!1;var f=e(m),g=c.inArray(d.row,f);if(-1===g&&(a.ctrlKey||a.metaKey))f.push(d.row),h.setActiveCell(d.row,d.cell);else if(-1!==g&&(a.ctrlKey||a.metaKey))f=c.grep(f,function(a,
b){return a!==d.row}),h.setActiveCell(d.row,d.cell);else if(f.length&&a.shiftKey){for(var g=f.pop(),l=Math.min(d.row,g),p=Math.max(d.row,g),f=[];l<=p;l++)l!==g&&f.push(l);f.push(g);h.setActiveCell(d.row,d.cell)}m=n(f);b(m);a.stopImmediatePropagation();return!0}var h,m=[],l=this,w=new g.EventHandler,B,G,P={selectActiveRow:!0};c.extend(this,{getSelectedRows:a,setSelectedRows:function(a){b(n(a))},getSelectedRanges:function(){return m},setSelectedRanges:b,init:function(a){G=c.extend(!0,{},P,t);h=a;w.subscribe(h.onActiveCellChanged,
f(x));w.subscribe(h.onKeyDown,f(p));w.subscribe(h.onClick,f(A))},destroy:function(){w.unsubscribeAll()},onSelectedRangesChanged:new g.Event})}});
+function(c,g){"function"===typeof define&&define.amd?define("plugins/slick.headermenu",["jquery","../slick.core"],g):(c.Slick.Plugins=c.Slick.Plugins||{},c.Slick.Plugins.HeaderMenu=g(c.jQuery,c.Slick))}(this,function(c,g){return function(t){function f(a){m&&m[0]!=a.target&&!c.contains(m[0],a.target)&&e()}function e(){m&&(m.remove(),m=null,l.removeClass("slick-header-column-active"))}function n(b,d){var e=d.column,f=e.header&&e.header.menu;f&&(e=c("\x3cdiv\x3e\x3c/div\x3e").addClass("slick-header-menubutton").data("column",
e).data("menu",f),t.buttonCssClass&&e.addClass(t.buttonCssClass),t.buttonImage&&e.css("background-image","url("+t.buttonImage+")"),f.tooltip&&e.attr("title",f.tooltip),e.bind("click",a).appendTo(d.node))}function d(a,b){var d=b.column;d.header&&d.header.menu&&c(b.node).find(".slick-header-menubutton").remove()}function a(a){var d=c(this),e=d.data("menu"),f=d.data("column");if(0!=p.onBeforeMenuShow.notify({grid:x,column:f,menu:e},a,p)){m||(m=c("\x3cdiv class\x3d'slick-header-menu'\x3e\x3c/div\x3e").appendTo(x.getContainerNode()));
m.empty();for(var g=0;g<e.items.length;g++){var n=e.items[g],h=c("\x3cdiv class\x3d'slick-header-menuitem'\x3e\x3c/div\x3e").data("command",n.command||"").data("column",f).data("item",n).bind("click",b).appendTo(m);n.disabled&&h.addClass("slick-header-menuitem-disabled");n.tooltip&&h.attr("title",n.tooltip);var t=c("\x3cdiv class\x3d'slick-header-menuicon'\x3e\x3c/div\x3e").appendTo(h);n.iconCssClass&&t.addClass(n.iconCssClass);n.iconImage&&t.css("background-image","url("+n.iconImage+")");c("\x3cspan class\x3d'slick-header-menucontent'\x3e\x3c/span\x3e").text(n.title).appendTo(h)}m.offset({top:c(this).offset().top+
c(this).height(),left:c(this).offset().left});l=d.closest(".slick-header-column");l.addClass("slick-header-column-active");a.preventDefault();a.stopPropagation()}}function b(a){var b=c(this).data("command"),d=c(this).data("column"),f=c(this).data("item");f.disabled||(e(),null!=b&&""!=b&&p.onCommand.notify({grid:x,column:d,command:b,item:f},a,p),a.preventDefault(),a.stopPropagation())}var x,p=this,A=new g.EventHandler,h={buttonCssClass:null,buttonImage:null},m,l;c.extend(this,{init:function(a){t=c.extend(!0,
{},h,t);x=a;A.subscribe(x.onHeaderCellRendered,n).subscribe(x.onBeforeHeaderCellDestroy,d);x.setColumns(x.getColumns());c(document.body).bind("mousedown",f)},destroy:function(){A.unsubscribeAll();c(document.body).unbind("mousedown",f)},onBeforeMenuShow:new g.Event,onCommand:new g.Event})}});
(function(c,g){"function"===typeof define&&define.amd?define("slick.remotemodel",["jquery","./slick.core"],g):(c.Slick.Data=c.Slick.Data||{},c.Slick.Data.RemoteModel=g(c.jQuery))})(this,function(c,g){return function(){function t(){for(var a in d)delete d[a];d.length=0}function f(f,g){if(A){A.abort();for(var t=A.fromPage;t<=A.toPage;t++)d[50*t]=void 0}0>f&&(f=0);0<d.length&&(g=Math.min(g,d.length-1));for(var G=Math.floor(f/50),P=Math.floor(g/50);void 0!==d[50*G]&&G<P;)G++;for(;void 0!==d[50*P]&&G<
P;)P--;if(G>P||G==P&&void 0!==d[50*G])m.notify({from:f,to:g});else{for(var R=0,u=n+"?qtype\x3d"+b+"\x26query\x3d"+a+"\x26start\x3d"+50*G+"\x26limit\x3d"+(50*(P-G)+50),R=x.length,t=0;t<R;t++)x[t]&&void 0!=x[t].sortCol&&(u+="\x26sortname\x3d"+x[t].sortCol.field+"\x26sortorder\x3d"+(x[t].sortAsc?"asc":"desc"));null!=p&&clearTimeout(p);p=setTimeout(function(){for(var a=G;a<=P;a++)d[50*a]=null;h.notify({from:f,to:g});A=c.ajax({url:u,callbackParameter:"callback",cache:!1,success:e,error:function(){alert("error loading pages "+
G+" to "+P)}});A.fromPage=G;A.toPage=P},50)}}function e(a){a=c.parseJSON(a);var b=a.request.start,e=b+a.results.length+1;d.length=a.request.total;for(var f=0;f<a.results.length;f++)d[b+f]=a.results[f],d[b+f].index=b+f;A=null;m.notify({from:b,to:e})}var n=null,d={length:0},a="",b="",x=null,p=null,A=null,h=new g.Event,m=new g.Event;return{data:d,clear:t,isDataLoaded:function(a,b){for(var c=a;c<=b;c++)if(void 0==d[c]||null==d[c])return!1;return!0},ensureData:f,reloadData:function(a,b){for(var c=a;c<=
b;c++)delete d[c];f(a,b)},setSort:function(a,b){x=a;t()},setSearch:function(c,d){a=c;b=d;t()},setUrl:function(a){n=a},onDataLoading:h,onDataLoaded:m}}});
(function(c,g){"function"===typeof define&&define.amd?define("slick.editors",["jquery","./slick.core","select2"],g):c.Slick.Editors=g(c.jQuery)})(this,function(c,g){function t(f){function e(){var a=f.column.editorFixedDecimalPlaces;"undefined"==typeof a&&(a=t.DefaultDecimalPlaces);return a||0===a?a:null}var g,d;this.init=function(){g=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e");g.bind("keydown.nav",function(a){a.keyCode!==c.ui.keyCode.LEFT&&a.keyCode!==c.ui.keyCode.RIGHT||a.stopImmediatePropagation()});
g.appendTo(f.container);g.focus().select()};this.destroy=function(){g.remove()};this.focus=function(){g.focus()};this.loadValue=function(a){d=a[f.column.field];a=e();null!==a&&(d||0===d)&&d.toFixed&&(d=d.toFixed(a));g.val(d);g[0].defaultValue=d;g.select()};this.serializeValue=function(){var a=parseFloat(g.val())||0,b=e();null!==b&&(a||0===a)&&a.toFixed&&(a=parseFloat(a.toFixed(b)));return a};this.applyValue=function(a,b){a[f.column.field]=b};this.isValueChanged=function(){return!(""==g.val()&&null==
d)&&g.val()!=d};this.validate=function(){if(isNaN(g.val()))return{valid:!1,msg:"Please enter a valid number"};if(f.column.validator){var a=f.column.validator(g.val());if(!a.valid)return a}return{valid:!0,msg:null}};this.init()}c.extend(!0,g,{Editors:{Text:function(f){var e,g;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e").appendTo(f.container).bind("keydown.nav",function(d){d.keyCode!==c.ui.keyCode.LEFT&&d.keyCode!==c.ui.keyCode.RIGHT||d.stopImmediatePropagation()}).focus().select()};
this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.getValue=function(){return e.val()};this.setValue=function(c){e.val(c)};this.loadValue=function(c){g=c[f.column.field]||"";e.val(g);e[0].defaultValue=g;e.select()};this.serializeValue=function(){return e.val()};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return!(""==e.val()&&null==g)&&e.val()!=g};this.validate=function(){if(f.column.validator){var c=f.column.validator(e.val());if(!c.valid)return c}return{valid:!0,
msg:null}};this.init()},Integer:function(f){var e,g;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e");e.bind("keydown.nav",function(d){d.keyCode!==c.ui.keyCode.LEFT&&d.keyCode!==c.ui.keyCode.RIGHT||d.stopImmediatePropagation()});e.appendTo(f.container);e.focus().select()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.loadValue=function(c){g=c[f.column.field];e.val(g);e[0].defaultValue=g;e.select()};this.serializeValue=function(){return parseInt(e.val(),
10)||0};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return!(""==e.val()&&null==g)&&e.val()!=g};this.validate=function(){if(isNaN(e.val()))return{valid:!1,msg:"Please enter a valid integer"};if(f.column.validator){var c=f.column.validator(e.val());if(!c.valid)return c}return{valid:!0,msg:null}};this.init()},Float:t,Date:function(f){var e,g,d=!1;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e");e.appendTo(f.container);e.focus().select();
e.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){d=!0},onClose:function(){d=!1}});e.width(e.width()-18)};this.destroy=function(){c.datepicker.dpDiv.stop(!0,!0);e.datepicker("hide");e.datepicker("destroy");e.remove()};this.show=function(){d&&c.datepicker.dpDiv.stop(!0,!0).show()};this.hide=function(){d&&c.datepicker.dpDiv.stop(!0,!0).hide()};this.position=function(a){d&&c.datepicker.dpDiv.css("top",a.top+30).css("left",a.left)};this.focus=
function(){e.focus()};this.loadValue=function(a){g=a[f.column.field];e.val(g);e[0].defaultValue=g;e.select()};this.serializeValue=function(){return e.val()};this.applyValue=function(a,b){a[f.column.field]=b};this.isValueChanged=function(){return!(""==e.val()&&null==g)&&e.val()!=g};this.validate=function(){if(f.column.validator){var a=f.column.validator(e.val());if(!a.valid)return a}return{valid:!0,msg:null}};this.init()},YesNoSelect:function(f){var e,g;this.init=function(){e=c("\x3cSELECT tabIndex\x3d'0' class\x3d'editor-yesno'\x3e\x3cOPTION value\x3d'yes'\x3eYes\x3c/OPTION\x3e\x3cOPTION value\x3d'no'\x3eNo\x3c/OPTION\x3e\x3c/SELECT\x3e");
e.appendTo(f.container);e.focus()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.loadValue=function(c){e.val((g=c[f.column.field])?"yes":"no");e.select()};this.serializeValue=function(){return"yes"==e.val()};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return e.val()!=g};this.validate=function(){return{valid:!0,msg:null}};this.init()},Checkbox:function(f){var e,g;this.init=function(){e=c("\x3cINPUT type\x3dcheckbox value\x3d'true' class\x3d'editor-checkbox' hideFocus\x3e");
e.appendTo(f.container);e.focus()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.loadValue=function(c){(g=!!c[f.column.field])?e.prop("checked",!0):e.prop("checked",!1)};this.serializeValue=function(){return e.prop("checked")};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return this.serializeValue()!==g};this.validate=function(){return{valid:!0,msg:null}};this.init()},PercentComplete:function(f){var e,g,d;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-percentcomplete' /\x3e");
e.width(c(f.container).innerWidth()-25);e.appendTo(f.container);g=c("\x3cdiv class\x3d'editor-percentcomplete-picker' /\x3e").appendTo(f.container);g.append("\x3cdiv class\x3d'editor-percentcomplete-helper'\x3e\x3cdiv class\x3d'editor-percentcomplete-wrapper'\x3e\x3cdiv class\x3d'editor-percentcomplete-slider' /\x3e\x3cdiv class\x3d'editor-percentcomplete-buttons' /\x3e\x3c/div\x3e\x3c/div\x3e");g.find(".editor-percentcomplete-buttons").append("\x3cbutton val\x3d0\x3eNot started\x3c/button\x3e\x3cbr/\x3e\x3cbutton val\x3d50\x3eIn Progress\x3c/button\x3e\x3cbr/\x3e\x3cbutton val\x3d100\x3eComplete\x3c/button\x3e");
e.focus().select();g.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:d,slide:function(a,b){e.val(b.value)}});g.find(".editor-percentcomplete-buttons button").bind("click",function(a){e.val(c(this).attr("val"));g.find(".editor-percentcomplete-slider").slider("value",c(this).attr("val"))})};this.destroy=function(){e.remove();g.remove()};this.focus=function(){e.focus()};this.loadValue=function(a){e.val(d=a[f.column.field]);e.select()};this.serializeValue=function(){return parseInt(e.val(),
10)||0};this.applyValue=function(a,b){a[f.column.field]=b};this.isValueChanged=function(){return!(""==e.val()&&null==d)&&(parseInt(e.val(),10)||0)!=d};this.validate=function(){return isNaN(parseInt(e.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}};this.init()},LongText:function(f){var e,g,d,a=this;this.init=function(){var b=c("body");g=c("\x3cDIV style\x3d'z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/\x3e").appendTo(b);
e=c("\x3cTEXTAREA hidefocus rows\x3d5 style\x3d'backround:white;width:250px;height:80px;border:0;outline:0'\x3e").appendTo(g);c("\x3cDIV style\x3d'text-align:right'\x3e\x3cBUTTON\x3eSave\x3c/BUTTON\x3e\x3cBUTTON\x3eCancel\x3c/BUTTON\x3e\x3c/DIV\x3e").appendTo(g);g.find("button:first").bind("click",this.save);g.find("button:last").bind("click",this.cancel);e.bind("keydown",this.handleKeyDown);a.position(f.position);e.focus().select()};this.handleKeyDown=function(b){b.which==c.ui.keyCode.ENTER&&b.ctrlKey?
a.save():b.which==c.ui.keyCode.ESCAPE?(b.preventDefault(),a.cancel()):b.which==c.ui.keyCode.TAB&&b.shiftKey?(b.preventDefault(),f.grid.navigatePrev()):b.which==c.ui.keyCode.TAB&&(b.preventDefault(),f.grid.navigateNext())};this.save=function(){f.commitChanges()};this.cancel=function(){e.val(d);f.cancelChanges()};this.hide=function(){g.hide()};this.show=function(){g.show()};this.position=function(a){g.css("top",a.top-5).css("left",a.left-5)};this.destroy=function(){g.remove()};this.focus=function(){e.focus()};
this.loadValue=function(a){e.val(d=a[f.column.field]);e.select()};this.serializeValue=function(){return e.val()};this.applyValue=function(a,c){a[f.column.field]=c};this.isValueChanged=function(){return!(""==e.val()&&null==d)&&e.val()!=d};this.validate=function(){if(f.column.validator){var a=f.column.validator(e.val());if(!a.valid)return a}return{valid:!0,msg:null}};this.init()},FileSizeEditor:function(f){var e;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e").appendTo(f.container).bind("keydown.nav",
function(e){e.keyCode!==c.ui.keyCode.LEFT&&e.keyCode!==c.ui.keyCode.RIGHT||e.stopImmediatePropagation()}).focus().select()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.getValue=function(){return e.val()};this.setValue=function(c){e.val(c)};this.loadValue=function(c){c=c[f.column.field]||"";c=Number(c);var d=["KB","MB","GB","TB","PB"],a=0;if(0===c)c="0 KB";else{for(;1024<=c;)a++,c/=1024;c=Number(c)+" "+d[a]}e.val(c);e[0].defaultValue=c;e.select();return c};this.serializeValue=
function(){var c,d=e.val();if(c=d.match(new RegExp(/(^\d+(\.\d+)?)(\s+)?(KB|MB|GB|TB|PB)/i))){switch(c[4].toUpperCase()){case "KB":d=Number(1024*c[1]);break;case "MB":d=Number(c[1]*Math.pow(1024,2));break;case "GB":d=Number(c[1]*Math.pow(1024,3));break;case "TB":d=Number(c[1]*Math.pow(1024,4));break;case "PB":d=Number(c[1]*Math.pow(1024,5))}d=Math.floor(d/1024)}return d};this.applyValue=function(c,d){c[f.column.field]=d};this.isValueChanged=function(){return""!=e.val()&&void 0!=e.val()};this.validate=
function(){if(f.column.validator){var c=f.column.validator(e.val());if(!c.valid)return c}return{valid:!0,msg:null}};this.init()},SelectOptionEditor:function(f){var e=null,g;this.options=null;this.init=function(){if(void 0!=f.column.seloptions.options)this.options=f.column.seloptions.options,config=f.column.seloptions,e=c('\x3cdiv style\x3d"width:100%;"\x3e'),e.appendTo(f.container),c(f.container).css({height:"auto"}),sel2config={multiple:config.multiple,placeholder:config.txt,formatResult:function(a){return a[config.displayField]},
formatSelection:function(a){return a[config.displayField]},id:function(a){return a[config.valueField]},minimumInputLength:0},sel2config.data=this.options,c(e).select2(sel2config);else{var d=f.column.seloptions.txt;e=c('\x3cdiv style\x3d"width:100%;"\x3e');e.appendTo(f.container);c(f.container).css({height:"auto"});var a=f.column.seloptions.displayName;c(e).select2({multiple:!0,placeholder:d,displayValue:a,minimumInputLength:1,initSelection:function(a,c){var d=e.select2("val");c(d)},ajax:{url:f.column.seloptions.url,
dataType:"json",quietMillis:100,data:function(a,c){return{q:a,page_limit:10,page:c}},results:function(a,c){return{results:a.results,more:10*c<a.total}}},formatResult:function(a){return a[this.displayValue]},formatSelection:function(a){return a[this.displayValue]},id:function(a){return a.id}})}this.destroy=function(){c(e).select2("destroy");e.remove();c(f.container).css("height","")};this.focus=function(){e.focus()};this.loadValue=function(a){c(e).select2("data",a[f.column.field]);g=a[f.column.field][f.column.seloptions.valueField]};
this.serializeValue=function(){return serializedvalue=e.select2("data")};this.applyValue=function(a,c){a[f.column.field]=c};this.isValueChanged=function(){return c(e).select2("val")!=g};this.validate=function(){return{valid:!0,msg:null}}};this.init()}}});t.DefaultDecimalPlaces=null;return g.Editors});
define("app/Basegrid","jquery jqueryui slick.grid plugins/slick.rowselectionmodel plugins/slick.headermenu slick.remotemodel slick.editors".split(" "),function(c,g,t,f,e,n,d){return function(a,b,c){a.ajaxSettings.traditional=!0;var d,g=new n;b.initHeaderMenu();a.map(b.getColumns(),function(b){0!=b.searchable&&a("#searchField").append(a("\x3coption\x3e\x3c/option\x3e").attr("value",void 0!=b.sfield?b.sfield:b.field).text(b.name))});a("#searchField").select2();g.setUrl(b.getUrl());var h=null;a("#openCreateButton").click(function(){var e=
new c("div.item-details-form-tmpl");a(e.getForm()).on("form-saved",function(c,f){if(void 0!=f.success&&0===f.success)dialog=a("\x3cdiv/\x3e"),a(dialog).attr("title",b.getErrorHeader()),a(dialog).append("\x3cp\x3e\x3c/p\x3e").append(document.createTextNode(f.errorMsg)),a(dialog).dialog({resizable:!1,height:250,closeText:"",modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("destroy")}}]});else{a(e.getForm()).find("input[name\x3did]").val(f.id);g.clear();var h=d.getViewport();g.ensureData(h.top,
h.bottom);d.updateRowCount();d.resizeCanvas();a(e.el).remove()}});e.enableForm();e.show(!0);return!1});a("#openDeleteButton").click(function(){var c=d.getSelectedRows()[0],e={},e=d.getDataItem(c),f=b.getDeleteText(e),c=a("\x3cdiv/\x3e");a(c).attr("title",f);a(c).attr("id","dialog-confirm");f=a("\x3cspan\x3e\x3c/span\x3e").addClass("ui-icon").addClass("ui-icon-alert");a(f).css({"float":"left",margin:"0 7px 20px 0"});a("\x3cp\x3e\x3c/p\x3e").append(f).append(b.getDialogText(e)).appendTo(a(c));a(c).dialog({resizable:!1,
height:250,closeText:"",modal:!0,buttons:{Yes:function(){a(this).dialog("close");a.ajax({success:function(){g.clear();var a=d.getViewport();g.ensureData(a.top,a.bottom)},method:"post",url:b.getUrl(),data:{id:e.id,action:"delete"}})},No:function(){a(this).dialog("close")}}});return!1});a("#openDetailsButton").click(function(){var e=d.getSelectedRows()[0],f=new c("div.item-details-form-tmpl");a(f.getForm()).on("form-saved",function(c,g){if(void 0!==g.success&&0===g.success){var h=a("\x3cdiv/\x3e");
a(h).attr("title",b.getErrorHeader());a(h).append("\x3cp\x3e\x3c/p\x3e").append(document.createTextNode(g.errorMsg));a(h).dialog({resizable:!1,height:250,closeText:"",modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("destroy")}}]})}else d.invalidateRow(e),d.getData()[e]=g,d.render(),a(f.el).remove()});f.populate(d.getDataItem(e));f.enableForm();f.show()});a(b).on("row-saved",function(c,e,f){0===e.success?(c=a("\x3cdiv/\x3e"),a(c).attr("title",b.getErrorHeader()),a(c).append("\x3cp\x3e\x3c/p\x3e").append(document.createTextNode(e.errorMsg)),
a(c).dialog({resizable:!1,height:250,closeText:"",modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("destroy")}}]})):(d.invalidateRow(f),d.getData()[f]=e,d.render());return!1});d=new t("#myGrid",g.data,b.getColumns(),b.getOptions());d.onViewportChanged.subscribe(function(a,b){var c=d.getViewport();g.ensureData(c.top,c.bottom)});d.onSort.subscribe(function(a,b){g.setSort(b.sortCols);var c=d.getViewport();g.ensureData(c.top,c.bottom)});g.onDataLoading.subscribe(function(){h||(h=a("\x3cspan class\x3d'loading-indicator'\x3e\x3clabel\x3e"+
b.getBufferText()+"\x3c/label\x3e\x3c/span\x3e").appendTo(document.body),a("#myGrid"),a(h).position({postition:"center",of:"#myGrid"}));h.show()});g.onDataLoaded.subscribe(function(a,b){for(var c=b.from;c<=b.to;c++)d.invalidateRow(c);d.updateRowCount();d.render();d.resizeCanvas();h.fadeOut()});d.setSelectionModel(new f);headerMenuPlugin=new e;headerMenuPlugin.onCommand.subscribe(function(a,b){g.setSort([{sortAsc:"sort-asc"==b.command,sortCol:{field:b.column.field}}]);var c=d.getViewport();g.ensureData(c.top,
c.bottom)});d.registerPlugin(headerMenuPlugin);g.setSearch("","t1.id");g.setSort([{field:"username",sortAsc:!0}]);d.setSortColumn("id",!1);d.setSortColumn("username",!1);d.onViewportChanged.notify();d.updateRowCount();a("#txtSearch").keyup(function(b){13==b.which&&(g.setSearch(a("#txtSearch").val(),a("#searchField").val()),b=d.getViewport(),g.ensureData(b.top,b.bottom))});a("#myGrid").show()}});