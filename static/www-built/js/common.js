/*
Copyright 2012 Igor Vaynberg

Version: @@ver@@ Timestamp: @@timestamp@@

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/

/*
jed.js
v0.5.0beta

https://github.com/SlexAxton/Jed
-----------
A gettext compatible i18n library for modern JavaScript Applications

by Alex Sexton - AlexSexton [at] gmail - @SlexAxton
WTFPL license for use
Dojo CLA for contributions

Jed offers the entire applicable GNU gettext spec'd set of
functions, but also offers some nicer wrappers around them.
The api for gettext was written for a language with no function
overloading, so Jed allows a little more of that.

Many thanks to Joshua I. Miller - unrtst@cpan.org - who wrote
gettext.js back in 2008. I was able to vet a lot of my ideas
against his. I also made sure Jed passed against his tests
in order to offer easy upgrades -- jsgettext.berlios.de
*/

// Underscore 1.3.0 was used to port and is licensed

/**
   sprintf() for JavaScript 0.7-beta1
   http://www.diveintojavascript.com/projects/javascript-sprintf

   Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:
       * Redistributions of source code must retain the above copyright
         notice, this list of conditions and the following disclaimer.
       * Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in the
         documentation and/or other materials provided with the distribution.
       * Neither the name of sprintf() for JavaScript nor the
         names of its contributors may be used to endorse or promote products
         derived from this software without specific prior written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
   DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
   ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */

/* 
 * The MIT License
 *
 * Copyright 2015 Jesper Schmitz Mouridsen.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

/*! 
 * jquery.event.drag - v 2.2
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */

/**
 * @license
 * (c) 2009-2012 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.1
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */

/*

 (c) 2009-2012 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.1

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
(function(c){"function"===typeof define&&define.amd?define("select2",["jquery"],c):c(jQuery)})(function(c,d){function e(g,c){var a=0,b=c.length,d;if("undefined"===typeof g)return-1;if(g.constructor===String)for(;a<b;a+=1){if(0===g.localeCompare(c[a]))return a}else for(;a<b;a+=1)if(d=c[a],d.constructor===String){if(0===d.localeCompare(g))return a}else if(d===g)return a;return-1}function f(g,a){return g===a?!0:g===d||a===d||null===g||null===a?!1:g.constructor===String?0===g.localeCompare(a):a.constructor===
String?0===a.localeCompare(g):!1}function r(g,a){var b,d,l;if(null===g||1>g.length)return[];b=g.split(a);d=0;for(l=b.length;d<l;d+=1)b[d]=c.trim(b[d]);return b}function u(g){g.bind("keydown",function(){c.data(g,"keyup-change-value")===d&&c.data(g,"keyup-change-value",g.val())});g.bind("keyup",function(){var a=c.data(g,"keyup-change-value");a!==d&&g.val()!==a&&(c.removeData(g,"keyup-change-value"),g.trigger("keyup-change"))})}function b(g){g.bind("mousemove",function(g){var a=Oa;a!==d&&a.x===g.pageX&&
a.y===g.pageY||c(g.target).trigger("mousemove-filtered",g)})}function a(g,a,c){c=c||d;var b;return function(){var d=arguments;window.clearTimeout(b);b=window.setTimeout(function(){a.apply(c,d)},g)}}function w(g){var a=!1,c;return function(){!1===a&&(c=g(),a=!0);return c}}function y(g,c){var b=a(g,function(g){c.trigger("scroll-debounced",g)});c.bind("scroll",function(g){0<=e(g.target,c.get())&&b(g)})}function k(g){g.preventDefault();g.stopPropagation()}function t(g,a,c){var b=g.toUpperCase().indexOf(a.toUpperCase());
a=a.length;0>b?c.push(g):(c.push(g.substring(0,b)),c.push("\x3cspan class\x3d'select2-match'\x3e"),c.push(g.substring(b,b+a)),c.push("\x3c/span\x3e"),c.push(g.substring(b+a,g.length)))}function l(g){var a,b=0,d=null,l=g.quietMillis||100;return function(h){window.clearTimeout(a);a=window.setTimeout(function(){var a=b+=1,N=g.data,l=g.transport||c.ajax,e=g.traditional||!1,f=g.type||"GET",N=N.call(this,h.term,h.page,h.context);null!==d&&d.abort();d=l.call(null,{url:g.url,dataType:g.dataType,data:N,type:f,
traditional:e,success:function(c){a<b||(c=g.results(c,h.page),h.callback(c))}})},l)}}function n(g){var a=g,b,d=function(g){return""+g.text};c.isArray(a)||(d=a.text,c.isFunction(d)||(b=a.text,d=function(g){return g[b]}),a=a.results);return function(g){var b=g.term,I={results:[]},l;""===b?g.callback({results:a}):(l=function(a,N){var I,h;a=a[0];if(a.children){I={};for(h in a)a.hasOwnProperty(h)&&(I[h]=a[h]);I.children=[];c(a.children).each2(function(g,a){l(a,I.children)});(I.children.length||g.matcher(b,
d(I)))&&N.push(I)}else g.matcher(b,d(a))&&N.push(a)},c(a).each2(function(g,a){l(a,I.results)}),g.callback(I))}}function h(g){return c.isFunction(g)?g:function(a){var b=a.term,l={results:[]};c(g).each(function(){var g=this.text!==d,c=g?this.text:this;(""===b||a.matcher(b,c))&&l.results.push(g?this:{id:this,text:this})});a.callback(l)}}function v(g,a){if(c.isFunction(g))return!0;if(!g)return!1;throw Error("formatterName must be a function or a falsy value");}function B(g){return c.isFunction(g)?g():
g}function X(g){var a=0;c.each(g,function(g,c){c.children?a+=X(c.children):a++});return a}function K(g,a,c,b){var l=g,h=!1,e,n,v,k;if(!b.createSearchChoice||!b.tokenSeparators||1>b.tokenSeparators.length)return d;for(;;){h=-1;n=0;for(v=b.tokenSeparators.length;n<v&&!(k=b.tokenSeparators[n],h=g.indexOf(k),0<=h);n++);if(0>h)break;e=g.substring(0,h);g=g.substring(h+k.length);if(0<e.length&&(e=b.createSearchChoice(e,a),e!==d&&null!==e&&b.id(e)!==d&&null!==b.id(e))){h=!1;n=0;for(v=a.length;n<v;n++)if(f(b.id(e),
b.id(a[n]))){h=!0;break}h||c(e)}}if(0!=l.localeCompare(g))return g}function z(g,a){var b=function(){};b.prototype=new g;b.prototype.constructor=b;b.prototype.parent=g.prototype;b.prototype=c.extend(b.prototype,a);return b}"undefined"==typeof c.fn.each2&&c.fn.extend({each2:function(g){for(var a=c([0]),b=-1,d=this.length;++b<d&&(a.context=a[0]=this[b])&&!1!==g.call(a[0],b,a););return this}});"use strict";if(window.Select2===d){var p,ca,q,L,Pa,na,Oa,ga;p={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,
RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(g){g=g.which?g.which:g;switch(g){case p.LEFT:case p.RIGHT:case p.UP:case p.DOWN:return!0}return!1},isControl:function(g){switch(g.which){case p.SHIFT:case p.CTRL:case p.ALT:return!0}return g.metaKey?!0:!1},isFunctionKey:function(g){g=g.which?g.which:g;return 112<=g&&123>=g}};ga=c(document);Pa=function(){var g=1;return function(){return g++}}();ga.bind("mousemove",function(g){Oa={x:g.pageX,
y:g.pageY}});ga.ready(function(){ga.bind("mousedown touchend",function(g){var a=c(g.target).closest("div.select2-container").get(0),b;a?ga.find("div.select2-container-active").each(function(){this!==a&&c(this).data("select2").blur()}):(a=c(g.target).closest("div.select2-drop").get(0),ga.find("div.select2-drop-active").each(function(){this!==a&&c(this).data("select2").blur()}));a=c(g.target);b=a.attr("for");"LABEL"===g.target.tagName&&b&&0<b.length&&(b=b.replace(/([\[\].])/g,"\\$1"),a=c("#"+b),a=a.data("select2"),
a!==d&&(a.focus(),g.preventDefault()))})});ca=z(Object,{bind:function(g){var a=this;return function(){g.apply(a,arguments)}},init:function(g){var a,h;this.opts=g=this.prepareOpts(g);this.id=g.id;g.element.data("select2")!==d&&null!==g.element.data("select2")&&this.destroy();this.enabled=!0;this.container=this.createContainer();this.containerId="s2id_"+(g.element.attr("id")||"autogen"+Pa());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",
this.containerId);this.body=w(function(){return g.element.closest("body")});g.element.attr("class")!==d&&this.container.addClass(g.element.attr("class").replace(/validate\[[\S ]+] ?/,""));this.container.css(B(g.containerCss));this.container.addClass(B(g.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(B(g.dropdownCssClass));this.dropdown.data("select2",
this);this.results=a=this.container.find(".select2-results");this.search=h=this.container.find("input.select2-input");h.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();b(this.results);this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));y(80,this.results);this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded));c.fn.mousewheel&&
a.mousewheel(function(g,b,c,d){b=a.scrollTop();0<d&&0>=b-d?(a.scrollTop(0),k(g)):0>d&&a.get(0).scrollHeight-a.scrollTop()+d<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),k(g))});u(h);h.bind("keyup-change",this.bind(this.updateResults));h.bind("focus",function(){h.addClass("select2-focused");" "===h.val()&&h.val("")});h.bind("blur",function(){h.removeClass("select2-focused")});this.dropdown.delegate(".select2-results","mouseup",this.bind(function(g){0<c(g.target).closest(".select2-result-selectable:not(.select2-disabled)").length?
(this.highlightUnderEvent(g),this.selectHighlighted(g)):this.focusSearch();k(g)}));this.dropdown.bind("click mouseup mousedown",function(g){g.stopPropagation()});c.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());(g.element.is(":disabled")||g.element.is("[readonly\x3d'readonly']"))&&this.disable()},destroy:function(){var g=this.opts.element.data("select2");g!==d&&(g.container.remove(),g.dropdown.remove(),g.opts.element.removeData("select2").unbind(".select2").show())},
prepareOpts:function(g){var a,b,e;a=g.element;"select"===a.get(0).tagName.toLowerCase()&&(this.select=b=g.element);b&&c.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in g)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a \x3cselect\x3e element.");});g=c.extend({},{populateResults:function(a,b,h){var l,e=this.opts.id,N=this;l=function(a,b,f){var n,I,v,k,p,z,B;n=0;for(I=a.length;n<I;n+=1)v=a[n],k=e(v)!==d,p=v.children&&
0<v.children.length,z=c("\x3cli\x3e\x3c/li\x3e"),z.addClass("select2-results-dept-"+f),z.addClass("select2-result"),z.addClass(k?"select2-result-selectable":"select2-result-unselectable"),p&&z.addClass("select2-result-with-children"),z.addClass(N.opts.formatResultCssClass(v)),k=c("\x3cdiv\x3e\x3c/div\x3e"),k.addClass("select2-result-label"),B=g.formatResult(v,k,h),B!==d&&k.html(N.opts.escapeMarkup(B)),z.append(k),p&&(p=c("\x3cul\x3e\x3c/ul\x3e"),p.addClass("select2-result-sub"),l(v.children,p,f+1),
z.append(p)),z.data("select2-data",v),b.append(z)};l(b,a,0)}},c.fn.select2.defaults,g);"function"!==typeof g.id&&(e=g.id,g.id=function(g){return g[e]});b?(g.query=this.bind(function(g){var b={results:[],more:!1},h=g.term,l,e,f;f=function(a,b){var c;a.is("option")?g.matcher(h,a.text(),a)&&b.push({id:a.attr("value"),text:a.text(),element:a.get(),css:a.attr("class")}):a.is("optgroup")&&(c={text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")},a.children().each2(function(g,a){f(a,c.children)}),
0<c.children.length&&b.push(c))};l=a.children();this.getPlaceholder()!==d&&0<l.length&&(e=l[0],""===c(e).text()&&(l=l.not(e)));l.each2(function(g,a){f(a,b.results)});g.callback(b)}),g.id=function(g){return g.id},g.formatResultCssClass=function(g){return g.css}):"query"in g||("ajax"in g?((b=g.element.data("ajax-url"))&&0<b.length&&(g.ajax.url=b),g.query=l(g.ajax)):"data"in g?g.query=n(g.data):"tags"in g&&(g.query=h(g.tags),g.createSearchChoice===d&&(g.createSearchChoice=function(g){return{id:g,text:g}}),
g.initSelection=function(a,b){var d=[];c(r(a.val(),g.separator)).each(function(){var a=this,b=this,h=g.tags;c.isFunction(h)&&(h=h());c(h).each(function(){if(f(this.id,a))return b=this.text,!1});d.push({id:a,text:b})});b(d)}));if("function"!==typeof g.query)throw"query function not defined for Select2 "+g.element.attr("id");return g},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(g){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},
triggerChange:function(g){g=g||{};g=c.extend({},g,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(g);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=
!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var g=this.container.offset(),a=this.container.outerHeight(!1),b=this.container.outerWidth(!1),d=this.dropdown.outerHeight(!1),h=c(window).scrollLeft()+document.documentElement.clientWidth,l=c(window).scrollTop()+document.documentElement.clientHeight,a=g.top+a,e=g.left,l=a+d<=l,f=g.top-d>=this.body().scrollTop(),
n=this.dropdown.outerWidth(!1),h=e+n<=h,v=this.dropdown.hasClass("select2-drop-above"),k;"static"!==this.body().css("position")&&(k=this.body().offset(),a-=k.top,e-=k.left);v?(v=!0,!f&&l&&(v=!1)):(v=!1,!l&&f&&(v=!0));h||(e=g.left+b-n);v?(a=g.top-d,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above"));g=c.extend({top:a,left:e,width:b},B(this.opts.dropdownCss));this.dropdown.css(g)},
shouldOpen:function(){var a;if(this.opened())return!1;a=c.Event("open");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;window.setTimeout(this.bind(this.opening),1);return!0},opening:function(){var a=this.containerId,b=this.containerSelector,d="scroll."+a,h="resize."+a;this.container.parents().each(function(){c(this).bind(d,
function(){var a=c(b);0==a.length&&c(this).unbind(d);a.select2("close")})});window.setTimeout(function(){c(window).bind(h,function(){var a=c(b);0==a.length&&c(window).unbind(h);a.select2("close")})},10);this.clearDropdownAlignmentPreference();" "===this.search.val()&&this.search.val("");this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(!0);this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());this.dropdown.show();
this.positionDropdown();this.dropdown.addClass("select2-drop-active");this.ensureHighlightVisible();this.focusSearch()},close:function(){if(this.opened()){var a=this;this.container.parents().each(function(){c(this).unbind("scroll."+a.containerId)});c(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(c.Event("close"))}},
clearSearch:function(){},ensureHighlightVisible:function(){var a=this.results,b,d,h,l;d=this.highlight();0>d||(0==d?a.scrollTop(0):(b=a.find(".select2-result-selectable"),h=c(b[d]),l=h.offset().top+h.outerHeight(!0),d===b.length-1&&(b=a.find("li.select2-more-results"),0<b.length&&(l=b.offset().top+b.outerHeight(!0))),b=a.offset().top+a.outerHeight(!0),l>b&&a.scrollTop(a.scrollTop()+(l-b)),l=h.offset().top-a.offset().top,0>l&&"none"!=h.css("display")&&a.scrollTop(a.scrollTop()+l)))},moveHighlight:function(a){for(var b=
this.results.find(".select2-result-selectable"),d=this.highlight();-1<d&&d<b.length;){var d=d+a,h=c(b[d]);if(h.hasClass("select2-result-selectable")&&!h.hasClass("select2-disabled")){this.highlight(d);break}}},highlight:function(a){var b=this.results.find(".select2-result-selectable").not(".select2-disabled");if(0===arguments.length)return e(b.filter(".select2-highlighted")[0],b.get());a>=b.length&&(a=b.length-1);0>a&&(a=0);b.removeClass("select2-highlighted");c(b[a]).addClass("select2-highlighted");
this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(a){a=c(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var b=this.results.find(".select2-result-selectable");this.highlight(b.index(a))}else 0==a.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var a=this.results,
b=a.find("li.select2-more-results"),c,d=this.resultsPage+1,h=this,l=this.search.val(),e=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),0>=c&&(b.addClass("select2-active"),this.opts.query({term:l,page:d,context:e,matcher:this.opts.matcher,callback:this.bind(function(c){h.opened()&&(h.opts.populateResults.call(this,a,c.results,{term:l,page:d,context:e}),!0===c.more?(b.detach().appendTo(a).text(h.opts.formatLoadMore(d+1)),window.setTimeout(function(){h.loadMoreIfNeeded()},10)):
b.remove(),h.positionDropdown(),h.resultsPage=d)})})))},tokenize:function(){},updateResults:function(a){function b(){e.scrollTop(0);l.removeClass("select2-active");p.positionDropdown()}function h(a){e.html(p.opts.escapeMarkup(a));b()}var l=this.search,e=this.results,n=this.opts,k,p=this;if(!0===a||!1!==this.showSearchInput&&this.opened()){l.addClass("select2-active");if(1<=n.maximumSelectionSize&&(k=this.data(),c.isArray(k)&&k.length>=n.maximumSelectionSize&&v(n.formatSelectionTooBig,"formatSelectionTooBig"))){h("\x3cli class\x3d'select2-selection-limit'\x3e"+
n.formatSelectionTooBig(n.maximumSelectionSize)+"\x3c/li\x3e");return}l.val().length<n.minimumInputLength?v(n.formatInputTooShort,"formatInputTooShort")?h("\x3cli class\x3d'select2-no-results'\x3e"+n.formatInputTooShort(l.val(),n.minimumInputLength)+"\x3c/li\x3e"):h(""):(n.formatSearching()&&h("\x3cli class\x3d'select2-searching'\x3e"+n.formatSearching()+"\x3c/li\x3e"),k=this.tokenize(),k!=d&&null!=k&&l.val(k),this.resultsPage=1,n.query({term:l.val(),page:this.resultsPage,context:null,matcher:n.matcher,
callback:this.bind(function(k){var z;this.opened()&&(this.context=k.context===d?null:k.context,this.opts.createSearchChoice&&""!==l.val()&&(z=this.opts.createSearchChoice.call(null,l.val(),k.results),z!==d&&null!==z&&p.id(z)!==d&&null!==p.id(z)&&0===c(k.results).filter(function(){return f(p.id(this),p.id(z))}).length&&k.results.unshift(z)),0===k.results.length&&v(n.formatNoMatches,"formatNoMatches")?h("\x3cli class\x3d'select2-no-results'\x3e"+n.formatNoMatches(l.val())+"\x3c/li\x3e"):(e.empty(),
p.opts.populateResults.call(this,e,k.results,{term:l.val(),page:this.resultsPage,context:null}),!0===k.more&&v(n.formatLoadMore,"formatLoadMore")&&(e.append("\x3cli class\x3d'select2-more-results'\x3e"+p.opts.escapeMarkup(n.formatLoadMore(this.resultsPage))+"\x3c/li\x3e"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(k,a),b()))})}))}},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");
this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.opts.element.triggerHandler("blur")},focusSearch:function(){this.search.show();this.search.focus();window.setTimeout(this.bind(function(){this.search.show();this.search.focus();this.search.val(this.search.val())}),10)},selectHighlighted:function(){var a=this.highlight(),b=this.results.find(".select2-highlighted").not(".select2-disabled"),
c=b.closest(".select2-result-selectable").data("select2-data");c&&(b.addClass("select2-disabled"),this.highlight(a),this.onSelect(c))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var a=function(){var a,b,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+
"px";if("copy"===this.opts.width||"resolve"===this.opts.width){a=this.opts.element.attr("style");if(a!==d)for(a=a.split(";"),g=0,h=a.length;g<h;g+=1)if(b=a[g].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==b&&1<=b.length)return b[1];return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return c.isFunction(this.opts.width)?this.opts.width():
this.opts.width}.call(this);null!==a&&this.container.attr("style","width: "+a)}});q=z(ca,{createContainer:function(){return c("\x3cdiv\x3e\x3c/div\x3e",{"class":"select2-container"}).html("    \x3ca href\x3d'javascript:void(0)' onclick\x3d'return false;' class\x3d'select2-choice'\x3e   \x3cspan\x3e\x3c/span\x3e\x3cabbr class\x3d'select2-search-choice-close' style\x3d'display:none;'\x3e\x3c/abbr\x3e   \x3cdiv\x3e\x3cb\x3e\x3c/b\x3e\x3c/div\x3e\x3c/a\x3e    \x3cdiv class\x3d'select2-drop select2-offscreen'\x3e   \x3cdiv class\x3d'select2-search'\x3e       \x3cinput type\x3d'text' autocomplete\x3d'off' class\x3d'select2-input'/\x3e   \x3c/div\x3e   \x3cul class\x3d'select2-results'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},
initContainer:function(){var a,b=this.dropdown;this.selection=a=this.container.find(".select2-choice");this.search.bind("keydown",this.bind(function(a){if(this.enabled)if(a.which===p.PAGE_UP||a.which===p.PAGE_DOWN)k(a);else if(this.opened())switch(a.which){case p.UP:case p.DOWN:this.moveHighlight(a.which===p.UP?-1:1);k(a);break;case p.TAB:case p.ENTER:this.selectHighlighted();k(a);break;case p.ESC:this.cancel(a),k(a)}else a.which===p.TAB||p.isControl(a)||p.isFunctionKey(a)||a.which===p.ESC||!1===
this.opts.openOnEnter&&a.which===p.ENTER||this.open()}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")}));this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){var a=this.opts.element.attr("tabIndex");a?this.selection.attr("tabIndex",a):this.selection.removeAttr("tabIndex")}),10)}));a.delegate("abbr","mousedown",this.bind(function(a){this.enabled&&(this.clear(),
a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.triggerChange(),this.selection.focus())}));a.bind("mousedown",this.bind(function(a){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open()}));b.bind("mousedown",this.bind(function(){this.search.focus()}));a.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1")}));a.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");
window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));a.bind("keydown",this.bind(function(a){if(this.enabled)if(a.which==p.DOWN||a.which==p.UP||a.which==p.ENTER&&this.opts.openOnEnter)this.open(),k(a);else if(a.which==p.DELETE||a.which==p.BACKSPACE)this.opts.allowClear&&this.clear(),k(a)}));a.bind("keypress",this.bind(function(a){a=String.fromCharCode(a.which);this.search.val(a);this.open()}));this.setPlaceholder();this.search.bind("focus",
this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==d&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},prepareOpts:function(){var a=
this.parent.prepareOpts.apply(this,arguments);"select"===a.element.get(0).tagName.toLowerCase()&&(a.initSelection=function(a,b){var g=a.find(":selected");c.isFunction(b)&&b({id:g.attr("value"),text:g.text(),element:g})});return a},setPlaceholder:function(){var a=this.getPlaceholder();""!==this.opts.element.val()||a===d||this.select&&""!==this.select.find("option:first").text()||(this.selection.find("span").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},
postprocessResults:function(a,b){var d=0,h=this,l=!0;this.results.find(".select2-result-selectable").each2(function(a,b){if(f(h.id(b.data("select2-data")),h.opts.element.val()))return d=a,!1});this.highlight(d);!0===b&&(l=this.showSearchInput=X(a.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[l?"removeClass":"addClass"]("select2-search-hidden"),c(this.dropdown,this.container)[l?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(a){var b=this.opts.element.val();
this.opts.element.val(this.id(a));this.updateSelection(a);this.close();this.selection.focus();f(b,this.id(a))||this.triggerChange()},updateSelection:function(a){var b=this.selection.find("span");this.selection.data("select2-data",a);b.empty();a=this.opts.formatSelection(a,b);a!==d&&b.append(this.opts.escapeMarkup(a));this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==d&&this.selection.find("abbr").show()},val:function(){var a,b=null,c=this;if(0===arguments.length)return this.opts.element.val();
a=arguments[0];if(this.select)this.select.val(a).find(":selected").each2(function(a,g){b={id:g.attr("value"),text:g.text()};return!1}),this.updateSelection(b),this.setPlaceholder();else{if(this.opts.initSelection===d)throw Error("cannot call val() if initSelection() is not defined");a?(this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){c.opts.element.val(a?c.id(a):"");c.updateSelection(a);c.setPlaceholder()})):this.clear()}},clearSearch:function(){this.search.val("")},
data:function(a){var b;if(0===arguments.length)return b=this.selection.data("select2-data"),b==d&&(b=null),b;a&&""!==a?(this.opts.element.val(a?this.id(a):""),this.updateSelection(a)):this.clear()}});L=z(ca,{createContainer:function(){return c("\x3cdiv\x3e\x3c/div\x3e",{"class":"select2-container select2-container-multi"}).html("    \x3cul class\x3d'select2-choices'\x3e  \x3cli class\x3d'select2-search-field'\x3e    \x3cinput type\x3d'text' autocomplete\x3d'off' class\x3d'select2-input'\x3e  \x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'select2-drop select2-drop-multi' style\x3d'display:none;'\x3e   \x3cul class\x3d'select2-results'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments);"select"===a.element.get(0).tagName.toLowerCase()&&(a.initSelection=function(a,b){var g=[];a.find(":selected").each2(function(a,b){g.push({id:b.attr("value"),text:b.text(),element:b})});c.isFunction(b)&&b(g)});return a},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");this.search.bind("keydown",this.bind(function(b){if(this.enabled){if(b.which===
p.BACKSPACE&&""===this.search.val()){this.close();var c;c=a.find(".select2-search-choice-focus");if(0<c.length){this.unselect(c.first());this.search.width(10);k(b);return}c=a.find(".select2-search-choice:not(.select2-locked)");0<c.length&&c.last().addClass("select2-search-choice-focus")}else a.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(b.which){case p.UP:case p.DOWN:this.moveHighlight(b.which===p.UP?-1:1);k(b);return;case p.ENTER:case p.TAB:this.selectHighlighted();
k(b);return;case p.ESC:this.cancel(b);k(b);return}b.which===p.TAB||p.isControl(b)||p.isFunctionKey(b)||b.which===p.BACKSPACE||b.which===p.ESC||!1===this.opts.openOnEnter&&b.which===p.ENTER||(this.open(),b.which!==p.PAGE_UP&&b.which!==p.PAGE_DOWN||k(b))}}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(a){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.clearSearch();a.stopImmediatePropagation()}));
this.container.delegate(".select2-choices","mousedown",this.bind(function(a){!this.enabled||0<c(a.target).closest(".select2-search-choice").length||(this.clearPlaceholder(),this.open(),this.focusSearch(),a.preventDefault())}));this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,
arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==d&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=
this.getPlaceholder();a!==d&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch()},close:function(){this.opened()&&
this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var b=[],d=[],h=this;c(a).each(function(){0>e(h.id(this),b)&&(b.push(h.id(this)),d.push(this))});a=d;this.selection.find(".select2-search-choice").remove();c(a).each(function(){h.addSelectedChoice(this)});h.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer(a,this.data(),this.bind(this.onSelect),
this.opts);null!=a&&a!=d&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a){this.addSelectedChoice(a);!this.select&&this.opts.closeOnSelect||this.postprocessResults();this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close();this.triggerChange({added:a});this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var b=!a.locked,
h=c("\x3cli class\x3d'select2-search-choice'\x3e    \x3cdiv\x3e\x3c/div\x3e    \x3ca href\x3d'#' onclick\x3d'return false;' class\x3d'select2-search-choice-close' tabindex\x3d'-1'\x3e\x3c/a\x3e\x3c/li\x3e"),l=c("\x3cli class\x3d'select2-search-choice select2-locked'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/li\x3e"),h=b?h:l,l=this.id(a),e=this.getVal(),n;n=this.opts.formatSelection(a,h.find("div"));n!=d&&h.find("div").replaceWith("\x3cdiv\x3e"+this.opts.escapeMarkup(n)+"\x3c/div\x3e");b&&h.find(".select2-search-choice-close").bind("mousedown",
k).bind("click dblclick",this.bind(function(a){this.enabled&&(c(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(c(a.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),k(a))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));h.data("select2-data",a);h.insertBefore(this.searchContainer);
e.push(l);this.setVal(e)},unselect:function(a){var b=this.getVal(),c,d;a=a.closest(".select2-search-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";c=a.data("select2-data");d=e(this.id(c),b);0<=d&&(b.splice(d,1),this.setVal(b),this.select&&this.postprocessResults());a.remove();this.triggerChange({removed:c})},postprocessResults:function(){var a=this.getVal(),b=this.results.find(".select2-result-selectable"),c=this.results.find(".select2-result-with-children"),
d=this;b.each2(function(b,c){var h=d.id(c.data("select2-data"));0<=e(h,a)?c.addClass("select2-disabled").removeClass("select2-result-selectable"):c.removeClass("select2-disabled").addClass("select2-result-selectable")});c.each2(function(a,b){b.is(".select2-result-selectable")||0!=b.find(".select2-result-selectable").length?b.removeClass("select2-disabled"):b.addClass("select2-disabled")});-1==this.highlight()&&b.each2(function(a,b){if(!b.hasClass("select2-disabled")&&b.hasClass("select2-result-selectable"))return d.highlight(0),
!1})},resizeSearch:function(){var a,b,d,h,l;l=this.search;l=l.outerWidth(!1)-l.width();a=this.search;na||(d=a[0].currentStyle||window.getComputedStyle(a[0],null),na=c("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),c("body").append(na));na.text(a.val());a=na.width()+10;b=this.search.offset().left;
d=this.selection.width();h=this.selection.offset().left;b=d-(b-h)-l;b<a&&(b=d-l);40>b&&(b=d-l);this.search.width(b)},getVal:function(){var a;if(this.select)return a=this.select.val(),null===a?[]:a;a=this.opts.element.val();return r(a,this.opts.separator)},setVal:function(a){var b;this.select?this.select.val(a):(b=[],c(a).each(function(){0>e(this,b)&&b.push(this)}),this.opts.element.val(0===b.length?"":b.join(this.opts.separator)))},val:function(){var a,b=[],h=this;if(0===arguments.length)return this.getVal();
if(a=arguments[0])if(this.setVal(a),this.select)this.select.find(":selected").each(function(){b.push({id:c(this).attr("value"),text:c(this).text()})}),this.updateSelection(b);else{if(this.opts.initSelection===d)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(a){var b=c(a).map(h.id);h.setVal(b);h.updateSelection(a);h.clearSearch()})}else this.opts.element.val(""),this.updateSelection([]);this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to \x3cselect\x3e. Attach to \x3cinput type\x3d'hidden'/\x3e instead.");
this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(c(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a){var b=this,d;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return c(this).data("select2-data")}).get();
a||(a=[]);d=c.map(a,function(a){return b.opts.id(a)});this.setVal(d);this.updateSelection(a);this.clearSearch()}});c.fn.select2=function(){var a=Array.prototype.slice.call(arguments,0),b,h,l,n,f="val destroy opened open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");this.each(function(){if(0===a.length||"object"===typeof a[0])b=0===a.length?{}:c.extend({},a[0]),b.element=c(this),"select"===b.element.get(0).tagName.toLowerCase()?n=b.element.attr("multiple"):
(n=b.multiple||!1,"tags"in b&&(b.multiple=n=!0)),h=n?new L:new q,h.init(b);else if("string"===typeof a[0]){if(0>e(a[0],f))throw"Unknown method: "+a[0];l=d;h=c(this).data("select2");if(h!==d&&(l="container"===a[0]?h.container:h[a[0]].apply(h,a.slice(1)),l!==d))return!1}else throw"Invalid arguments to select2 plugin: "+a;});return l===d?this:l};c.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,
b,c){b=[];t(a.text,c.term,b);return b.join("")},formatSelection:function(a,b){return a?a.text:d},formatResultCssClass:function(a){return d},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,
minimumInputLength:0,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=b.toUpperCase().indexOf(a.toUpperCase())},separator:",",tokenSeparators:[],tokenizer:K,escapeMarkup:function(a){return a&&"string"===typeof a?a.replace(/&/g,"\x26amp;"):a},blurOnChange:!1};window.Select2={query:{ajax:l,local:n,tags:h},util:{debounce:a,markMatch:t},"class":{"abstract":ca,single:q,multi:L}}}});
(function(c,d){function e(a){return k.PF.compile(a||"nplurals\x3d2; plural\x3d(n !\x3d 1);")}function f(a,b){this._key=a;this._i18n=b}var r=Array.prototype,u=r.slice,b=Object.prototype.hasOwnProperty,a=r.forEach,w={},y={forEach:function(c,d,h){var e,f;if(null!==c)if(a&&c.forEach===a)c.forEach(d,h);else if(c.length===+c.length)for(e=0,f=c.length;e<f&&!(e in c&&d.call(h,c[e],e,c)===w);e++);else for(e in c)if(b.call(c,e)&&d.call(h,c[e],e,c)===w)break},extend:function(a){this.forEach(u.call(arguments,
1),function(b){for(var c in b)a[c]=b[c]});return a}},k=function(a){this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals\x3d2; plural\x3d(n !\x3d 1);"}}},domain:"messages"};this.options=y.extend({},this.defaults,a);this.textdomain(this.options.domain);if(a.domain&&!this.options.locale_data[this.options.domain])throw Error("Text domain set to non-existent domain: `"+a.domain+"`");};k.context_delimiter=String.fromCharCode(4);y.extend(f.prototype,{onDomain:function(a){this._domain=
a;return this},withContext:function(a){this._context=a;return this},ifPlural:function(a,b){this._val=a;this._pkey=b;return this},fetch:function(a){"[object Array]"!={}.toString.call(a)&&(a=[].slice.call(arguments));return(a&&a.length?k.sprintf:function(a){return a})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),a)}});y.extend(k.prototype,{translate:function(a){return new f(a,this)},textdomain:function(a){if(!a)return this._textdomain;this._textdomain=a},gettext:function(a){return this.dcnpgettext.call(this,
d,d,a)},dgettext:function(a,b){return this.dcnpgettext.call(this,a,d,b)},dcgettext:function(a,b){return this.dcnpgettext.call(this,a,d,b)},ngettext:function(a,b,c){return this.dcnpgettext.call(this,d,d,a,b,c)},dngettext:function(a,b,c,e){return this.dcnpgettext.call(this,a,d,b,c,e)},dcngettext:function(a,b,c,e){return this.dcnpgettext.call(this,a,d,b,c,e)},pgettext:function(a,b){return this.dcnpgettext.call(this,d,a,b)},dpgettext:function(a,b,c){return this.dcnpgettext.call(this,a,b,c)},dcpgettext:function(a,
b,c){return this.dcnpgettext.call(this,a,b,c)},npgettext:function(a,b,c,e){return this.dcnpgettext.call(this,d,a,b,c,e)},dnpgettext:function(a,b,c,d,e){return this.dcnpgettext.call(this,a,b,c,d,e)},dcnpgettext:function(a,b,c,d,f){d=d||c;a=a||this._textdomain;f="undefined"==typeof f?1:f;if(!this.options)return a=new k,a.dcnpgettext.call(a,void 0,void 0,c,d,f);if(!this.options.locale_data)throw Error("No locale data provided.");if(!this.options.locale_data[a])throw Error("Domain `"+a+"` was not found.");
if(!this.options.locale_data[a][""])throw Error("No locale meta information provided.");if(!c)throw Error("No translation key found.");if("number"!=typeof f&&(f=parseInt(f,10),isNaN(f)))throw Error("The number that was passed in is not a number.");b=b?b+k.context_delimiter+c:c;var w=this.options.locale_data,K=w[a],w=K[""].plural_forms||(w.messages||this.defaults.locale_data.messages)[""].plural_forms,z=e(w)(f)+1;if(!K)throw Error("No domain named `"+a+"` could be found.");a=K[b];if(!a||z>=a.length)return this.options.missing_key_callback&&
this.options.missing_key_callback(b),a=[null,c,d],a[e(w)(f)+1];a=a[z];return a?a:(a=[null,c,d],a[e(w)(f)+1])}});var t=function(){function a(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var b=function(){b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=b.parse(arguments[0]));return b.format.call(null,b.cache[arguments[0]],arguments)};b.format=function(b,c){var d=1,e=b.length,f="",k=[],n,w,q,r;for(n=0;n<e;n++)if(f=a(b[n]),"string"===f)k.push(b[n]);else if("array"===
f){q=b[n];if(q[2])for(f=c[d],w=0;w<q[2].length;w++){if(!f.hasOwnProperty(q[2][w]))throw t('[sprintf] property "%s" does not exist',q[2][w]);f=f[q[2][w]]}else f=q[1]?c[q[1]]:c[d++];if(/[^s]/.test(q[8])&&"number"!=a(f))throw t("[sprintf] expecting number but found %s",a(f));if("undefined"==typeof f||null===f)f="";switch(q[8]){case "b":f=f.toString(2);break;case "c":f=String.fromCharCode(f);break;case "d":f=parseInt(f,10);break;case "e":f=q[7]?f.toExponential(q[7]):f.toExponential();break;case "f":f=
q[7]?parseFloat(f).toFixed(q[7]):parseFloat(f);break;case "o":f=f.toString(8);break;case "s":f=(f=String(f))&&q[7]?f.substring(0,q[7]):f;break;case "u":f=Math.abs(f);break;case "x":f=f.toString(16);break;case "X":f=f.toString(16).toUpperCase()}f=/[def]/.test(q[8])&&q[3]&&0<=f?"+"+f:f;w=q[4]?"0"==q[4]?"0":q[4].charAt(1):" ";r=q[6]-String(f).length;if(q[6]){for(var y=[];0<r;y[--r]=w);w=y.join("")}else w="";k.push(q[5]?f+w:w+f)}return k.join("")};b.cache={};b.parse=function(a){for(var b=[],c=[],d=0;a;){if(null!==
(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){var d=d|1,f=[],e=b[2],k=[];if(null!==(k=/^([a-z_][a-z_\d]*)/i.exec(e)))for(f.push(k[1]);""!==(e=e.substring(k[0].length));)if(null!==(k=/^\.([a-z_][a-z_\d]*)/i.exec(e)))f.push(k[1]);else if(null!==(k=/^\[(\d+)\]/.exec(e)))f.push(k[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=
f}else d|=2;if(3===d)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return c};return b}();k.parse_plural=function(a,b){a=a.replace(/n/g,b);return k.parse_expression(a)};k.sprintf=function(a,b){if("[object Array]"=={}.toString.call(b)){var c=[].slice.call(b);c.unshift(a);return t.apply(null,c)}return t.apply(this,[].slice.call(arguments))};k.prototype.sprintf=function(){return k.sprintf.apply(this,arguments)};
k.PF={};k.PF.parse=function(a){a=k.PF.extractPluralExpr(a);return k.PF.parser.parse.call(k.PF.parser,a)};k.PF.compile=function(a){var b=k.PF.parse(a);return function(a){a=k.PF.interpreter(b)(a);return!0===a?1:a?a:0}};k.PF.interpreter=function(a){return function(b){switch(a.type){case "GROUP":return k.PF.interpreter(a.expr)(b);case "TERNARY":return k.PF.interpreter(a.expr)(b)?k.PF.interpreter(a.truthy)(b):k.PF.interpreter(a.falsey)(b);case "OR":return k.PF.interpreter(a.left)(b)||k.PF.interpreter(a.right)(b);
case "AND":return k.PF.interpreter(a.left)(b)&&k.PF.interpreter(a.right)(b);case "LT":return k.PF.interpreter(a.left)(b)<k.PF.interpreter(a.right)(b);case "GT":return k.PF.interpreter(a.left)(b)>k.PF.interpreter(a.right)(b);case "LTE":return k.PF.interpreter(a.left)(b)<=k.PF.interpreter(a.right)(b);case "GTE":return k.PF.interpreter(a.left)(b)>=k.PF.interpreter(a.right)(b);case "EQ":return k.PF.interpreter(a.left)(b)==k.PF.interpreter(a.right)(b);case "NEQ":return k.PF.interpreter(a.left)(b)!=k.PF.interpreter(a.right)(b);
case "MOD":return k.PF.interpreter(a.left)(b)%k.PF.interpreter(a.right)(b);case "VAR":return b;case "NUM":return a.val;default:throw Error("Invalid Token found.");}}};k.PF.extractPluralExpr=function(a){a=a.replace(/^\s\s*/,"").replace(/\s\s*$/,"");/;\s*$/.test(a)||(a=a.concat(";"));var b=/nplurals\=(\d+);/;if(!(1<a.match(b).length))throw Error("nplurals not found in plural_forms string: "+a);a=a.replace(b,"");b=a.match(/plural\=(.*);/);if(!(b&&1<b.length))throw Error("`plural` expression not found: "+
a);return b[1]};k.PF.parser=function(){var a={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"\x26\x26":9,"\x3c":10,"\x3c\x3d":11,"\x3e":12,"\x3e\x3d":13,"!\x3d":14,"\x3d\x3d":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"\x26\x26",10:"\x3c",11:"\x3c\x3d",12:"\x3e",13:"\x3e\x3d",14:"!\x3d",15:"\x3d\x3d",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,
3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(a,b,c,d,f,e,k){b=e.length-1;switch(f){case 1:return{type:"GROUP",expr:e[b-1]};case 2:this.$={type:"TERNARY",expr:e[b-4],truthy:e[b-2],falsey:e[b]};break;case 3:this.$={type:"OR",left:e[b-2],right:e[b]};break;case 4:this.$={type:"AND",left:e[b-2],right:e[b]};break;case 5:this.$={type:"LT",left:e[b-2],right:e[b]};break;case 6:this.$={type:"LTE",left:e[b-2],right:e[b]};break;case 7:this.$={type:"GT",left:e[b-2],right:e[b]};break;case 8:this.$=
{type:"GTE",left:e[b-2],right:e[b]};break;case 9:this.$={type:"NEQ",left:e[b-2],right:e[b]};break;case 10:this.$={type:"EQ",left:e[b-2],right:e[b]};break;case 11:this.$={type:"MOD",left:e[b-2],right:e[b]};break;case 12:this.$={type:"GROUP",expr:e[b-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(a)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,
3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,
3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,
10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,
8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,
12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(a,b){throw Error(a);},parse:function(a){function b(){var a;a=c.lexer.lex()||1;"number"!==typeof a&&(a=c.symbols_[a]||a);return a}var c=this,d=[0],e=[null],f=[],k=this.table,n="",w=0,l=0,r=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;"undefined"==typeof this.lexer.yylloc&&
(this.lexer.yylloc={});a=this.lexer.yylloc;f.push(a);"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var y,u,t,g,N={},I,ba;;){t=d[d.length-1];this.defaultActions[t]?g=this.defaultActions[t]:(null==y&&(y=b()),g=k[t]&&k[t][y]);if("undefined"===typeof g||!g.length||!g[0]){if(!r){u=[];for(I in k[t])this.terminals_[I]&&2<I&&u.push("'"+this.terminals_[I]+"'");var E="",E=this.lexer.showPosition?"Parse error on line "+(w+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+u.join(", ")+
", got '"+this.terminals_[y]+"'":"Parse error on line "+(w+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'");this.parseError(E,{text:this.lexer.match,token:this.terminals_[y]||y,line:this.lexer.yylineno,loc:a,expected:u})}if(3==r){if(1==y)throw Error(E||"Parsing halted.");l=this.lexer.yyleng;n=this.lexer.yytext;w=this.lexer.yylineno;a=this.lexer.yylloc;y=b()}for(;!((2).toString()in k[t]);){if(0==t)throw Error(E||"Parsing halted.");d.length-=2;--e.length;--f.length;t=d[d.length-
1]}u=y;y=2;t=d[d.length-1];g=k[t]&&k[t][2];r=3}if(g[0]instanceof Array&&1<g.length)throw Error("Parse Error: multiple actions possible at state: "+t+", token: "+y);switch(g[0]){case 1:d.push(y);e.push(this.lexer.yytext);f.push(this.lexer.yylloc);d.push(g[1]);y=null;u?(y=u,u=null):(l=this.lexer.yyleng,n=this.lexer.yytext,w=this.lexer.yylineno,a=this.lexer.yylloc,0<r&&r--);break;case 2:ba=this.productions_[g[1]][1];N.$=e[e.length-ba];N._$={first_line:f[f.length-(ba||1)].first_line,last_line:f[f.length-
1].last_line,first_column:f[f.length-(ba||1)].first_column,last_column:f[f.length-1].last_column};t=this.performAction.call(N,n,l,w,this.yy,g[1],e,f);if("undefined"!==typeof t)return t;ba&&(d=d.slice(0,-2*ba),e=e.slice(0,-1*ba),f=f.slice(0,-1*ba));d.push(this.productions_[g[1]][0]);e.push(N.$);f.push(N._$);g=k[d[d.length-2]][d[d.length-1]];d.push(g);break;case 3:return!0}}}},b=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parseError)this.yy.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=
a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.match+=a;this.matched+=a;a.match(/\n/)&&this.yylineno++;this._input=this._input.slice(1);return a},unput:function(a){this._input=a+this._input;return this},more:function(){this._more=!0;return this},pastInput:function(){var a=
this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b;this._more||(this.match=
this.yytext="");for(var c=this._currentRules(),d=0;d<c.length;d++)if(a=this._input.match(this.rules[c[d]])){if(b=a[0].match(/\n.*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-1:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];if(a=
this.performAction.call(this,this.yy,this,c[d],this.conditionStack[this.conditionStack.length-1]))return a;return}if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},performAction:function(a,b,c,d){switch(c){case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},rules:[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,
/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}}}();a.lexer=b;return a}();"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=k),exports.Jed=k):("function"===typeof define&&define.amd&&define("jed",[],function(){return k}),c.Jed=k)})(this);define("app/i18n",["jed","lang"],function(c,d){return new Jed(d)});
requirejs.config({baseUrl:"../static/js/lib",paths:{app:"../app",jquery:"//code.jquery.com/jquery-1.10.1.min",jqueryui:"//code.jquery.com/ui/1.10.3/jquery-ui.min"}});
require(["jquery","jqueryui","select2","app/i18n"],function(c,d,e,f){c(function(){c.extend(c.fn.select2.defaults,{formatNoMatches:function(){return f.gettext("No matches found")},formatInputTooShort:function(c,d){var b=d-c.length;return f.sprintf(f.ngettext("Please enter %1$d more character","Please enter %1$d more characters",b),b)},formatInputTooLong:function(c,d){var b=c.length-d;return f.sprintf(f.ngettext("Please delete %1$d character","Please delete %1$d characters",b),b)},formatSelectionTooBig:function(c){return f.sprintf(f.ngettext("You can only select %1$d item",
"You can only select %1$d items",c),c)},formatLoadMore:function(c){return f.gettext("Loading more results...")},formatSearching:function(){return f.gettext("Searching...")}});c("#menu").menu();c("#left").show()})});define("../common",function(){});
(function(c,d){"function"===typeof define&&define.amd?define("slick.core",d):c.Slick=d()})(this,function(){function c(){var b=!1,a=!1;this.stopPropagation=function(){b=!0};this.isPropagationStopped=function(){return b};this.stopImmediatePropagation=function(){a=!0};this.isImmediatePropagationStopped=function(){return a}}function d(){this.__nonDataRow=!0}function e(){this.__group=!0;this.__updated=!1;this.count=0;this.title=this.value=null;this.collapsed=!1;this.totals=null}function f(){this.__groupTotals=
!0;this.group=null}function r(){var b=null;this.isActive=function(a){return a?b===a:null!==b};this.activate=function(a){if(a!==b){if(null!==b)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!a.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!a.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";b=a}};this.deactivate=
function(a){if(b!==a)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";b=null};this.commitCurrentEdit=function(){return b?b.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return b?b.cancelCurrentEdit():!0}}var u={Event:function(){var b=[];this.subscribe=function(a){b.push(a)};this.unsubscribe=function(a){for(var c=b.length-1;0<=c;c--)b[c]===a&&b.splice(c,1)};this.notify=function(a,d,e){d=d||new c;e=e||this;for(var f,r=0;r<b.length&&!d.isPropagationStopped()&&
!d.isImmediatePropagationStopped();r++)f=b[r].call(e,d,a);return f}},EventData:c,EventHandler:function(){var b=[];this.subscribe=function(a,c){b.push({event:a,handler:c});a.subscribe(c);return this};this.unsubscribe=function(a,c){for(var d=b.length;d--;)if(b[d].event===a&&b[d].handler===c){b.splice(d,1);a.unsubscribe(c);return}return this};this.unsubscribeAll=function(){for(var a=b.length;a--;)b[a].event.unsubscribe(b[a].handler);b=[];return this}},Range:function(b,a,c,d){void 0===c&&void 0===d&&
(c=b,d=a);this.fromRow=Math.min(b,c);this.fromCell=Math.min(a,d);this.toRow=Math.max(b,c);this.toCell=Math.max(a,d);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(a,b){return a>=this.fromRow&&a<=this.toRow&&b>=this.fromCell&&b<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+
":"+this.toCell+")"}},NonDataRow:d,Group:e,GroupTotals:f,EditorLock:r,GlobalEditorLock:new r};e.prototype=new d;e.prototype.equals=function(b){return this.value===b.value&&this.count===b.count&&this.collapsed===b.collapsed};f.prototype=new d;return u});
(function(c){"function"===typeof define&&define.amd?define("jquery.event/drag",["jquery"],c):c(jQuery)})(function(c){c.fn.drag=function(b,a,d){var e="string"==typeof b?b:"",f=c.isFunction(b)?b:c.isFunction(a)?a:null;0!==e.indexOf("drag")&&(e="drag"+e);d=(b==f?a:d)||{};return f?this.bind(e,d,f):this.trigger(e)};var d=c.event,e=d.special,f=e.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(b){var a=c.data(this,f.datakey),
d=b.data||{};a.related+=1;c.each(f.defaults,function(b,c){void 0!==d[b]&&(a[b]=d[b])})},remove:function(){--c.data(this,f.datakey).related},setup:function(){if(!c.data(this,f.datakey)){var b=c.extend({related:0},f.defaults);c.data(this,f.datakey,b);d.add(this,"touchstart mousedown",f.init,b);this.attachEvent&&this.attachEvent("ondragstart",f.dontstart)}},teardown:function(){(c.data(this,f.datakey)||{}).related||(c.removeData(this,f.datakey),d.remove(this,"touchstart mousedown",f.init),f.textselect(!0),
this.detachEvent&&this.detachEvent("ondragstart",f.dontstart))},init:function(b){if(!f.touched){var a=b.data,r;if(!(0!=b.which&&0<a.which&&b.which!=a.which||c(b.target).is(a.not)||a.handle&&!c(b.target).closest(a.handle,b.currentTarget).length)&&(f.touched="touchstart"==b.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[f.interaction(this,a)],a.target=b.target,a.pageX=b.pageX,a.pageY=b.pageY,a.dragging=null,r=f.hijack(b,"draginit",a),a.propagates&&((r=f.flatten(r))&&r.length&&(a.interactions=
[],c.each(r,function(){a.interactions.push(f.interaction(this,a))})),a.propagates=a.interactions.length,!1!==a.drop&&e.drop&&e.drop.handler(b,a),f.textselect(!1),f.touched?d.add(f.touched,"touchmove touchend",f.handler,a):d.add(document,"mousemove mouseup",f.handler,a),!f.touched||a.live)))return!1}},interaction:function(b,a){var d=c(b)[a.relative?"position":"offset"]()||{top:0,left:0};return{drag:b,callback:new f.callback,droppable:[],offset:d}},handler:function(b){var a=b.data;switch(b.type){case !a.dragging&&
"touchmove":b.preventDefault();case !a.dragging&&"mousemove":if(Math.pow(b.pageX-a.pageX,2)+Math.pow(b.pageY-a.pageY,2)<Math.pow(a.distance,2))break;b.target=a.target;f.hijack(b,"dragstart",a);a.propagates&&(a.dragging=!0);case "touchmove":b.preventDefault();case "mousemove":if(a.dragging){f.hijack(b,"drag",a);if(a.propagates){!1!==a.drop&&e.drop&&e.drop.handler(b,a);break}b.type="mouseup"}default:f.touched?d.remove(f.touched,"touchmove touchend",f.handler):d.remove(document,"mousemove mouseup",f.handler),
a.dragging&&(!1!==a.drop&&e.drop&&e.drop.handler(b,a),f.hijack(b,"dragend",a)),f.textselect(!0),!1===a.click&&a.dragging&&c.data(a.mousedown,"suppress.click",(new Date).getTime()+5),a.dragging=f.touched=!1}},hijack:function(b,a,e,r,k){if(e){var u=b.originalEvent,l=b.type,n=a.indexOf("drop")?"drag":"drop",h,v=r||0,B,X;r=isNaN(r)?e.interactions.length:r;b.type=a;b.originalEvent=null;e.results=[];do!(B=e.interactions[v])||"dragend"!==a&&B.cancelled||(X=f.properties(b,e,B),B.results=[],c(k||B[n]||e.droppable).each(function(k,
l){X.target=l;b.isPropagationStopped=function(){return!1};h=l?d.dispatch.call(l,b,X):null;!1===h?("drag"==n&&(B.cancelled=!0,--e.propagates),"drop"==a&&(B[n][k]=null)):"dropinit"==a&&B.droppable.push(f.element(h)||l);"dragstart"==a&&(B.proxy=c(f.element(h)||B.drag)[0]);B.results.push(h);delete b.result;if("dropinit"!==a)return h}),e.results[v]=f.flatten(B.results),"dropinit"==a&&(B.droppable=f.flatten(B.droppable)),"dragstart"!=a||B.cancelled||X.update());while(++v<r);b.type=l;b.originalEvent=u;return f.flatten(e.results)}},
properties:function(b,a,c){var d=c.callback;d.drag=c.drag;d.proxy=c.proxy||c.drag;d.startX=a.pageX;d.startY=a.pageY;d.deltaX=b.pageX-a.pageX;d.deltaY=b.pageY-a.pageY;d.originalX=c.offset.left;d.originalY=c.offset.top;d.offsetX=d.originalX+d.deltaX;d.offsetY=d.originalY+d.deltaY;d.drop=f.flatten((c.drop||[]).slice());d.available=f.flatten((c.droppable||[]).slice());return d},element:function(b){if(b&&(b.jquery||1==b.nodeType))return b},flatten:function(b){return c.map(b,function(a){return a&&a.jquery?
c.makeArray(a):a&&a.length?f.flatten(a):a})},textselect:function(b){c(document)[b?"unbind":"bind"]("selectstart",f.dontstart).css("MozUserSelect",b?"":"none");document.unselectable=b?"off":"on"},dontstart:function(){return!1},callback:function(){}};f.callback.prototype={update:function(){e.drop&&this.available.length&&c.each(this.available,function(b){e.drop.locate(this,b)})}};var r=d.dispatch;d.dispatch=function(b){if(0<c.data(this,"suppress."+b.type)-(new Date).getTime())c.removeData(this,"suppress."+
b.type);else return r.apply(this,arguments)};var u=d.fixHooks.touchstart=d.fixHooks.touchmove=d.fixHooks.touchend=d.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(b,a){if(a){var d=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0]||null;d&&c.each(u.props,function(a,c){b[c]=d[c]})}return b}};e.draginit=e.dragstart=e.dragend=f});
(function(c,d){"function"===typeof define&&define.amd?define("slick.grid",["jquery","./slick.core","jquery.event/drag"],d):c.Slick.Grid=d(c.jQuery,c.Slick)})(this,function(c,d){if("undefined"===typeof c)throw"SlickGrid requires jquery module to be loaded";if(!c.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof d)throw"slick.core.js not loaded";var e,f;return function(r,u,b,a){function w(){ha||(ha=!0,U=parseFloat(c.css(J[0],"width",!0)),p(),n(O),a.enableTextSelectionOnCells||
Q.bind("selectstart.ui",function(a){return c(a.target).is("input,textarea")}),I(),v(),B(),ca(),oa(),h(),J.bind("resize.slickgrid",oa),Q.bind("scroll",Qa),Ca.bind("contextmenu",nc).bind("click",oc).delegate(".slick-header-column","mouseenter",pc).delegate(".slick-header-column","mouseleave",qc),ia.bind("scroll",rc),Za.add(mb).bind("keydown",Jb),Y.bind("keydown",Jb).bind("click",sc).bind("dblclick",tc).bind("contextmenu",uc).bind("draginit",vc).bind("dragstart",{distance:3},wc).bind("drag",xc).bind("dragend",
yc).delegate(".slick-cell","mouseenter",zc).delegate(".slick-cell","mouseleave",Ac))}function y(a){for(var b=qa.length;0<=b;b--)if(qa[b]===a){qa[b].destroy&&qa[b].destroy();qa.splice(b,1);break}}function k(){for(var a=0,m=0,c=b.length;m<c;m++)a+=b[m].width;a+=e.width;return Math.max(a,U)+1E3}function t(){for(var x=Da?U-e.width:U,m=0,c=b.length;c--;)m+=b[c].width;return a.fullWidthRows?Math.max(m,x):m}function l(a){var b=ja;ja=t();ja!=b&&(Y.width(ja),va.width(ja),O.width(k()),nb=ja>U-e.width);Kb.width(ja+
(Da?e.width:0));(ja!=b||a)&&ga()}function n(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function h(){for(var a=Y[0];(a=a.parentNode)!=document.body&&null!=a;)if(a==Q[0]||a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight){var b=c(a);Ea=Ea?Ea.add(b):b;b.bind("scroll."+V,Lb)}}function v(){function x(){c(this).addClass("ui-state-hover")}function m(){c(this).removeClass("ui-state-hover")}O.find(".slick-header-column").each(function(){var a=
c(this).data("column");a&&q(A.onBeforeHeaderCellDestroy,{node:this,column:a})});O.empty();O.width(k());va.find(".slick-headerrow-column").each(function(){var a=c(this).data("column");a&&q(A.onBeforeHeaderRowCellDestroy,{node:this,column:a})});va.empty();for(var d=0;d<b.length;d++){var e=b[d],f=c("\x3cdiv class\x3d'ui-state-default slick-header-column' /\x3e").html("\x3cspan class\x3d'slick-column-name'\x3e"+e.name+"\x3c/span\x3e").width(e.width-wa).attr("id",""+V+e.id).attr("title",e.toolTip||"").data("column",
e).addClass(e.headerCssClass||"").appendTo(O);if(a.enableColumnReorder||e.sortable)f.on("mouseenter",x).on("mouseleave",m);e.sortable&&(f.addClass("slick-header-sortable"),f.append("\x3cspan class\x3d'slick-sort-indicator' /\x3e"));q(A.onHeaderCellRendered,{node:f[0],column:e});a.showHeaderRow&&(f=c("\x3cdiv class\x3d'ui-state-default slick-headerrow-column l"+d+" r"+d+"'\x3e\x3c/div\x3e").data("column",e).appendTo(va),q(A.onHeaderRowCellRendered,{node:f[0],column:e}))}g(S);K();a.enableColumnReorder&&
X()}function B(){O.click(function(x){x.metaKey=x.metaKey||x.ctrlKey;if(!c(x.target).hasClass("slick-resizable-handle")){var m=c(x.target).closest(".slick-header-column");if(m.length&&(m=m.data("column"),m.sortable&&L().commitCurrentEdit())){for(var d=null,e=0;e<S.length;e++)if(S[e].columnId==m.id){d=S[e];d.sortAsc=!d.sortAsc;break}x.metaKey&&a.multiColumnSort?d&&S.splice(e,1):((x.shiftKey||x.metaKey)&&a.multiColumnSort||(S=[]),d?0==S.length&&S.push(d):(d={columnId:m.id,sortAsc:m.defaultSortAsc},S.push(d)));
g(S);a.multiColumnSort?q(A.onSort,{multiColumnSort:!0,sortCols:c.map(S,function(a){return{sortCol:b[Z[a.columnId]],sortAsc:a.sortAsc}})},x):q(A.onSort,{multiColumnSort:!1,sortCol:m,sortAsc:d.sortAsc},x)}}})}function X(){O.filter(":ui-sortable").sortable("destroy");O.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(a,b){c(b.helper).addClass("slick-header-column-active")},
beforeStop:function(a,b){c(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(L().commitCurrentEdit()){for(var m=O.sortable("toArray"),d=[],e=0;e<m.length;e++)d.push(b[Pa(m[e].replace(V,""))]);ba(d);q(A.onColumnsReordered,{});a.stopPropagation();K()}else c(this).sortable("cancel")}})}function K(){var x,m,d,e,f,g,h,k;e=O.children();e.find(".slick-resizable-handle").remove();e.each(function(a,x){b[a].resizable&&(void 0===h&&(h=a),k=a)});void 0!==h&&e.each(function(n,p){n<h||a.forceFitColumns&&
n>=k||(c(p),c("\x3cdiv class\x3d'slick-resizable-handle' /\x3e").appendTo(p).bind("dragstart",function(h,k){if(!L().commitCurrentEdit())return!1;d=h.pageX;c(this).parent().addClass("slick-header-column-active");var l=null,p=null;e.each(function(a,x){b[a].previousWidth=c(x).outerWidth()});if(a.forceFitColumns)for(p=l=0,x=n+1;x<e.length;x++)m=b[x],m.resizable&&(null!==p&&(p=m.maxWidth?p+(m.maxWidth-m.previousWidth):null),l+=m.previousWidth-Math.max(m.minWidth||0,ra));var r=0,q=0;for(x=0;x<=n;x++)m=
b[x],m.resizable&&(null!==q&&(q=m.maxWidth?q+(m.maxWidth-m.previousWidth):null),r+=m.previousWidth-Math.max(m.minWidth||0,ra));null===l&&(l=1E5);null===r&&(r=1E5);null===p&&(p=1E5);null===q&&(q=1E5);g=d+Math.min(l,q);f=d-Math.min(r,p)}).bind("drag",function(c,h){var k,l=Math.min(g,Math.max(f,c.pageX))-d,p;if(0>l){p=l;for(x=n;0<=x;x--)m=b[x],m.resizable&&(k=Math.max(m.minWidth||0,ra),p&&m.previousWidth+p<k?(p+=m.previousWidth-k,m.width=k):(m.width=m.previousWidth+p,p=0));if(a.forceFitColumns)for(p=
-l,x=n+1;x<e.length;x++)m=b[x],m.resizable&&(p&&m.maxWidth&&m.maxWidth-m.previousWidth<p?(p-=m.maxWidth-m.previousWidth,m.width=m.maxWidth):(m.width=m.previousWidth+p,p=0))}else{p=l;for(x=n;0<=x;x--)m=b[x],m.resizable&&(p&&m.maxWidth&&m.maxWidth-m.previousWidth<p?(p-=m.maxWidth-m.previousWidth,m.width=m.maxWidth):(m.width=m.previousWidth+p,p=0));if(a.forceFitColumns)for(p=-l,x=n+1;x<e.length;x++)m=b[x],m.resizable&&(k=Math.max(m.minWidth||0,ra),p&&m.previousWidth+p<k?(p+=m.previousWidth-k,m.width=
k):(m.width=m.previousWidth+p,p=0))}Oa();a.syncColumnCellResize&&ga()}).bind("dragend",function(a,d){var f;c(this).parent().removeClass("slick-header-column-active");for(x=0;x<e.length;x++)m=b[x],f=c(e[x]).outerWidth(),m.previousWidth!==f&&m.rerenderOnResize&&ua();l(!0);W();q(A.onColumnsResized,{})}))})}function z(a){var b=0;c.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,d){b+=parseFloat(a.css(d))||0});return b}function p(){var a,b=["borderLeftWidth","borderRightWidth",
"paddingLeft","paddingRight"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=c("\x3cdiv class\x3d'ui-state-default slick-header-column' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(O);wa=ob=0;c.each(b,function(b,m){wa+=parseFloat(a.css(m))||0});c.each(d,function(b,m){ob+=parseFloat(a.css(m))||0});a.remove();var e=c("\x3cdiv class\x3d'slick-row' /\x3e").appendTo(Y);a=c("\x3cdiv class\x3d'slick-cell' id\x3d'' style\x3d'visibility:hidden'\x3e-\x3c/div\x3e").appendTo(e);
$a=ab=0;c.each(b,function(b,m){$a+=parseFloat(a.css(m))||0});c.each(d,function(b,m){ab+=parseFloat(a.css(m))||0});e.remove();ra=Math.max(wa,$a)}function ca(){xa=c("\x3cstyle type\x3d'text/css' rel\x3d'stylesheet' /\x3e").appendTo(c("head"));for(var x=["."+V+" .slick-header-column { left: 1000px; }","."+V+" .slick-top-panel { height:"+a.topPanelHeight+"px; }","."+V+" .slick-headerrow-columns { height:"+a.headerRowHeight+"px; }","."+V+" .slick-cell { height:"+(a.rowHeight-ab)+"px; }","."+V+" .slick-row { height:"+
a.rowHeight+"px; }"],m=0;m<b.length;m++)x.push("."+V+" .l"+m+" { }"),x.push("."+V+" .r"+m+" { }");xa[0].styleSheet?xa[0].styleSheet.cssText=x.join(" "):xa[0].appendChild(document.createTextNode(x.join(" ")))}function q(a,b,c){c=c||new d.EventData;b=b||{};b.grid=A;return a.notify(b,c,A)}function L(){return a.editorLock}function Pa(a){return Z[a]}function na(){var a,m,c=[],d=0,f=0,g,h=Da?U-e.width:U;for(a=0;a<b.length;a++)m=b[a],c.push(m.width),f+=m.width,m.resizable&&(d+=m.width-Math.max(m.minWidth,
ra));for(g=f;f>h&&d;){var k=(f-h)/d;for(a=0;a<b.length&&f>h;a++){m=b[a];var p=c[a];if(!(!m.resizable||p<=m.minWidth||p<=ra)){m=Math.max(m.minWidth,ra);var n=Math.floor(k*(p-m))||1,n=Math.min(n,p-m),f=f-n,d=d-n;c[a]-=n}}if(g==f)break;g=f}for(g=f;f<h;){d=h/f;for(a=0;a<b.length&&f<h;a++)m=b[a],!m.resizable||m.maxWidth<=m.width||(k=Math.min(Math.floor(d*m.width)-m.width,m.maxWidth-m.width||1E6)||1,f+=k,c[a]+=k);if(g==f)break;g=f}f=!1;for(a=0;a<b.length;a++)b[a].rerenderOnResize&&b[a].width!=c[a]&&(f=
!0),b[a].width=c[a];Oa();l(!0);f&&(ua(),W())}function Oa(){if(ha){for(var a,m=0,d=O.children(),e=d.length;m<e;m++)a=c(d[m]),a.width()!==b[m].width-wa&&a.width(b[m].width-wa);I()}}function ga(){for(var a,m,c=0,d,e=0;e<b.length;e++){d=b[e].width;m=e;if(!ya){var f=document.styleSheets;for(a=0;a<f.length;a++)if((f[a].ownerNode||f[a].owningElement)==xa[0]){ya=f[a];break}if(!ya)throw Error("Cannot find stylesheet.");pb=[];qb=[];var f=ya.cssRules||ya.rules,g=void 0,g=void 0;for(a=0;a<f.length;a++){var h=
f[a].selectorText;if(g=/\.l\d+/.exec(h))g=parseInt(g[0].substr(2,g[0].length-2),10),pb[g]=f[a];else if(g=/\.r\d+/.exec(h))g=parseInt(g[0].substr(2,g[0].length-2),10),qb[g]=f[a]}}a=pb[m];m=qb[m];a.style.left=c+"px";m.style.right=ja-c-d+"px";c+=b[e].width}}function g(a){S=a;var b=O.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");c.each(S,function(a,c){null==c.sortAsc&&(c.sortAsc=!0);var x=Z[c.columnId];
null!=x&&b.eq(x).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(c.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function N(c,m){rb=[];for(var d={},e=0;e<m.length;e++)for(var f=m[e].fromRow;f<=m[e].toRow;f++){d[f]||(rb.push(f),d[f]={});for(var g=m[e].fromCell;g<=m[e].toCell;g++)Mb(f,g)&&(d[f][b[g].id]=a.selectedCellCssClass)}Nb(a.selectedCellCssClass,d);q(A.onSelectedRowsChanged,{rows:Ob()},c)}function I(){Fa=[];Ga=[];for(var a=0,c=0,d=b.length;c<
d;c++)Fa[c]=a,Ga[c]=a+b[c].width,a+=b[c].width}function ba(a){b=a;Z={};for(a=0;a<b.length;a++){var m=b[a]=c.extend({},sb,b[a]);Z[m.id]=a;m.minWidth&&m.width<m.minWidth&&(m.width=m.minWidth);m.maxWidth&&m.width>m.maxWidth&&(m.width=m.maxWidth)}I();ha&&(ua(),v(),xa.remove(),ya=null,ca(),oa(),ga(),Qa())}function E(){return u.getLength?u.getLength():u.length}function fa(a){return u.getItem?u.getItem(a):u[a]}function ta(b){b=Math.max(b,0);b=Math.min(b,ka-R+(nb?e.height:0));var c=M;Ha=Math.min(Ia-1,Math.floor(b/
Ja));M=Math.round(Ha*bb);b-=M;if(M!=c){var d=Ya(b);Gb(d);for(var f in G)G[f].rowNode.style.top=a.rowHeight*f-M+"px"}Ka!=b&&(za=Ka+c<b+M?1:-1,Q[0].scrollTop=cb=P=Ka=b,q(A.onViewportChanged,{}))}function Ua(b,c){var d=u.getItemMetadata&&u.getItemMetadata(b),e=d&&d.columns&&(d.columns[c.id]||d.columns[Z[c.id]]);return e&&e.formatter||d&&d.formatter||c.formatter||a.formatterFactory&&a.formatterFactory.getFormatter(c)||a.defaultFormatter}function Eb(c,m){var d=b[m],e=u.getItemMetadata&&u.getItemMetadata(c);
return(e=e&&e.columns)&&e[d.id]&&void 0!==e[d.id].editor?e[d.id].editor:e&&e[m]&&void 0!==e[m].editor?e[m].editor:d.editor||a.editorFactory&&a.editorFactory.getEditor(d)}function Va(b,c){return a.dataItemColumnValueExtractor?a.dataItemColumnValueExtractor(b,c):b[c.field]}function Fb(a,c,d,e,f){var g=b[d],h="slick-cell l"+d+" r"+Math.min(b.length-1,d+e-1)+(g.cssClass?" "+g.cssClass:"");c===C&&d===H&&(h+=" active");for(var k in aa)aa[k][c]&&aa[k][c][g.id]&&(h+=" "+aa[k][c][g.id]);a.push("\x3cdiv class\x3d'"+
h+"'\x3e");f&&(h=Va(f,g),a.push(Ua(c,g)(c,d,h,g,f)));a.push("\x3c/div\x3e");G[c].cellRenderQueue.push(d);G[c].cellColSpans[d]=e}function Gb(a){for(var b in G)(b=parseInt(b,10))!==C&&(b<a.top||b>a.bottom)&&Wa(b)}function ua(){D&&pa();for(var a in G)Wa(a)}function Wa(a){var b=G[a];b&&(Y[0].removeChild(b.rowNode),delete G[a],delete sa[a],tb--,Pb++)}function Hb(a){var b,c;if(a&&a.length)for(b=za=0,c=a.length;b<c;b++)D&&C===a[b]&&pa(),G[a[b]]&&Wa(a[b])}function Ib(a){Hb([a])}function lb(a){var c=G[a];
if(c){db(a);var d=fa(a),e;for(e in c.cellNodesByColumnIdx)if(c.cellNodesByColumnIdx.hasOwnProperty(e)){e|=0;var f=b[e],g=c.cellNodesByColumnIdx[e];a===C&&e===H&&D?D.loadValue(d):g.innerHTML=d?Ua(a,f)(a,e,Va(d,f),f,d):""}ub(a)}}function oa(){ha&&(R=a.autoHeight?a.rowHeight*(E()+(a.enableAddRow?1:0)):parseFloat(c.css(J[0],"height",!0))-parseFloat(c.css(J[0],"paddingTop",!0))-parseFloat(c.css(J[0],"paddingBottom",!0))-parseFloat(c.css(Ca[0],"height"))-z(Ca)-(a.showTopPanel?a.topPanelHeight+z(Aa):0)-
(a.showHeaderRow?a.headerRowHeight+z(ia):0),vb=Math.ceil(R/a.rowHeight),U=parseFloat(c.css(J[0],"width",!0)),a.autoHeight||Q.height(R),a.forceFitColumns&&na(),Xa(),Qa(),W())}function Xa(){var b=E();if(ha){wb=b+(a.enableAddRow?1:0)+(a.leaveSpaceForNewRows?vb-1:0);var c=Da;Da=!a.autoHeight&&wb*a.rowHeight>R;var b=a.enableAddRow?b:b-1,d;for(d in G)d>=b&&Wa(d);F&&C>b&&Qb();d=la;ka=Math.max(a.rowHeight*wb,R-e.height);ka<f?(la=Ja=ka,Ia=1,bb=0):(la=f,Ja=la/100,Ia=Math.floor(ka/Ja),bb=(ka-la)/(Ia-1));la!==
d&&(Y.css("height",la),P=Q[0].scrollTop);b=P+M<=ka-R;0==ka||0==P?Ha=M=0:b?ta(P+M):ta(ka-R);la!=d&&a.autoHeight&&oa();a.forceFitColumns&&c!=Da&&na();l(!1)}}function Ya(b,c){null==b&&(b=P);null==c&&(c=T);return{top:Math.floor((b+M)/a.rowHeight),bottom:Math.floor((b+R+M)/a.rowHeight)+1,leftPx:c,rightPx:c+U}}function Rb(b,c){var d=Ya(b,c),e=Math.round(R/a.rowHeight);-1==za?(d.top-=e,d.bottom+=3):1==za?(d.top-=3,d.bottom+=e):(d.top-=3,d.bottom+=3);d.top=Math.max(0,d.top);d.bottom=Math.min(a.enableAddRow?
E():E()-1,d.bottom);d.leftPx-=U;d.rightPx+=U;d.leftPx=Math.max(0,d.leftPx);d.rightPx=Math.min(ja,d.rightPx);return d}function db(a){if((a=G[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[c]=b;b=b.previousSibling}}function Sb(){a.enableAsyncPostRender&&(clearTimeout(xb),xb=setTimeout(Tb,a.asyncPostRenderDelay))}function ub(a){delete sa[a];Ra=Math.min(Ra,a);Sa=Math.max(Sa,a);Sb()}function W(){if(ha){var c=Ya(),
d=Rb();Gb(d);if(eb!=T){for(var e,f=[],g=[],h,k,p=d.top,n=d.bottom;p<=n;p++)if(e=G[p]){db(p);var l=d;h=p;var r=0,q=G[h],v=[];k=void 0;for(k in q.cellNodesByColumnIdx)if(q.cellNodesByColumnIdx.hasOwnProperty(k)){k|=0;var B=q.cellColSpans[k];if(Fa[k]>l.rightPx||Ga[Math.min(b.length-1,k+B-1)]<l.leftPx)h==C&&k==H||v.push(k)}for(l=void 0;null!=(l=v.pop());)q.rowNode.removeChild(q.cellNodesByColumnIdx[l]),delete q.cellColSpans[l],delete q.cellNodesByColumnIdx[l],sa[h]&&delete sa[h][l],r++;h=0;r=(r=u.getItemMetadata&&
u.getItemMetadata(p))&&r.columns;q=fa(p);v=0;for(l=b.length;v<l&&!(Fa[v]>d.rightPx);v++)null==(k=e.cellColSpans[v])&&(k=1,r&&(k=(k=r[b[v].id]||r[v])&&k.colspan||1,"*"===k&&(k=l-v)),Ga[Math.min(l-1,v+k-1)]>d.leftPx&&(Fb(f,p,v,k,q),h++)),v+=1<k?k-1:0;h&&g.push(p)}if(f.length)for(p=document.createElement("div"),p.innerHTML=f.join("");null!=(e=g.pop());)for(e=G[e];null!=(n=e.cellRenderQueue.pop());)f=p.lastChild,e.rowNode.appendChild(f),e.cellNodesByColumnIdx[n]=f}g=Y[0];e=[];f=[];p=!1;r=E();n=d.top;
for(h=d.bottom;n<=h;n++)if(!G[n]){tb++;f.push(n);G[n]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};q=e;v=n;l=d;B=r;k=fa(v);var z="slick-row"+(v<B&&!k?" loading":"")+(v===C?" active":"")+(1==v%2?" odd":" even");(B=u.getItemMetadata&&u.getItemMetadata(v))&&B.cssClasses&&(z+=" "+B.cssClasses);q.push("\x3cdiv class\x3d'ui-widget-content "+z+"' style\x3d'top:"+(a.rowHeight*v-M)+"px'\x3e");for(var w=void 0,t=void 0,z=0,ca=b.length;z<ca;z++){t=b[z];w=1;B&&B.columns&&(w=(w=B.columns[t.id]||
B.columns[z])&&w.colspan||1,"*"===w&&(w=ca-z));if(Ga[Math.min(ca-1,z+w-1)]>l.leftPx){if(Fa[z]>l.rightPx)break;Fb(q,v,z,w,k)}1<w&&(z+=w-1)}q.push("\x3c/div\x3e");F&&C===n&&(p=!0);Ub++}if(f.length){d=document.createElement("div");d.innerHTML=e.join("");n=0;for(h=f.length;n<h;n++)G[f[n]].rowNode=g.appendChild(d.firstChild);p&&(F=da(C,H))}Ra=c.top;Sa=Math.min(a.enableAddRow?E():E()-1,c.bottom);Sb();cb=P;eb=T;fb=null}}function rc(){var a=ia[0].scrollLeft;a!=Q[0].scrollLeft&&(Q[0].scrollLeft=a)}function Qa(){P=
Q[0].scrollTop;T=Q[0].scrollLeft;var b=Math.abs(P-Ka),c=Math.abs(T-Vb);c&&(Vb=T,Ca[0].scrollLeft=T,Aa[0].scrollLeft=T,ia[0].scrollLeft=T);if(b)if(za=Ka<P?1:-1,Ka=P,b<R)ta(P+M);else{var d=M;Ha=la==R?0:Math.min(Ia-1,Math.floor((ka-R)/(la-R)*P*(1/Ja)));M=Math.round(Ha*bb);d!=M&&ua()}if(c||b)if(fb&&clearTimeout(fb),20<Math.abs(cb-P)||20<Math.abs(eb-T))a.forceSyncScrolling||Math.abs(cb-P)<R&&Math.abs(eb-T)<U?W():fb=setTimeout(W,50),q(A.onViewportChanged,{});q(A.onScroll,{scrollLeft:T,scrollTop:P})}function Tb(){for(;Ra<=
Sa;){var c=0<=za?Ra++:Sa--,d=G[c];if(d&&!(c>=E())){sa[c]||(sa[c]={});db(c);for(var e in d.cellNodesByColumnIdx)if(d.cellNodesByColumnIdx.hasOwnProperty(e)){e|=0;var f=b[e];if(f.asyncPostRender&&!sa[c][e]){var g=d.cellNodesByColumnIdx[e];g&&f.asyncPostRender(g,c,fa(c),f);sa[c][e]=!0}}xb=setTimeout(Tb,a.asyncPostRenderDelay);break}}}function yb(a,b){var d,e,f,g,h;for(h in G){g=b&&b[h];f=a&&a[h];if(g)for(e in g)f&&g[e]==f[e]||(d=da(h,Z[e]))&&c(d).removeClass(g[e]);if(f)for(e in f)g&&g[e]==f[e]||(d=da(h,
Z[e]))&&c(d).addClass(f[e])}}function Nb(a,b){var c=aa[a];aa[a]=b;yb(b,c);q(A.onCellCssStylesChanged,{key:a,hash:b})}function vc(a,b){var c=Ta(a);if(!c||!zb(c.row,c.cell))return!1;c=q(A.onDragInit,b,a);return a.isImmediatePropagationStopped()?c:!1}function wc(a,b){var c=Ta(a);if(!c||!zb(c.row,c.cell))return!1;c=q(A.onDragStart,b,a);return a.isImmediatePropagationStopped()?c:!1}function xc(a,b){return q(A.onDrag,b,a)}function yc(a,b){q(A.onDragEnd,b,a)}function Jb(b){q(A.onKeyDown,{row:C,cell:H},b);
var c=b.isImmediatePropagationStopped();if(!c)if(b.shiftKey||b.altKey||b.ctrlKey)9!=b.which||!b.shiftKey||b.ctrlKey||b.altKey||(c=Wb());else if(27==b.which){if(!L().isActive())return;Xb()}else 37==b.which?c=Yb():39==b.which?c=Zb():38==b.which?c=$b():40==b.which?c=gb():9==b.which?c=ac():13==b.which&&(a.editable&&(D?C===E()?gb():bc():L().commitCurrentEdit()&&hb()),c=!0);if(c){b.stopPropagation();b.preventDefault();try{b.originalEvent.keyCode=0}catch(d){}}}function sc(b){D||(b.target!=document.activeElement||
c(b.target).hasClass("slick-cell"))&&Ba();var d=Ta(b);!d||null!==D&&C==d.row&&H==d.cell||(q(A.onClick,{row:d.row,cell:d.cell},b),b.isImmediatePropagationStopped()||H==d.cell&&C==d.row||!ma(d.row,d.cell)||L().isActive()&&!L().commitCurrentEdit()||(Ab(d.row,!1),La(da(d.row,d.cell),d.row===E()||a.autoEdit)))}function uc(a){var b=c(a.target).closest(".slick-cell",Y);0!==b.length&&(F===b[0]&&null!==D||q(A.onContextMenu,{},a))}function tc(b){var c=Ta(b);!c||null!==D&&C==c.row&&H==c.cell||(q(A.onDblClick,
{row:c.row,cell:c.cell},b),b.isImmediatePropagationStopped()||a.editable&&cc(c.row,c.cell,!0))}function pc(a){q(A.onHeaderMouseEnter,{column:c(this).data("column")},a)}function qc(a){q(A.onHeaderMouseLeave,{column:c(this).data("column")},a)}function nc(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns"),b=b&&b.data("column");q(A.onHeaderContextMenu,{column:b},a)}function oc(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&
q(A.onHeaderClick,{column:b},a)}function zc(a){q(A.onMouseEnter,{},a)}function Ac(a){q(A.onMouseLeave,{},a)}function zb(a,c){return!(0>a||a>=E()||0>c||c>=b.length)}function dc(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function ec(a){for(var b in G)if(G[b].rowNode===a)return b|0;return null}function Ta(a){var b=c(a.target).closest(".slick-cell",Y);if(!b.length)return null;a=ec(b[0].parentNode);b=dc(b[0]);
return null==a||null==b?null:{row:a,cell:b}}function Qb(){La(null,!1)}function Ba(){-1==fc?Za[0].focus():mb[0].focus()}function ib(a,b,c){Ab(a,c);c=Ma(a,b);a=Fa[b];b=Ga[b+(1<c?c-1:0)];c=T+U;a<T?(Q.scrollLeft(a),Qa(),W()):b>c&&(Q.scrollLeft(Math.min(a,b-Q[0].clientWidth)),Qa(),W())}function La(b,d){null!==F&&(pa(),c(F).removeClass("active"),G[C]&&c(G[C].rowNode).removeClass("active"));var e=F!==b;F=b;null!=F?(C=ec(F.parentNode),H=Bb=dc(F),c(F).addClass("active"),c(G[C].rowNode).addClass("active"),
a.editable&&d&&gc(C,H)&&(clearTimeout(Cb),a.asyncEditorLoading?Cb=setTimeout(function(){hb()},a.asyncEditorLoadDelay):hb())):C=H=null;e&&q(A.onActiveCellChanged,hc())}function gc(a,c){return a<E()&&!fa(a)||b[c].cannotTriggerInsert&&a>=E()||!Eb(a,c)?!1:!0}function pa(){if(D){q(A.onBeforeCellEditorDestroy,{editor:D});D.destroy();D=null;if(F){var a=fa(C);c(F).removeClass("editable invalid");if(a){var d=b[H],e=Ua(C,d);F.innerHTML=e(C,H,Va(a,d),d,a);ub(C)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&
document.selection.empty)try{document.selection.empty()}catch(f){}else window.getSelection&&(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();L().deactivate(jb)}}function hb(d){if(F){if(!a.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(Cb);if(gc(C,H)){var e=b[H],f=fa(C);!1===q(A.onBeforeEditCell,{row:C,cell:H,item:f,column:e})?Ba():(L().activate(jb),c(F).addClass("editable"),d||(F.innerHTML=""),D=new (d||Eb(C,H))({grid:A,
gridPosition:kb(J[0]),position:kb(F),container:F,column:e,item:f||{},commitChanges:bc,cancelChanges:Xb}),f&&D.loadValue(f),ic=D.serializeValue(),D.position&&Lb())}}}function bc(){L().commitCurrentEdit()&&(Ba(),a.autoEdit&&gb())}function Xb(){L().cancelCurrentEdit()&&Ba()}function kb(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:c(a).outerWidth(),height:c(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var d=a.offsetParent;(a=a.parentNode)!=document.body;)b.visible&&
a.scrollHeight!=a.offsetHeight&&"visible"!=c(a).css("overflowY")&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&"visible"!=c(a).css("overflowX")&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===d&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,d=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function jc(){return kb(F)}function Lb(){if(F&&(q(A.onActiveCellPositionChanged,
{}),D)){var a=jc();D.show&&D.hide&&(a.visible?D.show():D.hide());D.position&&D.position(a)}}function hc(){return F?{row:C,cell:H}:null}function Ab(b,c){var d=b*a.rowHeight,f=(b+1)*a.rowHeight-R+(nb?e.height:0);(b+1)*a.rowHeight>P+R+M?(ta(c?d:f),W()):b*a.rowHeight<P+M&&(ta(c?f:d),W())}function Ma(a,c){var d=u.getItemMetadata&&u.getItemMetadata(a);if(!d||!d.columns)return 1;d=(d=d.columns[b[c].id]||d.columns[c])&&d.colspan;return d="*"===d?b.length-c:d||1}function kc(a){for(var c=0;c<b.length;){if(ma(a,
c))return c;c+=Ma(a,c)}return null}function Db(a,c,d){if(c>=b.length)return null;do c+=Ma(a,c);while(c<b.length&&!ma(a,c));return c<b.length?{row:a,cell:c,posX:c}:null}function lc(a,b,c){if(0>=b)return null;c=kc(a);if(null===c||c>=b)return null;for(a={row:a,cell:c,posX:c};;){c=Db(a.row,a.cell,a.posX);if(!c)return null;if(c.cell>=b)return a;a=c}}function Bc(b,c,d){for(var e;;){if(++b>=E()+(a.enableAddRow?1:0))return null;for(e=c=0;c<=d;)e=c,c+=Ma(b,c);if(ma(b,e))return{row:b,cell:e,posX:d}}}function Cc(a,
b,c){for(var d;;){if(0>--a)return null;for(d=b=0;b<=c;)d=b,b+=Ma(a,b);if(ma(a,d))return{row:a,cell:d,posX:c}}}function Dc(b,c,d){if(null==b&&null==c&&(b=c=d=0,ma(b,c)))return{row:b,cell:c,posX:c};if(c=Db(b,c,d))return c;for(c=null;++b<E()+(a.enableAddRow?1:0);)if(c=kc(b),null!==c)return{row:b,cell:c,posX:c};return null}function Ec(c,d,e){if(null==c&&null==d&&(c=E()+(a.enableAddRow?1:0)-1,d=e=b.length-1,ma(c,d)))return{row:c,cell:d,posX:d};for(var f,g;!f&&!(f=lc(c,d,e));){if(0>--c)return null;d=0;
g=c;for(var h=0,k=null;h<b.length;)ma(g,h)&&(k=h),h+=Ma(g,h);g=k;null!==g&&(f={row:c,cell:g,posX:g})}return f}function Zb(){return Na("right")}function Yb(){return Na("left")}function gb(){return Na("down")}function $b(){return Na("up")}function ac(){return Na("next")}function Wb(){return Na("prev")}function Na(b){if(!a.enableCellNavigation||!F&&"prev"!=b&&"next"!=b)return!1;if(!L().commitCurrentEdit())return!0;Ba();fc={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[b];if(b=(0,{up:Cc,down:Bc,left:lc,
right:Db,prev:Ec,next:Dc}[b])(C,H,Bb)){var c=b.row==E();ib(b.row,b.cell,!c);La(da(b.row,b.cell),c||a.autoEdit);Bb=b.posX;return!0}La(da(C,H),C==E()||a.autoEdit);return!1}function da(a,b){return G[a]?(db(a),G[a].cellNodesByColumnIdx[b]):null}function ma(c,d){if(!a.enableCellNavigation||c>=E()+(a.enableAddRow?1:0)||0>c||d>=b.length||0>d)return!1;var e=u.getItemMetadata&&u.getItemMetadata(c);return e&&"boolean"===typeof e.focusable?e.focusable:(e=e&&e.columns)&&e[b[d].id]&&"boolean"===typeof e[b[d].id].focusable?
e[b[d].id].focusable:e&&e[d]&&"boolean"===typeof e[d].focusable?e[d].focusable:b[d].focusable}function Mb(a,c){if(a>=E()||0>a||c>=b.length||0>c)return!1;var d=u.getItemMetadata&&u.getItemMetadata(a);return d&&"boolean"===typeof d.selectable?d.selectable:(d=d&&d.columns&&(d.columns[b[c].id]||d.columns[c]))&&"boolean"===typeof d.selectable?d.selectable:b[c].selectable}function cc(b,c,d){ha&&ma(b,c)&&L().commitCurrentEdit()&&(ib(b,c,!1),c=da(b,c),La(c,d||b===E()||a.autoEdit),D||Ba())}function Fc(){var d=
fa(C),e=b[H];if(D){if(D.isValueChanged()){var f=D.validate();if(f.valid)return C<E()?(f={row:C,cell:H,editor:D,serializedValue:D.serializeValue(),prevSerializedValue:ic,execute:function(){this.editor.applyValue(d,this.serializedValue);lb(this.row)},undo:function(){this.editor.applyValue(d,this.prevSerializedValue);lb(this.row)}},a.editCommandHandler?(pa(),a.editCommandHandler(d,e,f)):(f.execute(),pa()),q(A.onCellChange,{row:C,cell:H,item:d})):(f={},D.applyValue(f,D.serializeValue()),pa(),q(A.onAddNewRow,
{item:f,column:e})),!L().isActive();c(F).removeClass("invalid");c(F).width();c(F).addClass("invalid");q(A.onValidationError,{editor:D,cellNode:F,validationResults:f,row:C,cell:H,column:e});D.focus();return!1}pa()}return!0}function Gc(){pa();return!0}function Hc(a){for(var c=[],e=b.length-1,f=0;f<a.length;f++)c.push(new d.Range(a[f],0,a[f],e));return c}function Ob(){if(!ea)throw"Selection model is not set";return rb}var Ic={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,
leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:d.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,
fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,c,d,e){return null==c?"":(c+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},forceSyncScrolling:!1},sb={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},ka,la,Ja,Ia,bb,Ha=0,M=0,za=1,ha=!1,J,V="slickgrid_"+Math.round(1E6*Math.random()),A=this,Za,mb,Ca,O,va,ia,Kb,Aa,mc,Q,Y,xa,Ea,ya,pb,qb,R,U,ja,nb,Da,wa=0,ob=0,$a=0,ab=0,ra,wb=
0,fc=1,Bb,C,H,F=null,D=null,ic,jb,G={},tb=0,vb,Ka=0,P=0,cb=0,eb=0,Vb=0,T=0,ea,rb=[],qa=[],aa={},Z={},S=[],Fa=[],Ga=[],Cb=null,fb=null,xb=null,sa={},Sa=null,Ra=null,Ub=0,Pb=0;this.debug=function(){var a;a="\ncounter_rows_rendered:  "+Ub;a+="\ncounter_rows_removed:  "+Pb;a+="\nrenderedRows:  "+tb;a+="\nnumVisibleRows:  "+vb;a+="\nmaxSupportedCssHeight:  "+f;a+="\nn(umber of pages):  "+Ia;a+="\n(current) page:  "+Ha;a+="\npage height (ph):  "+Ja;a+="\nvScrollDir:  "+za;alert(a)};this.eval=function(a){return eval(a)};
c.extend(this,{slickGridVersion:"2.1",onScroll:new d.Event,onSort:new d.Event,onHeaderMouseEnter:new d.Event,onHeaderMouseLeave:new d.Event,onHeaderContextMenu:new d.Event,onHeaderClick:new d.Event,onHeaderCellRendered:new d.Event,onBeforeHeaderCellDestroy:new d.Event,onHeaderRowCellRendered:new d.Event,onBeforeHeaderRowCellDestroy:new d.Event,onMouseEnter:new d.Event,onMouseLeave:new d.Event,onClick:new d.Event,onDblClick:new d.Event,onContextMenu:new d.Event,onKeyDown:new d.Event,onAddNewRow:new d.Event,
onValidationError:new d.Event,onViewportChanged:new d.Event,onColumnsReordered:new d.Event,onColumnsResized:new d.Event,onCellChange:new d.Event,onBeforeEditCell:new d.Event,onBeforeCellEditorDestroy:new d.Event,onBeforeDestroy:new d.Event,onActiveCellChanged:new d.Event,onActiveCellPositionChanged:new d.Event,onDragInit:new d.Event,onDragStart:new d.Event,onDrag:new d.Event,onDragEnd:new d.Event,onSelectedRowsChanged:new d.Event,onCellCssStylesChanged:new d.Event,registerPlugin:function(a){qa.unshift(a);
a.init(A)},unregisterPlugin:y,getColumns:function(){return b},setColumns:ba,getColumnIndex:Pa,updateColumnHeader:function(a,c,d){if(ha&&(a=Z[a],null!=a)){var e=b[a],f=O.children().eq(a);f&&(void 0!==c&&(b[a].name=c),void 0!==d&&(b[a].toolTip=d),q(A.onBeforeHeaderCellDestroy,{node:f[0],column:e}),f.attr("title",d||"").children().eq(0).html(c),q(A.onHeaderCellRendered,{node:f[0],column:e}))}},setSortColumn:function(a,b){g([{columnId:a,sortAsc:b}])},setSortColumns:g,getSortColumns:function(){return S},
autosizeColumns:na,getOptions:function(){return a},setOptions:function(b){L().commitCurrentEdit()&&(pa(),a.enableAddRow!==b.enableAddRow&&Ib(E()),a=c.extend(a,b),a.autoHeight&&(a.leaveSpaceForNewRows=!1),Q.css("overflow-y",a.autoHeight?"hidden":"auto"),W())},getData:function(){return u},getDataLength:E,getDataItem:fa,setData:function(a,b){u=a;ua();Xa();b&&ta(0)},getSelectionModel:function(){return ea},setSelectionModel:function(a){ea&&(ea.onSelectedRangesChanged.unsubscribe(N),ea.destroy&&ea.destroy());
if(ea=a)ea.init(A),ea.onSelectedRangesChanged.subscribe(N)},getSelectedRows:Ob,setSelectedRows:function(a){if(!ea)throw"Selection model is not set";ea.setSelectedRanges(Hc(a))},getContainerNode:function(){return J.get(0)},render:W,invalidate:function(){Xa();ua();W()},invalidateRow:Ib,invalidateRows:Hb,invalidateAllRows:ua,updateCell:function(a,c){var d=da(a,c);if(d){var e=b[c],f=fa(a);D&&C===a&&H===c?D.loadValue(f):(d.innerHTML=f?Ua(a,e)(a,c,Va(f,e),e,f):"",ub(a))}},updateRow:lb,getViewport:Ya,getRenderedRange:Rb,
resizeCanvas:oa,updateRowCount:Xa,scrollRowIntoView:Ab,scrollRowToTop:function(b){ta(b*a.rowHeight);W()},scrollCellIntoView:ib,getCanvasNode:function(){return Y[0]},focus:Ba,getCellFromPoint:function(c,d){for(var e=Math.floor((d+M)/a.rowHeight),f=0,g=0,h=0;h<b.length&&g<c;h++)g+=b[h].width,f++;0>f&&(f=0);return{row:e,cell:f-1}},getCellFromEvent:Ta,getActiveCell:hc,setActiveCell:function(c,d){!ha||c>E()||0>c||d>=b.length||0>d||!a.enableCellNavigation||(ib(c,d,!1),La(da(c,d),!1))},getActiveCellNode:function(){return F},
getActiveCellPosition:jc,resetActiveCell:Qb,editActiveCell:hb,getCellEditor:function(){return D},getCellNode:da,getCellNodeBox:function(c,d){if(!zb(c,d))return null;for(var e=a.rowHeight*c-M,f=e+a.rowHeight-1,g=0,h=0;h<d;h++)g+=b[h].width;return{top:e,left:g,bottom:f,right:g+b[d].width}},canCellBeSelected:Mb,canCellBeActive:ma,navigatePrev:Wb,navigateNext:ac,navigateUp:$b,navigateDown:gb,navigateLeft:Yb,navigateRight:Zb,gotoCell:cc,getTopPanel:function(){return mc[0]},setTopPanelVisibility:function(b){a.showTopPanel!=
b&&((a.showTopPanel=b)?Aa.slideDown("fast",oa):Aa.slideUp("fast",oa))},setHeaderRowVisibility:function(b){a.showHeaderRow!=b&&((a.showHeaderRow=b)?ia.slideDown("fast",oa):ia.slideUp("fast",oa))},getHeaderRow:function(){return va[0]},getHeaderRowColumn:function(a){a=Z[a];return(a=va.children().eq(a))&&a[0]},getGridPosition:function(){return kb(J[0])},flashCell:function(b,d,e){e=e||100;if(G[b]){var f=function(b){b&&setTimeout(function(){g.queue(function(){g.toggleClass(a.cellFlashingCssClass).dequeue();
f(b-1)})},e)},g=c(da(b,d));f(4)}},addCellCssStyles:function(a,b){if(aa[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";aa[a]=b;yb(b,null);q(A.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:Nb,removeCellCssStyles:function(a){aa[a]&&(yb(null,aa[a]),delete aa[a],q(A.onCellCssStylesChanged,{key:a,hash:null}))},getCellCssStyles:function(a){return aa[a]},init:w,destroy:function(){L().cancelCurrentEdit();q(A.onBeforeDestroy,{});for(var b=qa.length;b--;)y(qa[b]);a.enableColumnReorder&&
O.filter(":ui-sortable").sortable("destroy");Ea&&(Ea.unbind("scroll."+V),Ea=null);J.unbind(".slickgrid");xa.remove();ya=null;Y.unbind("draginit dragstart dragend drag");J.empty().removeClass(V)},getEditorLock:L,getEditController:function(){return jb}});(function(){J=c(r);if(1>J.length)throw Error("SlickGrid requires a valid container, "+r+" does not exist in the DOM.");var d;if(!(d=f)){d=1E6;for(var g=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,h=c("\x3cdiv style\x3d'display:none' /\x3e").appendTo(document.body);;){var p=
2*d;h.css("height",p);if(p>g||h.height()!==p)break;else d=p}h.remove()}f=d;(d=e)||(d=c("\x3cdiv style\x3d'position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'\x3e\x3c/div\x3e").appendTo("body"),g={width:d.width()-d[0].clientWidth,height:d.height()-d[0].clientHeight},d.remove(),d=g);e=d;a=c.extend({},Ic,a);a.autoHeight&&(a.leaveSpaceForNewRows=!1);sb.width=a.defaultColumnWidth;Z={};for(d=0;d<b.length;d++)g=b[d]=c.extend({},sb,b[d]),Z[g.id]=d,g.minWidth&&g.width<
g.minWidth&&(g.width=g.minWidth),g.maxWidth&&g.width>g.maxWidth&&(g.width=g.maxWidth);if(a.enableColumnReorder&&!c.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder \x3d true' option requires jquery-ui.sortable module to be loaded");jb={commitCurrentEdit:Fc,cancelCurrentEdit:Gc};J.empty().css("overflow","hidden").css("outline",0).addClass(V).addClass("ui-widget");/relative|absolute|fixed/.test(J.css("position"))||J.css("position","relative");Za=c("\x3cdiv tabIndex\x3d'0' hideFocus style\x3d'position:fixed;width:0;height:0;top:0;left:0;outline:0;'\x3e\x3c/div\x3e").appendTo(J);
Ca=c("\x3cdiv class\x3d'slick-header ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(J);O=c("\x3cdiv class\x3d'slick-header-columns' style\x3d'left:-1000px' /\x3e").appendTo(Ca);O.width(k());ia=c("\x3cdiv class\x3d'slick-headerrow ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(J);va=c("\x3cdiv class\x3d'slick-headerrow-columns' /\x3e").appendTo(ia);Kb=c("\x3cdiv style\x3d'display:block;height:1px;position:absolute;top:0;left:0;'\x3e\x3c/div\x3e").css("width",
t()+e.width+"px").appendTo(ia);Aa=c("\x3cdiv class\x3d'slick-top-panel-scroller ui-state-default' style\x3d'overflow:hidden;position:relative;' /\x3e").appendTo(J);mc=c("\x3cdiv class\x3d'slick-top-panel' style\x3d'width:10000px' /\x3e").appendTo(Aa);a.showTopPanel||Aa.hide();a.showHeaderRow||ia.hide();Q=c("\x3cdiv class\x3d'slick-viewport' style\x3d'width:100%;overflow:auto;outline:0;position:relative;;'\x3e").appendTo(J);Q.css("overflow-y",a.autoHeight?"hidden":"auto");Y=c("\x3cdiv class\x3d'grid-canvas' /\x3e").appendTo(Q);
mb=Za.clone().appendTo(J);a.explicitInitialization||w()})()}});
(function(c,d){"function"===typeof define&&define.amd?define("plugins/slick.rowselectionmodel",["jquery","../slick.core"],d):c.Slick.RowSelectionModel=d(c.jQuery,c.Slick)})(this,function(c,d){return function(e){function f(a){return function(){B||(B=!0,a.apply(this,arguments),B=!1)}}function r(a){for(var b=[],c=0;c<a.length;c++)for(var d=a[c].fromRow;d<=a[c].toRow;d++)b.push(d);return b}function u(a){for(var b=[],c=l.getColumns().length-1,e=0;e<a.length;e++)b.push(new d.Range(a[e],0,a[e],c));return b}
function b(a,b){var c,d=[];for(c=a;c<=b;c++)d.push(c);for(c=b;c<a;c++)d.push(c);return d}function a(){return r(n)}function w(a){n=a;h.onSelectedRangesChanged.notify(n)}function y(a,b){X.selectActiveRow&&null!=b.row&&w([new d.Range(b.row,0,b.row,l.getColumns().length-1)])}function k(c){var d=l.getActiveCell();if(d&&c.shiftKey&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&(38==c.which||40==c.which)){var e=a();e.sort(function(a,b){return a-b});e.length||(e=[d.row]);var f=e[0],e=e[e.length-1],d=40==c.which?d.row<
e||f==e?++e:++f:d.row<e?--e:--f;0<=d&&d<l.getDataLength()&&(l.scrollRowIntoView(d),n=u(b(f,e)),w(n));c.preventDefault();c.stopPropagation()}}function t(a){var b=l.getCellFromEvent(a);if(!b||!l.canCellBeActive(b.row,b.cell))return!1;var d=r(n),e=c.inArray(b.row,d);if(!a.ctrlKey&&!a.shiftKey&&!a.metaKey)return!1;if(l.getOptions().multiSelect)if(-1===e&&(a.ctrlKey||a.metaKey))d.push(b.row),l.setActiveCell(b.row,b.cell);else if(-1!==e&&(a.ctrlKey||a.metaKey))d=c.grep(d,function(a,c){return a!==b.row}),
l.setActiveCell(b.row,b.cell);else if(d.length&&a.shiftKey){for(var e=d.pop(),f=Math.min(b.row,e),h=Math.max(b.row,e),d=[];f<=h;f++)f!==e&&d.push(f);d.push(e);l.setActiveCell(b.row,b.cell)}n=u(d);w(n);a.stopImmediatePropagation();return!0}var l,n=[],h=this,v=new d.EventHandler,B,X,K={selectActiveRow:!0};c.extend(this,{getSelectedRows:a,setSelectedRows:function(a){w(u(a))},getSelectedRanges:function(){return n},setSelectedRanges:w,init:function(a){X=c.extend(!0,{},K,e);l=a;v.subscribe(l.onActiveCellChanged,
f(y));v.subscribe(l.onKeyDown,f(k));v.subscribe(l.onClick,f(t))},destroy:function(){v.unsubscribeAll()},onSelectedRangesChanged:new d.Event})}});
+function(c,d){"function"===typeof define&&define.amd?define("plugins/slick.headermenu",["jquery","../slick.core"],d):(c.Slick.Plugins=c.Slick.Plugins||{},c.Slick.Plugins.HeaderMenu=d(c.jQuery,c.Slick))}(this,function(c,d){return function(e){function f(a){n&&n[0]!=a.target&&!c.contains(n[0],a.target)&&r()}function r(){n&&(n.remove(),n=null,h.removeClass("slick-header-column-active"))}function u(b,d){var f=d.column,h=f.header&&f.header.menu;h&&(f=c("\x3cdiv\x3e\x3c/div\x3e").addClass("slick-header-menubutton").data("column",
f).data("menu",h),e.buttonCssClass&&f.addClass(e.buttonCssClass),e.buttonImage&&f.css("background-image","url("+e.buttonImage+")"),h.tooltip&&f.attr("title",h.tooltip),f.bind("click",a).appendTo(d.node))}function b(a,b){var d=b.column;d.header&&d.header.menu&&c(b.node).find(".slick-header-menubutton").remove()}function a(a){var b=c(this),d=b.data("menu"),e=b.data("column");if(0!=k.onBeforeMenuShow.notify({grid:y,column:e,menu:d},a,k)){n||(n=c("\x3cdiv class\x3d'slick-header-menu'\x3e\x3c/div\x3e").appendTo(y.getContainerNode()));
n.empty();for(var f=0;f<d.items.length;f++){var l=d.items[f],r=c("\x3cdiv class\x3d'slick-header-menuitem'\x3e\x3c/div\x3e").data("command",l.command||"").data("column",e).data("item",l).bind("click",w).appendTo(n);l.disabled&&r.addClass("slick-header-menuitem-disabled");l.tooltip&&r.attr("title",l.tooltip);var q=c("\x3cdiv class\x3d'slick-header-menuicon'\x3e\x3c/div\x3e").appendTo(r);l.iconCssClass&&q.addClass(l.iconCssClass);l.iconImage&&q.css("background-image","url("+l.iconImage+")");c("\x3cspan class\x3d'slick-header-menucontent'\x3e\x3c/span\x3e").text(l.title).appendTo(r)}n.position({my:"left top",
at:"left bottom",of:c(this)});n.offset({top:b.offset().top+b.height(),left:leftPos});h=b.closest(".slick-header-column");h.addClass("slick-header-column-active");a.preventDefault();a.stopPropagation()}}function w(a){var b=c(this).data("command"),d=c(this).data("column"),e=c(this).data("item");e.disabled||(r(),null!=b&&""!=b&&k.onCommand.notify({grid:y,column:d,command:b,item:e},a,k),a.preventDefault(),a.stopPropagation())}var y,k=this,t=new d.EventHandler,l={buttonCssClass:null,buttonImage:null},
n,h;c.extend(this,{init:function(a){e=c.extend(!0,{},l,e);y=a;t.subscribe(y.onHeaderCellRendered,u).subscribe(y.onBeforeHeaderCellDestroy,b);y.setColumns(y.getColumns());c(document.body).bind("mousedown",f)},destroy:function(){t.unsubscribeAll();c(document.body).unbind("mousedown",f)},onBeforeMenuShow:new d.Event,onCommand:new d.Event})}});
(function(c,d){"function"===typeof define&&define.amd?define("slick.remotemodel",["jquery","./slick.core"],d):(c.Slick.Data=c.Slick.Data||{},c.Slick.Data.RemoteModel=d(c.jQuery,c.Slick))})(this,function(c,d){return function(){function e(){for(var a in b)delete b[a];b.length=0}function f(d,e){if(t){t.abort();for(var f=t.fromPage;f<=t.toPage;f++)b[50*f]=void 0}0>d&&(d=0);for(var n=Math.floor(d/50),K=Math.floor(e/50);void 0!==b[50*n]&&n<K;)n++;for(;void 0!==b[50*K]&&n<K;)K--;if(!(n>K||n==K&&void 0!==
b[50*n])){for(var z=0,p=u+"?qtype\x3d"+w+"\x26query\x3d"+a+"\x26start\x3d"+50*n+"\x26limit\x3d"+(50*(K-n)+50),z=y.length,f=0;f<z;f++)y[f]&&void 0!=y[f].sortCol&&(p+="\x26sortname\x3d"+y[f].sortCol.field+"\x26sortorder\x3d"+(y[f].sortAsc?"asc":"desc"));null!=k&&clearTimeout(k);k=setTimeout(function(){for(var a=n;a<=K;a++)b[50*a]=null;l.notify({from:d,to:e});t=c.ajax({url:p,cache:!1,success:r,error:function(){alert("error loading pages "+n+" to "+K)}});t.fromPage=n;t.toPage=K},50)}}function r(a){a=
c.parseJSON(a);var d=a.request.start,e=d+a.results.length+1;b.length=a.request.total;for(var f=0;f<a.results.length;f++)b[d+f]=a.results[f],b[d+f].index=d+f;t=null;n.notify({from:d,to:e})}var u=null,b={length:0},a="",w="",y=null,k=null,t=null,l=new d.Event,n=new d.Event;return{data:b,clear:e,isDataLoaded:function(a,c){for(var d=a;d<=c;d++)if(void 0==b[d]||null==b[d])return!1;return!0},ensureData:f,reloadData:function(a,c){for(var d=a;d<=c;d++)delete b[d];f(a,c)},setSort:function(a){y=a;e()},setSearch:function(b,
c){a=b;w=c;e()},setUrl:function(a){u=a},onDataLoading:l,onDataLoaded:n}}});
(function(c,d){"function"===typeof define&&define.amd?define("slick.editors",["jquery","select2"],d):c.Slick.Editors=d(c.jQuery)})(this,function(c){return{Text:function(d){var e,f;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e").appendTo(d.container).bind("keydown.nav",function(d){d.keyCode!==c.ui.keyCode.LEFT&&d.keyCode!==c.ui.keyCode.RIGHT||d.stopImmediatePropagation()}).focus().select()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.getValue=
function(){return e.val()};this.setValue=function(c){e.val(c)};this.loadValue=function(c){f=c[d.column.field]||"";e.val(f);e[0].defaultValue=f;e.select()};this.serializeValue=function(){return e.val()};this.applyValue=function(c,e){c[d.column.field]=e};this.isValueChanged=function(){return!(""==e.val()&&null==f)&&e.val()!=f};this.validate=function(){if(d.column.validator){var c=d.column.validator(e.val());if(!c.valid)return c}return{valid:!0,msg:null}};this.init()},Integer:function(d){var e,f;this.init=
function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e");e.bind("keydown.nav",function(d){d.keyCode!==c.ui.keyCode.LEFT&&d.keyCode!==c.ui.keyCode.RIGHT||d.stopImmediatePropagation()});e.appendTo(d.container);e.focus().select()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.loadValue=function(c){f=c[d.column.field];e.val(f);e[0].defaultValue=f;e.select()};this.serializeValue=function(){return parseInt(e.val(),10)||null};this.applyValue=function(c,e){c[d.column.field]=
e};this.isValueChanged=function(){return!(""==e.val()&&null==f)&&e.val()!=f};this.validate=function(){return isNaN(e.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}};this.init()},Date:function(d){var e,f,r=!1;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e");e.appendTo(d.container);e.focus().select();e.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){r=!0},onClose:function(){r=!1}});e.width(e.width()-
18)};this.destroy=function(){c.datepicker.dpDiv.stop(!0,!0);e.datepicker("hide");e.datepicker("destroy");e.remove()};this.show=function(){r&&c.datepicker.dpDiv.stop(!0,!0).show()};this.hide=function(){r&&c.datepicker.dpDiv.stop(!0,!0).hide()};this.position=function(d){r&&c.datepicker.dpDiv.css("top",d.top+30).css("left",d.left)};this.focus=function(){e.focus()};this.loadValue=function(c){f=c[d.column.field];e.val(f);e[0].defaultValue=f;e.select()};this.serializeValue=function(){return e.val()};this.applyValue=
function(c,b){c[d.column.field]=b};this.isValueChanged=function(){return!(""==e.val()&&null==f)&&e.val()!=f};this.validate=function(){return{valid:!0,msg:null}};this.init()},YesNoSelect:function(d){var e,f;this.init=function(){e=c("\x3cSELECT tabIndex\x3d'0' class\x3d'editor-yesno'\x3e\x3cOPTION value\x3d'yes'\x3eYes\x3c/OPTION\x3e\x3cOPTION value\x3d'no'\x3eNo\x3c/OPTION\x3e\x3c/SELECT\x3e");e.appendTo(d.container);e.focus()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.loadValue=
function(c){e.val((f=c[d.column.field])?"yes":"no");e.select()};this.serializeValue=function(){return"yes"==e.val()};this.applyValue=function(c,e){c[d.column.field]=e};this.isValueChanged=function(){return e.val()!=f};this.validate=function(){return{valid:!0,msg:null}};this.init()},SelectOptionEditor:function(d){var e=null,f;this.options=null;this.init=function(){if(void 0!=d.column.seloptions.options)this.options=d.column.seloptions.options,config=d.column.seloptions,e=c('\x3cdiv style\x3d"width:100%;"\x3e'),
e.appendTo(d.container),c(d.container).css({height:"auto"}),sel2config={multiple:config.multiple,placeholder:config.txt,formatResult:function(b){return b[config.displayField]},formatSelection:function(b){return b[config.displayField]},id:function(b){return b[config.valueField]},minimumInputLength:0},sel2config.data=this.options,c(e).select2(sel2config);else{var r=d.column.seloptions.txt;e=c('\x3cdiv style\x3d"width:100%;"\x3e');e.appendTo(d.container);c(d.container).css({height:"auto"});var u=d.column.seloptions.displayName;
c(e).select2({multiple:!0,placeholder:r,displayValue:u,minimumInputLength:1,initSelection:function(b,a){var c=e.select2("val");a(c)},ajax:{url:d.column.seloptions.url,dataType:"json",quietMillis:100,data:function(b,a){return{q:b,page_limit:10,page:a}},results:function(b,a){return{results:b.results,more:10*a<b.total}}},formatResult:function(b){return b[this.displayValue]},formatSelection:function(b){return b[this.displayValue]},id:function(b){return b.id}})}this.destroy=function(){c(e).select2("destroy");
e.remove();c(d.container).css("height","")};this.focus=function(){e.focus()};this.loadValue=function(b){c(e).select2("data",b[d.column.field]);f=b[d.column.field][d.column.seloptions.valueField]};this.serializeValue=function(){return serializedvalue=e.select2("data")};this.applyValue=function(b,a){b[d.column.field]=a};this.isValueChanged=function(){return c(e).select2("val")!=f};this.validate=function(){return{valid:!0,msg:null}}};this.init()},FileSizeEditor:function(d){var e;this.init=function(){e=
c("\x3cINPUT type\x3dtext class\x3d'editor-text' /\x3e").appendTo(d.container).bind("keydown.nav",function(d){d.keyCode!==c.ui.keyCode.LEFT&&d.keyCode!==c.ui.keyCode.RIGHT||d.stopImmediatePropagation()}).focus().select()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.getValue=function(){return e.val()};this.setValue=function(c){e.val(c)};this.loadValue=function(c){c=c[d.column.field]||"";c=Number(c);var r=["KB","MB","GB","TB","PB"],u=0;if(0==c)c="0 KB";else{for(;1024<=
c;)u++,c/=1024;c=Number(c)+" "+r[u]}e.val(c);e[0].defaultValue=c;e.select();return c};this.serializeValue=function(){var c=[],d=e.val(),c=d.match(new RegExp(/(^\d+(\.\d+)?)(\s+)?(KB|MB|GB|TB|PB)/i));switch(c[4].toUpperCase()){case "KB":d=Number(1024*c[1]);break;case "MB":d=Number(c[1]*Math.pow(1024,2));break;case "GB":d=Number(c[1]*Math.pow(1024,3));break;case "TB":d=Number(c[1]*Math.pow(1024,4));break;case "PB":d=Number(c[1]*Math.pow(1024,5))}return d=Math.floor(d/1024)};this.applyValue=function(c,
e){c[d.column.field]=e};this.isValueChanged=function(){return""!=e.val()&&void 0!=e.val()};this.validate=function(){if(d.column.validator){var c=d.column.validator(e.val());if(!c.valid)return c}return{valid:!0,msg:null}};this.init()},Checkbox:function(d){var e,f;this.init=function(){e=c("\x3cINPUT type\x3dcheckbox value\x3d'true' class\x3d'editor-checkbox' hideFocus\x3e");e.appendTo(d.container);e.focus()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.loadValue=function(c){(f=
!!c[d.column.field])?e.attr("checked","checked"):e.removeAttr("checked")};this.serializeValue=function(){return e.attr("checked")?!0:!1};this.applyValue=function(c,e){c[d.column.field]="checked"==e?!0:!1};this.isValueChanged=function(){return this.serializeValue()!==f};this.validate=function(){return{valid:!0,msg:null}};this.init()},PercentComplete:function(d){var e,f,r;this.init=function(){e=c("\x3cINPUT type\x3dtext class\x3d'editor-percentcomplete' /\x3e");e.width(c(d.container).innerWidth()-25);
e.appendTo(d.container);f=c("\x3cdiv class\x3d'editor-percentcomplete-picker' /\x3e").appendTo(d.container);f.append("\x3cdiv class\x3d'editor-percentcomplete-helper'\x3e\x3cdiv class\x3d'editor-percentcomplete-wrapper'\x3e\x3cdiv class\x3d'editor-percentcomplete-slider' /\x3e\x3cdiv class\x3d'editor-percentcomplete-buttons' /\x3e\x3c/div\x3e\x3c/div\x3e");f.find(".editor-percentcomplete-buttons").append("\x3cbutton val\x3d0\x3eNot started\x3c/button\x3e\x3cbr/\x3e\x3cbutton val\x3d50\x3eIn Progress\x3c/button\x3e\x3cbr/\x3e\x3cbutton val\x3d100\x3eComplete\x3c/button\x3e");
e.focus().select();f.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:r,slide:function(c,b){e.val(b.value)}});f.find(".editor-percentcomplete-buttons button").bind("click",function(d){e.val(c(this).attr("val"));f.find(".editor-percentcomplete-slider").slider("value",c(this).attr("val"))})};this.destroy=function(){e.remove();f.remove()};this.focus=function(){e.focus()};this.loadValue=function(c){e.val(r=c[d.column.field]);e.select()};this.serializeValue=function(){return parseInt(e.val(),
10)||0};this.applyValue=function(c,b){c[d.column.field]=b};this.isValueChanged=function(){return!(""==e.val()&&null==r)&&(parseInt(e.val(),10)||0)!=r};this.validate=function(){return isNaN(parseInt(e.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}};this.init()},LongText:function(d){var e,f,r,u=this;this.init=function(){var b=c("body");f=c("\x3cDIV style\x3d'z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/\x3e").appendTo(b);
e=c("\x3cTEXTAREA hidefocus rows\x3d5 style\x3d'backround:white;width:250px;height:80px;border:0;outline:0'\x3e").appendTo(f);c("\x3cDIV style\x3d'text-align:right'\x3e\x3cBUTTON\x3eSave\x3c/BUTTON\x3e\x3cBUTTON\x3eCancel\x3c/BUTTON\x3e\x3c/DIV\x3e").appendTo(f);f.find("button:first").bind("click",this.save);f.find("button:last").bind("click",this.cancel);e.bind("keydown",this.handleKeyDown);u.position(d.position);e.focus().select()};this.handleKeyDown=function(b){b.which==c.ui.keyCode.ENTER&&b.ctrlKey?
u.save():b.which==c.ui.keyCode.ESCAPE?(b.preventDefault(),u.cancel()):b.which==c.ui.keyCode.TAB&&b.shiftKey?(b.preventDefault(),d.grid.navigatePrev()):b.which==c.ui.keyCode.TAB&&(b.preventDefault(),d.grid.navigateNext())};this.save=function(){d.commitChanges()};this.cancel=function(){e.val(r);d.cancelChanges()};this.hide=function(){f.hide()};this.show=function(){f.show()};this.position=function(b){f.css("top",b.top-5).css("left",b.left-5)};this.destroy=function(){f.remove()};this.focus=function(){e.focus()};
this.loadValue=function(b){e.val(r=b[d.column.field]);e.select()};this.serializeValue=function(){return e.val()};this.applyValue=function(b,a){b[d.column.field]=a};this.isValueChanged=function(){return!(""==e.val()&&null==r)&&e.val()!=r};this.validate=function(){return{valid:!0,msg:null}};this.init()}}});
define("app/Basegrid","jquery jqueryui slick.grid plugins/slick.rowselectionmodel plugins/slick.headermenu slick.remotemodel slick.editors".split(" "),function(c,d,e,f,r,u,b){return function(a,b,c){a.ajaxSettings.traditional=!0;var d,t=new u;b.initHeaderMenu();a.map(b.getColumns(),function(b){0!=b.searchable&&a("#searchField").append(a("\x3coption\x3e\x3c/option\x3e").attr("value",void 0!=b.sfield?b.sfield:b.field).text(b.name))});a("#searchField").select2();t.setUrl(b.getUrl());var l=null;a("#openCreateButton").click(function(){var e=
new c("div.item-details-form-tmpl");a(e.getForm()).on("form-saved",function(c,f){if(void 0!=f.success&&0===f.success)dialog=a("\x3cdiv/\x3e"),a(dialog).attr("title",b.getErrorHeader()),a(dialog).append("\x3cp\x3e\x3c/p\x3e").append(document.createTextNode(f.errorMsg)),a(dialog).dialog({resizable:!1,height:150,closeText:"",modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("destroy")}}]});else{a(e.getForm()).find("input[name\x3did]").val(f.id);t.clear();var l=d.getViewport();t.ensureData(l.top,
l.bottom);d.updateRowCount();d.resizeCanvas();a(e.el).remove()}});e.enableForm();e.show(!0);return!1});a("#openDeleteButton").click(function(){var c=d.getSelectedRows()[0],e={},e=d.getDataItem(c),f=b.getDeleteText(e),c=a("\x3cdiv/\x3e");a(c).attr("title",f);a(c).attr("id","dialog-confirm");f=a("\x3cspan\x3e\x3c/span\x3e").addClass("ui-icon").addClass("ui-icon-alert");a(f).css({"float":"left",margin:"0 7px 20px 0"});a("\x3cp\x3e\x3c/p\x3e").append(f).append(b.getDialogText(e)).appendTo(a(c));a(c).dialog({resizable:!1,
height:150,closeText:"",modal:!0,buttons:{Yes:function(){a(this).dialog("close");a.ajax({success:function(){t.clear();var a=d.getViewport();t.ensureData(a.top,a.bottom)},method:"post",url:b.getUrl(),data:{id:e.id,action:"delete"}})},No:function(){a(this).dialog("close")}}});return!1});a("#openDetailsButton").click(function(){var e=d.getSelectedRows()[0],f=new c("div.item-details-form-tmpl");a(f.getForm()).on("form-saved",function(c,l){void 0!=l.success&&0===l.success?(dialog=a("\x3cdiv/\x3e"),a(dialog).attr("title",
b.getErrorHeader()),a(dialog).append("\x3cp\x3e\x3c/p\x3e").append(document.createTextNode(l.errorMsg)),a(dialog).dialog({resizable:!1,height:150,closeText:"",modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("destroy")}}]})):(d.invalidateRow(e),d.getData()[e]=l,d.render(),a(f.el).remove())});f.populate(d.getDataItem(e));f.enableForm();f.show()});a(b).on("row-saved",function(c,e,f){0===e.success?(dialog=a("\x3cdiv/\x3e"),a(dialog).attr("title",b.getErrorHeader()),a(dialog).append("\x3cp\x3e\x3c/p\x3e").append(document.createTextNode(e.errorMsg)),
a(dialog).dialog({resizable:!1,height:150,closeText:"",modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("destroy")}}]})):(d.invalidateRow(f),d.getData()[f]=e,console.dir(e),d.render());return!1});d=new e("#myGrid",t.data,b.getColumns(),b.getOptions());d.onViewportChanged.subscribe(function(a,b){var c=d.getViewport();t.ensureData(c.top,c.bottom)});d.onSort.subscribe(function(a,b){t.setSort(b.sortCols);var c=d.getViewport();t.ensureData(c.top,c.bottom)});t.onDataLoading.subscribe(function(){l||
(l=a("\x3cspan class\x3d'loading-indicator'\x3e\x3clabel\x3e"+b.getBufferText()+"\x3c/label\x3e\x3c/span\x3e").appendTo(document.body),a("#myGrid"),a(l).position({postition:"center",of:"#myGrid"}));l.show()});t.onDataLoaded.subscribe(function(a,b){for(var c=b.from;c<=b.to;c++)d.invalidateRow(c);d.updateRowCount();d.render();d.resizeCanvas();l.fadeOut()});d.setSelectionModel(new f);headerMenuPlugin=new r;headerMenuPlugin.onCommand.subscribe(function(a,b){t.setSort([{sortAsc:"sort-asc"==b.command,sortCol:{field:b.column.field}}]);
var c=d.getViewport();t.ensureData(c.top,c.bottom)});d.registerPlugin(headerMenuPlugin);t.setSearch("","t1.id");t.setSort([{field:"username",sortAsc:!0}]);d.setSortColumn("id",!1);d.setSortColumn("username",!1);d.onViewportChanged.notify();d.updateRowCount();a("#txtSearch").keyup(function(b){13==b.which&&(t.setSearch(a("#txtSearch").val(),a("#searchField").val()),b=d.getViewport(),t.ensureData(b.top,b.bottom))});a("#myGrid").show()}});